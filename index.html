<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <!-- Custom sandpit styles -->
    <link rel="stylesheet" href="/demo-assets/styles.css" />
    <!-- TinyMCE -->
    <link rel="stylesheet" href="/demo-assets/variables.css" />
    <link
      rel="stylesheet"
      type="text/css"
      id="mce-u0"
      href="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/skins/ui/oxide/skin.min.css" />
    <link rel="stylesheet" href="/demo-assets/skin-delta.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/tinymce.min.js"></script>
    <!-- -- TinyMCE Plugins -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/autolink/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/autoresize/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/link/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/media/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/directionality/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/lists/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/textpattern/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/wordcount/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/paste/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/hr/plugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/plugins/fullscreen/plugin.min.js"></script>
    <!-- Load TinyMCE -->
    <script src="/demo-assets/canvas-tinymce.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Canvas: Mock Environment</title>
  </head>

  <body class="primary-nav-expanded course-menu-expanded pages edit">
    <!-- Fake a Canvas LMS layout -->
    <div class="page-mock" id="application">
      <header class="leftnav ic-app-header" id="header">
        <img src="/icon/icon-512.png" alt="" />
        <a href="?" class="block-link"> Load All Blocks </a>
      </header>
      <header id="mobile-header" class="no-print">
        <button
          type="button"
          class="Button Button--icon-action-rev Button--large mobile-header-hamburger"
          style="cursor: not-allowed">
          <i class="icon-solid icon-hamburger"></i>
          <span class="screenreader-only">Dashboard</span>
        </button>
        <div class="mobile-header-space"></div>
        <a
          class="mobile-header-title expandable"
          style="cursor: not-allowed"
          role="button"
          aria-controls="mobileContextNavContainer">
          <div>Canvas Design Blocks</div>
          <div>Testing App: Mobile Header</div>
        </a>
      </header>
      <main id="wrapper" class="ic-Layout-wrapper">
        <div class="header-mock">
          <div class="ic-app-nav-toggle-and-crumbs no-print">
            <button
              id="courseMenuToggle"
              class="Button Button--link ic-app-course-nav-toggle">
              <i class="icon-hamburger" aria-hidden="true"></i>
            </button>
            <div class="ic-app-crumbs">
              <nav id="breadcrumbs">
                <ul>
                  <li class="home">
                    <a href="/"
                      ><span class="ellipsible"
                        ><i class="icon-home" title="My dashboard">
                          <span class="screenreader-only">My dashboard</span>
                        </i>
                      </span></a
                    >
                  </li>
                  <li>
                    <a style="cursor: not-allowed">GRID100</a>
                  </li>
                  <li>
                    <a style="cursor: not-allowed">Pages</a>
                  </li>
                  <li>Demo Page</li>
                </ul>
              </nav>
            </div>

            <div class="right-of-crumbs"></div>
          </div>
        </div>
        <div id="main" class="ic-Layout-columns">
          <div
            id="left-side"
            class="ic-app-course-menu ic-sticky-on list-view"
            style="display: block">
            <div id="sticky-container" class="ic-sticky-frame">
              <nav>
                <ul id="section-tabs">
                  <li class="section">
                    <a style="cursor: not-allowed" class="home" tabindex="0"
                      >Home</a
                    >
                  </li>
                  <li class="section">
                    <a
                      style="cursor: not-allowed"
                      class="announcements"
                      tabindex="0"
                      >Announcements</a
                    >
                  </li>
                </ul>
              </nav>
            </div>
          </div>

          <div id="content" class="ic-Layout-contentMain" role="main">
            <form class="form-horizontal edit-form validated-form-view">
              <div class="edit-content">
                <div class="edit-header">
                  <label for="title">Page title</label>
                  <input
                    type="text"
                    class="span4 title"
                    value="Demo Page"
                    disabled />
                </div>

                <div
                  id="tinymce-parent-of-wiki_page_body"
                  style="visibility: visible"
                  class="ic-RichContentEditor">
                  <div class="canvas-rce__skins--root rce-wrapper">
                    <div>
                      <textarea id="tinyCanvas" autocomplete="false">

                        <p>Welcome to the Design Blocks sandpit!</p>
                        <p>Here you can test out the different blocks and see how they look and feel.</p>
                      </textarea>
                      <!-- Sample starting content -->
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </main>
    </div>
    <script>
      // This script initializes the editor with either all blocks or a single block, depending on the URL.
      const url = new URL(window.location.href);
      const block = url.searchParams.get("block");

      window.ENV = {
        RICH_CONTENT_APP_HOST: true,
      };

      // The blocks are defined here.
      const blocks = {
        // --- BUTTON BAR ---
        buttonBar: `                        <div class="CDB--ButtonBar" data-cdb-id="IRJdHP_UttfEboubxTzt3" data-cdb-version="1.0.0" data-cdb-content="Simple"><span class="cdbData" style="display: none;">{"theme":"progress","position":0,"items":[{"moduleID":"2KFGDbd9Rpv_0u6jhWCOP","label":"Item 1","hide":false},{"moduleID":"aLh5Ym8ltbCK3oMZfMDAk","label":"Item 2","icon":{"type":2,"id":"Inst.Line.bold"},"hide":false},{"moduleID":"yI0Wbi2S5dxhp8ylRkBeN","label":"Item 3","icon":{"type":2,"id":"Inst.Line.wordpress"},"hide":false}],"color":"#6e6e6e"}</span> <div class="DesignBlocks--ButtonBar"> <div class="buttonBar buttonBar--progress"><a class="buttonBar--step moduleProgress--current" style="background-color: #6e6e6e; color: #ffffff;" title="Item 1" href="http://localhost:5173/#"><span class="buttonBar--label" style="color: #ffffff;"><span class="Module--info"><span class="Module--icon"><!--<IconElement>--></span> <span class="Module--label">Item 1</span></span></span> </a><a class="buttonBar--step moduleProgress--after" style="color: #000000;" title="Item 2" href="/src/lib/util/components/contentSearch/mock-assets/mock-00004.jpg"><span class="buttonBar--label"><span class="Module--info"><span class="Module--icon"><span class="cdb--icon" style="color: #000000" aria-hidden="true">Canvas.bold</span><!--<IconElement>--></span> <span class="Module--label">Item 2</span></span></span> </a><a class="buttonBar--step moduleProgress--after" style="color: #000000;" title="Item 3" href="https://google.com/"><span class="buttonBar--label"><span class="Module--info"><span class="Module--icon"><span class="cdb--icon" style="color: #000000" aria-hidden="true">Canvas.wordpress</span><!--<IconElement>--></span> <span class="Module--label">Item 3</span></span></span> </a></div> </div> <!--<ButtonBar>--></div>`,
        // --- BUTTON ---
        button: `<div class="CDB--Button" data-cdb-id="jy5e1nsLdGcKERv8KfRCY" data-cdb-version="1.0.0" data-cdb-content="Simple"><span class="cdbData" style="display: none;">{"title":"","label":"Button Text","size":"","target":"_self","fullWidth":false,"icon":{"id":"Inst.Line.canvas-logo","type":2},"color":"#000000","textColor":"#ffffff"}</span><a class="DesignBlocks--Btn " style="background-color: #000000; color: #ffffff;" href="#"><span class="cdb--icon" style="color: #ffffff" aria-hidden="true">Canvas.canvas-logo</span><!--<IconElement>--> <span class="text">Button Text</span></a><!--<Button>--></div>`,
        // --- CANVAS GRID ---
        grid: `<div class="canvas-grid-editor" data-cdb-version="1.1.0" data-cdb-id="iIaeeO7W5-tCi5uGmRUqL" data-cdb-content="element"> <div class="grid-row cdb-card" style="padding: 6px; margin: 0px; background: rgb(144, 195, 235); color: rgb(0, 0, 0);" data-cdb-id="XgQlIjxGqynm_kiNe4Gg1" data-cdb-content="element"> <div class="cgb-col col-xs-12 col-sm-12 col-md-4 col-lg-4" data-cdb-id="EDVFnN4LwuXNUtwIr0QZr" data-cdb-content="element"> <div class="cgb-col-inner cdb-card" style="padding: 5px; margin: 4px; background: rgb(255, 255, 255); color: rgb(0, 0, 0);"> <div class="cgb-empty-placeholder" style="display: none">&nbsp;</div> <p>Some Grid Contents&nbsp;<span class="CDB--Icon" data-cdb-id="W2o32LUY4NIPSSneLwrv0" data-cdb-version="1.0.0" data-cdb-content="Simple"><span class="cdbData" style="display: none;">{"theme":"Icon--default","icon":{"id":"icon1-153","type":2},"color":"#0b874b"}</span><span class="DesignBlocks--Icon Icon--default"><span class="cdb--icon" style="color: #0b874b" aria-hidden="true">General.noun_grid_view_307609</span><!--<IconElement>--></span><!--<Icon>--></span></p> </div> </div> <div class="cgb-col col-xs-12 col-sm-12 col-md-4 col-lg-4" data-cdb-id="Qd9EEQ-PmeFCXNlEEBS12" data-cdb-content="element"> <div class="cgb-col-inner"> <div class="cgb-empty-placeholder" style="display: none">&nbsp;</div> <p>&nbsp;</p> </div> </div> <div class="cgb-col col-xs-12 col-sm-12 col-md-4 col-lg-4" data-cdb-id="vErBuvjAdEbzNb2NyodKT" data-cdb-content="element"> <div class="cgb-col-inner"> <div class="cgb-empty-placeholder" style="display: none">&nbsp;</div> <p>&nbsp;</p> </div> </div> </div> </div>`,
        // --- COURSE HEADER ---
        courseHeader: `<div class="CourseHeader" data-cdb-id="dcCLqqT9yusX2fZPr-jEq" data-cdb-version="1.0.0" data-cdb-content="Simple" data-mce-style="" contenteditable="false"><span class="cdbData" style="display: none;">{"title":"Course Header Title","image":"","theme":"HeaderTheme-modern","level":"h2","icon":{"type":2,"id":"Inst.Line.canvas-logo","color":"#0b874b"},"links":[{"title":"Kanawehi\nCanvas","id":"zGiIQ-iiHJjnRdpnVB2h_"},{"title":"Akomanga\nClass","id":"gPE-WDlLGlsLlM-AUOUKT"}]}</span><div class="headerInner HeaderTheme-modern noImage" tabindex="0"><div class="iconComponent"><span class="cdb--icon" aria-hidden="true" data-mce-style="color: #0b874b" style="color: rgb(11, 135, 75);">Canvas.canvas-logo</span></div> <div class="iconOverlay"><span class="cdb--icon" aria-hidden="true" data-mce-style="color: #0b874b" style="color: rgb(11, 135, 75);">Canvas.canvas-logo</span></div>  <div class="overlay"><h2 class="headerTitle" contenteditable="true">Course Header Title</h2> <div class="headerOverview" contenteditable="true"><p>Welcome to this course! You can put any content you want here...</p></div> </div> <div class="headerLinks headerLinkTray"><a class="headerLink" href="http://localhost:5173/#" target="_blank" rel="noopener noreferrer"> <span class="headerLink--titles"><span class="headerLink--title">Kanawehi</span> <br><span class="headerLink--title">Canvas</span> </span> </a><a class="headerLink" href="http://localhost:5173/#" target="_blank" rel="noopener noreferrer"> <span class="headerLink--titles"><span class="headerLink--title">Akomanga</span> <br><span class="headerLink--title">Class</span> </span> </a></div></div></div>`,
        // --- ICON ---
        icon: `<h2><span class="CDB--Icon" data-cdb-id="lXXC2nzIeqk7ZFeooZLgL" data-cdb-version="1.0.0" data-cdb-content="Simple"><span class="cdbData" style="display: none;">{"theme":"Icon--default","icon":{"id":"Inst.Line.admin-tools","type":2},"color":"#0b874b"}</span><span class="DesignBlocks--Icon Icon--default"><span class="cdb--icon safeBackground" style="color: #0b874b" aria-hidden="true">Canvas.tools-admin</span><!--<IconElement>--></span><!--<Icon>--></span> Simple Icon Test</h2>`,
        // --- IMAGE CARD ---
        imageCard: `<div class="ImageCards" data-cdb-id="mmkOYvyeVMX6vc2G6STUP" data-cdb-version="1.0.0" data-cdb-content="Simple"><span class="cdbData" style="display: none;">{"size":"imageCardSize--small","theme":"imageCardTheme--icon","cards":[{"label":"Insert Label Here","id":"poQ7nvUXmI1lvz4lVq9oK","icon":{"id":"Inst.Line.bold","color":"#0b874b","type":2}},{"label":"Insert Label Here","id":"i8aPkxjBG_SUE18bEPx7n","icon":{"id":"Inst.Line.certified","color":"#0b874b","type":2}}]}</span> <div class="ImageCards--row imageCardTheme--icon imageCardSize--small"><a class="ImageCard" href="https://google.com/" data-cdb-id="poQ7nvUXmI1lvz4lVq9oK"><span class="ImageCardIcon"><span class="cdb--icon" style="color: #0b874b" aria-hidden="true">Canvas.bold</span><!--<IconElement>--></span> <span class="ImageCardLabel"><span class="ImageCardLabelLine">Insert Label Here</span> </span> </a><a class="ImageCard" href="/src/lib/util/components/contentSearch/mock-assets/mock-00004.jpg" data-cdb-id="i8aPkxjBG_SUE18bEPx7n"><span class="ImageCardIcon"><span class="cdb--icon" style="color: #0b874b" aria-hidden="true">Canvas.certified</span><!--<IconElement>--></span> <span class="ImageCardLabel"><span class="ImageCardLabelLine">Insert Label Here</span> </span> </a></div> <!--<ImageCardInner>--></div>`,
        // --- PROFILES ---
        profiles: `<div class="Profiles" data-cdb-id="ac_UJY2hkY0xpYHQvX960" data-cdb-version="1.0.0" data-cdb-content="Simple"><span class="cdbData" style="display: none;">[{"firstName":"New Person 1","lastName":"","firstNameLastName":"New Person 1","id":"0GhhKDtZYSLW_f4ZF6Z9J","canvasId":"-1","showOverview":true,"showBioTitle":true,"emailAddress":{"address":"email@example.com"}}]</span> <div class="profileItem"> <div class="card" style="background-color: #00457c;"><img class="profile-photo" role="button" src="http://localhost:5173/src/lib/elements/profiles/blank-user.png" alt="Photo of New Person 1" /> <div class="details"> <h4 class="name">New Person 1</h4> <div class="email"> <p>email@example.com</p> </div> </div> </div> <div class="bio"> <h4>Bio</h4> <div class="bioContent"> <p>No bio available...</p> </div> </div> </div> <!--<ProfileInner>--></div>`,
      };

      if (blocks[block]) {
        document.getElementById("tinyCanvas").value += blocks[block];
      } else {
        Object.entries(blocks).forEach(([key, value]) => {
          document.getElementById("tinyCanvas").value += value;
        });
      }

      // Add links to header
      const header = document.getElementById("header");
      for (blockName in blocks) {
        const link = document.createElement("a");
        link.href = `?block=${blockName}`;
        link.textContent = `Load ${blockName}`;
        link.classList.add("block-link");
        if (block === blockName) {
          link.classList.add("active");
        }
        header.appendChild(link);
      }
    </script>
    <script type="module">
      import { loadApp } from "/src/desktop.ts";
    </script>
  </body>
</html>
