var la=Object.defineProperty;var aa=(n,e,t)=>e in n?la(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var oi=(n,e,t)=>(aa(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function z(){}const Kn=n=>n;function ln(n,e){for(const t in e)n[t]=e[t];return n}function ca(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function ll(n){return n()}function dr(){return Object.create(null)}function pe(n){n.forEach(ll)}function vt(n){return typeof n=="function"}function ve(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let gn;function xe(n,e){return n===e?!0:(gn||(gn=document.createElement("a")),gn.href=e,n===gn.href)}function da(n){return Object.keys(n).length===0}function Be(n,...e){if(n==null){for(const i of e)i(void 0);return z}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ue(n){let e;return Be(n,t=>e=t)(),e}function an(n,e,t){n.$$.on_destroy.push(Be(e,t))}function Ke(n,e,t,i){if(n){const r=al(n,e,t,i);return n[0](r)}}function al(n,e,t,i){return n[1]&&i?ln(t.ctx.slice(),n[1](i(e))):t.ctx}function Qe(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let l=0;l<s;l+=1)o[l]=e.dirty[l]|r[l];return o}return e.dirty|r}return e.dirty}function Ze(n,e,t,i,r,o){if(r){const s=al(e,t,i,o);n.p(s,r)}}function Je(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function ur(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function fr(n){return n==null?"":n}function _e(n,e,t){return n.set(t),e}function Gt(n){return n&&vt(n.destroy)?n.destroy:z}const cl=typeof window!="undefined";let zi=cl?()=>window.performance.now():()=>Date.now(),Ri=cl?n=>requestAnimationFrame(n):z;const Ft=new Set;function dl(n){Ft.forEach(e=>{e.c(n)||(Ft.delete(e),e.f())}),Ft.size!==0&&Ri(dl)}function qi(n){let e;return Ft.size===0&&Ri(dl),{promise:new Promise(t=>{Ft.add(e={c:n,f:t})}),abort(){Ft.delete(e)}}}function v(n,e){n.appendChild(e)}function ul(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function ua(n){const e=k("style");return e.textContent="/* empty */",fa(ul(n),e),e.sheet}function fa(n,e){return v(n.head||n,e),e.sheet}function D(n,e,t){n.insertBefore(e,t||null)}function S(n){n.parentNode&&n.parentNode.removeChild(n)}function qe(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function k(n){return document.createElement(n)}function En(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Y(n){return document.createTextNode(n)}function A(){return Y(" ")}function Pe(){return Y("")}function q(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function fl(n){return function(e){return e.preventDefault(),n.call(this,e)}}function _t(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function f(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function ml(n){let e;return{p(...t){e=t,e.forEach(i=>n.push(i))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function Ye(n){return n===""?null:+n}function ma(n){return Array.from(n.childNodes)}function ge(n,e){e=""+e,n.data!==e&&(n.data=e)}function de(n,e){n.value=e==null?"":e}function ee(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function K(n,e,t){n.classList.toggle(e,!!t)}function hl(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}function Sn(n,e){return new n(e)}const Dn=new Map;let Mn=0;function ha(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function pa(n,e){const t={stylesheet:ua(e),rules:{}};return Dn.set(n,t),t}function An(n,e,t,i,r,o,s,l=0){const a=16.666/i;let c=`{
`;for(let y=0;y<=1;y+=a){const g=e+(t-e)*o(y);c+=y*100+`%{${s(g,1-g)}}
`}const d=c+`100% {${s(t,1-t)}}
}`,u=`__svelte_${ha(d)}_${l}`,m=ul(n),{stylesheet:p,rules:h}=Dn.get(m)||pa(m,n);h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const _=n.style.animation||"";return n.style.animation=`${_?`${_}, `:""}${u} ${i}ms linear ${r}ms 1 both`,Mn+=1,u}function Hn(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),Mn-=r,Mn||ga())}function ga(){Ri(()=>{Mn||(Dn.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&S(e)}),Dn.clear())})}let cn;function mt(n){cn=n}function Qn(){if(!cn)throw new Error("Function called outside component initialization");return cn}function ba(n){Qn().$$.on_mount.push(n)}function Ue(n){Qn().$$.on_destroy.push(n)}function Re(){const n=Qn();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const o=hl(e,t,{cancelable:i});return r.slice().forEach(s=>{s.call(n,o)}),!o.defaultPrevented}return!0}}function mn(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const qt=[],ce=[];let Vt=[];const ki=[],pl=Promise.resolve();let yi=!1;function gl(){yi||(yi=!0,pl.then(Ve))}function va(){return gl(),pl}function he(n){Vt.push(n)}function De(n){ki.push(n)}const si=new Set;let Nt=0;function Ve(){if(Nt!==0)return;const n=cn;do{try{for(;Nt<qt.length;){const e=qt[Nt];Nt++,mt(e),_a(e.$$)}}catch(e){throw qt.length=0,Nt=0,e}for(mt(null),qt.length=0,Nt=0;ce.length;)ce.pop()();for(let e=0;e<Vt.length;e+=1){const t=Vt[e];si.has(t)||(si.add(t),t())}Vt.length=0}while(qt.length);for(;ki.length;)ki.pop()();yi=!1,si.clear(),mt(n)}function _a(n){if(n.fragment!==null){n.update(),pe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(he)}}function wa(n){const e=[],t=[];Vt.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Vt=e}let tn;function ji(){return tn||(tn=Promise.resolve(),tn.then(()=>{tn=null})),tn}function St(n,e,t){n.dispatchEvent(hl(`${e?"intro":"outro"}${t}`))}const In=new Set;let lt;function oe(){lt={r:0,c:[],p:lt}}function se(){lt.r||pe(lt.c),lt=lt.p}function B(n,e){n&&n.i&&(In.delete(n),n.i(e))}function H(n,e,t,i){if(n&&n.o){if(In.has(n))return;In.add(n),lt.c.push(()=>{In.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const Fi={duration:0};function Xe(n,e,t){const i={direction:"in"};let r=e(n,t,i),o=!1,s,l,a=0;function c(){s&&Hn(n,s)}function d(){const{delay:m=0,duration:p=300,easing:h=Kn,tick:_=z,css:y}=r||Fi;y&&(s=An(n,0,1,p,m,h,y,a++)),_(0,1);const g=zi()+m,b=g+p;l&&l.abort(),o=!0,he(()=>St(n,!0,"start")),l=qi(w=>{if(o){if(w>=b)return _(1,0),St(n,!0,"end"),c(),o=!1;if(w>=g){const I=h((w-g)/p);_(I,1-I)}}return o})}let u=!1;return{start(){u||(u=!0,Hn(n),vt(r)?(r=r(i),ji().then(d)):d())},invalidate(){u=!1},end(){o&&(c(),o=!1)}}}function Zn(n,e,t){const i={direction:"out"};let r=e(n,t,i),o=!0,s;const l=lt;l.r+=1;let a;function c(){const{delay:d=0,duration:u=300,easing:m=Kn,tick:p=z,css:h}=r||Fi;h&&(s=An(n,1,0,u,d,m,h));const _=zi()+d,y=_+u;he(()=>St(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),qi(g=>{if(o){if(g>=y)return p(0,1),St(n,!1,"end"),--l.r||pe(l.c),!1;if(g>=_){const b=m((g-_)/u);p(1-b,b)}}return o})}return vt(r)?ji().then(()=>{r=r(i),c()}):c(),{end(d){d&&"inert"in n&&(n.inert=a),d&&r.tick&&r.tick(1,0),o&&(s&&Hn(n,s),o=!1)}}}function Ce(n,e,t,i){let o=e(n,t,{direction:"both"}),s=i?0:1,l=null,a=null,c=null,d;function u(){c&&Hn(n,c)}function m(h,_){const y=h.b-s;return _*=Math.abs(y),{a:s,b:h.b,d:y,duration:_,start:h.start,end:h.start+_,group:h.group}}function p(h){const{delay:_=0,duration:y=300,easing:g=Kn,tick:b=z,css:w}=o||Fi,I={start:zi()+_,b:h};h||(I.group=lt,lt.r+=1),"inert"in n&&(h?d!==void 0&&(n.inert=d):(d=n.inert,n.inert=!0)),l||a?a=I:(w&&(u(),c=An(n,s,h,y,_,g,w)),h&&b(0,1),l=m(I,y),he(()=>St(n,h,"start")),qi(C=>{if(a&&C>a.start&&(l=m(a,y),a=null,St(n,l.b,"start"),w&&(u(),c=An(n,s,l.b,l.duration,0,g,o.css))),l){if(C>=l.end)b(s=l.b,1-s),St(n,l.b,"end"),a||(l.b?u():--l.group.r||pe(l.group.c)),l=null;else if(C>=l.start){const L=C-l.start;s=l.a+l.d*g(L/l.duration),b(s,1-s)}}return!!(l||a)}))}return{run(h){vt(o)?ji().then(()=>{o=o({direction:h?"in":"out"}),p(h)}):p(h)},end(){u(),l=a=null}}}function st(n,e){const t=e.token={};function i(r,o,s,l){if(e.token!==t)return;e.resolved=l;let a=e.ctx;s!==void 0&&(a=a.slice(),a[s]=l);const c=r&&(e.current=r)(a);let d=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==o&&u&&(oe(),H(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),se())}):e.block.d(1),c.c(),B(c,1),c.m(e.mount(),e.anchor),d=!0),e.block=c,e.blocks&&(e.blocks[o]=c),d&&Ve()}if(ca(n)){const r=Qn();if(n.then(o=>{mt(r),i(e.then,1,e.value,o),mt(null)},o=>{if(mt(r),i(e.catch,2,e.error,o),mt(null),!e.hasCatch)throw o}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,n),!0;e.resolved=n}}function Xt(n,e,t){const i=e.slice(),{resolved:r}=n;n.current===n.then&&(i[n.value]=r),n.current===n.catch&&(i[n.error]=r),n.block.p(i,t)}function be(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Vi(n,e){n.d(1),e.delete(n.key)}function Ui(n,e,t,i,r,o,s,l,a,c,d,u){let m=n.length,p=o.length,h=m;const _={};for(;h--;)_[n[h].key]=h;const y=[],g=new Map,b=new Map,w=[];for(h=p;h--;){const E=u(r,o,h),T=t(E);let O=s.get(T);O?i&&w.push(()=>O.p(E,e)):(O=c(T,E),O.c()),g.set(T,y[h]=O),T in _&&b.set(T,Math.abs(h-_[T]))}const I=new Set,C=new Set;function L(E){B(E,1),E.m(l,d),s.set(E.key,E),d=E.first,p--}for(;m&&p;){const E=y[p-1],T=n[m-1],O=E.key,M=T.key;E===T?(d=E.first,m--,p--):g.has(M)?!s.has(O)||I.has(O)?L(E):C.has(M)?m--:b.get(O)>b.get(M)?(C.add(O),L(E)):(I.add(M),m--):(a(T,s),m--)}for(;m--;){const E=n[m];g.has(E.key)||a(E,s)}for(;p;)L(y[p-1]);return pe(w),y}function bl(n,e){const t={},i={},r={$$scope:1};let o=n.length;for(;o--;){const s=n[o],l=e[o];if(l){for(const a in s)a in l||(i[a]=1);for(const a in l)r[a]||(t[a]=l[a],r[a]=1);n[o]=l}else for(const a in s)r[a]=1}for(const s in i)s in t||(t[s]=void 0);return t}function vl(n){return typeof n=="object"&&n!==null?n:{}}function Me(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function le(n){n&&n.c()}function ie(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),he(()=>{const o=n.$$.on_mount.map(ll).filter(vt);n.$$.on_destroy?n.$$.on_destroy.push(...o):pe(o),n.$$.on_mount=[]}),r.forEach(he)}function re(n,e){const t=n.$$;t.fragment!==null&&(wa(t.after_update),pe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ka(n,e){n.$$.dirty[0]===-1&&(qt.push(n),gl(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ye(n,e,t,i,r,o,s=null,l=[-1]){const a=cn;mt(n);const c=n.$$={fragment:null,ctx:[],props:o,update:z,not_equal:r,bound:dr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:dr(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let d=!1;if(c.ctx=t?t(n,e.props||{},(u,m,...p)=>{const h=p.length?p[0]:m;return c.ctx&&r(c.ctx[u],c.ctx[u]=h)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](h),d&&ka(n,u)),m}):[],c.update(),d=!0,pe(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const u=ma(e.target);c.fragment&&c.fragment.l(u),u.forEach(S)}else c.fragment&&c.fragment.c();e.intro&&B(n.$$.fragment),ie(n,e.target,e.anchor),Ve()}mt(a)}class Ie{constructor(){oi(this,"$$");oi(this,"$$set")}$destroy(){re(this,1),this.$destroy=z}$on(e,t){if(!vt(t))return z;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!da(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ya="4",zt=[];function Pn(n,e){return{subscribe:we(n,e).subscribe}}function we(n,e=z){let t;const i=new Set;function r(l){if(ve(n,l)&&(n=l,t)){const a=!zt.length;for(const c of i)c[1](),zt.push(c,n);if(a){for(let c=0;c<zt.length;c+=2)zt[c][0](zt[c+1]);zt.length=0}}}function o(l){r(l(n))}function s(l,a=z){const c=[l,a];return i.add(c),i.size===1&&(t=e(r,o)||z),l(n),()=>{i.delete(c),i.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:s}}function Ge(n,e,t){const i=!Array.isArray(n),r=i?[n]:n;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Pn(t,(s,l)=>{let a=!1;const c=[];let d=0,u=z;const m=()=>{if(d)return;u();const h=e(i?c[0]:c,s,l);o?s(h):u=vt(h)?h:z},p=r.map((h,_)=>Be(h,y=>{c[_]=y,d&=~(1<<_),a&&m()},()=>{d|=1<<_}));return a=!0,m(),function(){pe(p),u(),a=!1}})}const Ia="@font-face { font-family: 'BlocksIcons'; src:  url('/assets/iconFont-_z5zsqgB.woff2') format('woff2'), url('/assets/iconFont-AMgzYaoX.woff') format('woff'), url('/assets/iconFont-rqt8hR3C.ttf') format('truetype'); font-display: block;}",Ca="*,:before,:after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ya);const hn=(n,e=!1)=>{let t=["click","submit","touchstart","mousedown"];e&&t.push("touchend","mouseup","dragover","dragenter","dragend","drag","drop"),t.forEach(i=>n.addEventListener(i,r=>(r.stopPropagation(),!1)))},La="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='a'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20152.13%20152.15'%3e%3cdefs%3e%3cstyle%3e.c{fill:%23fff;}%3c/style%3e%3c/defs%3e%3cg%20id='b'%3e%3cg%3e%3cg%3e%3cpath%20class='c'%20d='M51.67,100.49v18.04h-15.18c-1.02,0-1.91-.71-2.11-1.69-.5-2.42-.75-4.89-.75-7.33s.25-4.91,.75-7.33c.2-.98,1.09-1.69,2.11-1.69h15.18m5.13-5.13h-20.31c-3.44,0-6.44,2.41-7.13,5.79-.55,2.7-.85,5.49-.85,8.36s.3,5.66,.85,8.36c.69,3.37,3.69,5.79,7.13,5.79h20.31v-28.29h0Z'/%3e%3cpath%20class='c'%20d='M115.65,100.49c1.02,0,1.91,.71,2.11,1.69,.5,2.42,.75,4.89,.75,7.33s-.25,4.91-.75,7.33c-.2,.98-1.09,1.69-2.11,1.69h-48.6v-18.04h48.6m0-5.13H61.92v28.29h53.73c3.44,0,6.44-2.41,7.13-5.79,.55-2.7,.85-5.49,.85-8.36s-.3-5.66-.85-8.36c-.69-3.37-3.69-5.79-7.13-5.79h0Z'/%3e%3c/g%3e%3cg%3e%3cpath%20class='c'%20d='M51.67,67.07v18.04h-15.18c-1.02,0-1.91-.71-2.11-1.69-.5-2.42-.75-4.89-.75-7.33s.25-4.91,.75-7.33c.2-.98,1.09-1.69,2.11-1.69h15.18m5.13-5.13h-20.31c-3.44,0-6.44,2.41-7.13,5.79-.55,2.7-.85,5.49-.85,8.36s.3,5.66,.85,8.36c.69,3.37,3.69,5.79,7.13,5.79h20.31v-28.29h0Z'/%3e%3cpath%20class='c'%20d='M115.65,67.07c1.02,0,1.91,.71,2.11,1.69,.5,2.42,.75,4.89,.75,7.33s-.25,4.91-.75,7.33c-.2,.98-1.09,1.69-2.11,1.69h-15.18v-18.04h15.18m0-5.13h-20.31v28.29h20.31c3.44,0,6.44-2.41,7.13-5.79,.55-2.7,.85-5.49,.85-8.36s-.3-5.66-.85-8.36c-.69-3.37-3.69-5.79-7.13-5.79h0Z'/%3e%3cpath%20class='c'%20d='M85.08,67.07v18.04h-18.04v-18.04h18.04m5.13-5.13h-28.29v28.29h28.29v-28.29h0Z'/%3e%3c/g%3e%3cg%3e%3cpath%20class='c'%20d='M85.08,33.66v18.04H36.48c-1.02,0-1.91-.71-2.11-1.69-.5-2.42-.75-4.89-.75-7.33s.25-4.91,.75-7.33c.2-.98,1.09-1.69,2.11-1.69h48.6m5.13-5.13H36.48c-3.44,0-6.44,2.41-7.13,5.79-.55,2.7-.85,5.49-.85,8.36s.3,5.66,.85,8.36c.69,3.37,3.69,5.79,7.13,5.79h53.73V28.53h0Z'/%3e%3cpath%20class='c'%20d='M115.65,33.66c1.02,0,1.91,.71,2.11,1.69,.5,2.42,.75,4.89,.75,7.33s-.25,4.91-.75,7.33c-.2,.98-1.09,1.69-2.11,1.69h-15.18v-18.04h15.18m0-5.13h-20.31v28.29h20.31c3.44,0,6.44-2.41,7.13-5.79,.55-2.7,.85-5.49,.85-8.36s-.3-5.66-.85-8.36c-.69-3.37-3.69-5.79-7.13-5.79h0Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function Ba(n){const e=n-1;return e*e*e+1}function Se(n,{delay:e=0,duration:t=400,easing:i=Kn}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:o=>`opacity: ${o*r}`}}function He(n,{delay:e=0,duration:t=400,easing:i=Ba,axis:r="y"}={}){const o=getComputedStyle(n),s=+o.opacity,l=r==="y"?"height":"width",a=parseFloat(o[l]),c=r==="y"?["top","bottom"]:["left","right"],d=c.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),u=parseFloat(o[`padding${d[0]}`]),m=parseFloat(o[`padding${d[1]}`]),p=parseFloat(o[`margin${d[0]}`]),h=parseFloat(o[`margin${d[1]}`]),_=parseFloat(o[`border${d[0]}Width`]),y=parseFloat(o[`border${d[1]}Width`]);return{delay:e,duration:t,easing:i,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};${l}: ${g*a}px;padding-${c[0]}: ${g*u}px;padding-${c[1]}: ${g*m}px;margin-${c[0]}: ${g*p}px;margin-${c[1]}: ${g*h}px;border-${c[0]}-width: ${g*_}px;border-${c[1]}-width: ${g*y}px;`}}var Ta=['"Modern" is now the default header theme - give it a go! Pasting into header blocks also now works as expected.'];const Mt="2.11.2",Ea=Ta,mr="2.11.2";let ke=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");const Sa=n=>({}),hr=n=>({});function Da(n){let e,t,i,r,o,s,l,a,c;const d=n[3].name,u=Ke(d,n,n[2],hr);return{c(){e=k("div"),t=k("button"),i=k("h3"),u&&u.c(),r=A(),o=k("div"),o.innerHTML='<div class="icon"><i class="icon-line icon-add" aria-hidden="true"></i></div>',f(i,"class","element-name svelte-1wah7l"),f(o,"class","add-button"),f(t,"class","pane svelte-1wah7l"),f(t,"title",s="Add "+n[0]),f(t,"draggable","true"),f(e,"class","cgb-component")},m(m,p){D(m,e,p),v(e,t),v(t,i),u&&u.m(i,null),v(t,r),v(t,o),l=!0,a||(c=[q(t,"click",n[4]),q(t,"dragstart",n[5])],a=!0)},p(m,[p]){u&&u.p&&(!l||p&4)&&Ze(u,d,m,m[2],l?Qe(d,m[2],p,Sa):Je(m[2]),hr),(!l||p&1&&s!==(s="Add "+m[0]))&&f(t,"title",s)},i(m){l||(B(u,m),l=!0)},o(m){H(u,m),l=!1},d(m){m&&S(e),u&&u.d(m),a=!1,pe(c)}}}function Ma(n,e,t){let{$$slots:i={},$$scope:r}=e,{name:o="Element"}=e;const s=Re(),l=()=>s("add"),a=c=>{if(!c.dataTransfer)return;const d=`cdb-${ke()}`;c.dataTransfer.setData("cdb-element/name",o),c.dataTransfer.setData("cdb-element/id",d),c.dataTransfer.setData("text/plain",""),c.dataTransfer.setData("text/html",`<span id="${d}" data-mce-type="bookmark" style="overflow:hidden;line-height:0px"></span>`),c.dataTransfer.effectAllowed="copy",c.dataTransfer.dropEffect="copy"};return n.$$set=c=>{"name"in c&&t(0,o=c.name),"$$scope"in c&&t(2,r=c.$$scope)},[o,s,r,i,l,a]}class Aa extends Ie{constructor(e){super(),ye(this,e,Ma,Da,ve,{name:0})}}window.dataLayer=window.dataLayer||[];function Cn(){var n;(n=window.dataLayer)==null||n.push(arguments)}var li={local:{},session:{}};function Ha(n){return n==="local"?localStorage:sessionStorage}function ct(n,e,t){var i,r,o,s;const l=(i=t==null?void 0:t.serializer)!=null?i:JSON,a=(r=t==null?void 0:t.storage)!=null?r:"local",c=(o=t==null?void 0:t.syncTabs)!=null?o:!0,d=(s=t==null?void 0:t.onError)!=null?s:_=>console.error(`Error when writing value from persisted store "${n}" to ${a}`,_),u=typeof window!="undefined"&&typeof document!="undefined",m=u?Ha(a):null;function p(_,y){try{m==null||m.setItem(_,l.stringify(y))}catch(g){d(g)}}function h(){const _=m==null?void 0:m.getItem(n);return _?l.parse(_):e}if(!li[a][n]){const _=h(),y=we(_,w=>{if(u&&a=="local"&&c){const I=C=>{C.key===n&&w(C.newValue?l.parse(C.newValue):null)};return window.addEventListener("storage",I),()=>window.removeEventListener("storage",I)}}),{subscribe:g,set:b}=y;li[a][n]={set(w){b(w),p(n,w)},update(w){return y.update(I=>{const C=w(I);return p(n,C),C})},subscribe:g}}return li[a][n]}const Pa=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,pr=n=>{if(typeof n!="string")throw new TypeError("Invalid argument expected string");const e=n.match(Pa);if(!e)throw new Error(`Invalid argument not valid semver ('${n}' received)`);return e.shift(),e},gr=n=>n==="*"||n==="x"||n==="X",br=n=>{const e=parseInt(n,10);return isNaN(e)?n:e},Oa=(n,e)=>typeof n!=typeof e?[String(n),String(e)]:[n,e],Na=(n,e)=>{if(gr(n)||gr(e))return 0;const[t,i]=Oa(br(n),br(e));return t>i?1:t<i?-1:0},vr=(n,e)=>{for(let t=0;t<Math.max(n.length,e.length);t++){const i=Na(n[t]||"0",e[t]||"0");if(i!==0)return i}return 0},_l=(n,e)=>{const t=pr(n),i=pr(e),r=t.pop(),o=i.pop(),s=vr(t,i);return s!==0?s:r&&o?vr(r.split("."),o.split(".")):r||o?r?-1:1:0};var za={BASE_URL:"/",MODE:"sandpit",DEV:!1,PROD:!0,SSR:!1};function _r(n,e,t){const i=n.slice();return i[17]=e[t],i}function wr(n){let e,t,i;return{c(){e=k("div"),f(e,"class","update-ping svelte-4r39sm"),f(e,"title","Update available!")},m(r,o){D(r,e,o),i=!0},i(r){i||(t&&t.end(1),i=!0)},o(r){r&&(t=Zn(e,Se,{})),i=!1},d(r){r&&S(e),r&&t&&t.end()}}}function kr(n){let e,t,i,r,o,s,l,a,c,d,u=n[4]&&yr(n),m=n[7]&&Ir(n),p=be(n[0]),h=[];for(let y=0;y<p.length;y+=1)h[y]=Lr(_r(n,p,y));const _=y=>H(h[y],1,1,()=>{h[y]=null});return{c(){u&&u.c(),e=A(),m&&m.c(),t=A(),i=k("div");for(let y=0;y<h.length;y+=1)h[y].c();r=A(),o=k("div"),s=k("a"),s.innerHTML='<span class="text-primary">Feedback</span>',l=A(),a=k("span"),a.textContent=`v${Mt}`,f(s,"href",za.CANVAS_BLOCKS_THEME_CONTACT_LINK),f(s,"target","_blank"),f(a,"class","version svelte-4r39sm"),f(o,"class","info-panel svelte-4r39sm"),f(i,"class","toolbar-menu svelte-4r39sm")},m(y,g){u&&u.m(y,g),D(y,e,g),m&&m.m(y,g),D(y,t,g),D(y,i,g);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(i,null);v(i,r),v(i,o),v(o,s),v(o,l),v(o,a),d=!0},p(y,g){if(y[4]?u?(u.p(y,g),g&16&&B(u,1)):(u=yr(y),u.c(),B(u,1),u.m(e.parentNode,e)):u&&(oe(),H(u,1,1,()=>{u=null}),se()),y[7]?m?(m.p(y,g),g&128&&B(m,1)):(m=Ir(y),m.c(),B(m,1),m.m(t.parentNode,t)):m&&(oe(),H(m,1,1,()=>{m=null}),se()),g&1025){p=be(y[0]);let b;for(b=0;b<p.length;b+=1){const w=_r(y,p,b);h[b]?(h[b].p(w,g),B(h[b],1)):(h[b]=Lr(w),h[b].c(),B(h[b],1),h[b].m(i,r))}for(oe(),b=p.length;b<h.length;b+=1)_(b);se()}},i(y){if(!d){B(u),B(m);for(let g=0;g<p.length;g+=1)B(h[g]);he(()=>{d&&(c||(c=Ce(i,He,{},!0)),c.run(1))}),d=!0}},o(y){H(u),H(m),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)H(h[g]);c||(c=Ce(i,He,{},!1)),c.run(0),d=!1},d(y){y&&(S(e),S(t),S(i)),u&&u.d(y),m&&m.d(y),qe(h,y),y&&c&&c.end()}}}function yr(n){let e,t,i,r,o,s,l,a,c,d;return{c(){e=k("div"),t=k("h3"),t.textContent=`Design Blocks ${Mt}`,i=A(),r=k("p"),r.textContent=`${Ea||"This new version of Design Blocks contains minor bug fixes and improvements."}`,o=A(),s=k("button"),s.innerHTML=`<i class="icon icon-Solid icon-heart svelte-4r39sm"></i>
          Got it!`,f(t,"class","svelte-4r39sm"),f(r,"class","svelte-4r39sm"),f(s,"class","svelte-4r39sm"),f(e,"class","new-popup svelte-4r39sm")},m(u,m){D(u,e,m),v(e,t),v(e,i),v(e,r),v(e,o),v(e,s),a=!0,c||(d=q(s,"click",n[13]),c=!0)},p:z,i(u){a||(he(()=>{a&&(l||(l=Ce(e,He,{},!0)),l.run(1))}),a=!0)},o(u){l||(l=Ce(e,He,{},!1)),l.run(0),a=!1},d(u){u&&S(e),u&&l&&l.end(),c=!1,d()}}}function Ir(n){let e,t,i,r;var o=n[7].component;function s(l,a){return{props:{props:l[7].props}}}return o&&(t=Sn(o,s(n))),{c(){e=k("div"),t&&le(t.$$.fragment),f(e,"class","toolbar-menu advanced-settings svelte-4r39sm")},m(l,a){D(l,e,a),t&&ie(t,e,null),r=!0},p(l,a){if(a&128&&o!==(o=l[7].component)){if(t){oe();const c=t;H(c.$$.fragment,1,0,()=>{re(c,1)}),se()}o?(t=Sn(o,s(l)),le(t.$$.fragment),B(t.$$.fragment,1),ie(t,e,null)):t=null}else if(o){const c={};a&128&&(c.props=l[7].props),t.$set(c)}},i(l){r||(t&&B(t.$$.fragment,l),he(()=>{r&&(i||(i=Ce(e,He,{},!0)),i.run(1))}),r=!0)},o(l){t&&H(t.$$.fragment,l),i||(i=Ce(e,He,{},!1)),i.run(0),r=!1},d(l){l&&S(e),t&&re(t),l&&i&&i.end()}}}function Cr(n){let e,t=n[17].icon+"",i;return{c(){e=k("span"),i=Y(t),f(e,"class","cdb--icon toolbar-icon svelte-4r39sm")},m(r,o){D(r,e,o),v(e,i)},p(r,o){o&1&&t!==(t=r[17].icon+"")&&ge(i,t)},d(r){r&&S(e)}}}function Ra(n){let e,t=n[17].elementName+"",i,r=n[17].icon&&Cr(n);return{c(){r&&r.c(),e=A(),i=Y(t)},m(o,s){r&&r.m(o,s),D(o,e,s),D(o,i,s)},p(o,s){o[17].icon?r?r.p(o,s):(r=Cr(o),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s&1&&t!==(t=o[17].elementName+"")&&ge(i,t)},d(o){o&&(S(e),S(i)),r&&r.d(o)}}}function Lr(n){let e,t;function i(){return n[14](n[17])}return e=new Aa({props:{name:n[17].elementName,$$slots:{name:[Ra]},$$scope:{ctx:n}}}),e.$on("add",i),{c(){le(e.$$.fragment)},m(r,o){ie(e,r,o),t=!0},p(r,o){n=r;const s={};o&1&&(s.name=n[17].elementName),o&1048577&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function qa(n){let e,t,i,r,o,s,l,a,c,d,u,m=n[4]&&wr(),p=n[3]&&kr(n);return{c(){e=k("div"),t=k("button"),i=k("div"),i.textContent="Design Blocks",r=A(),o=k("img"),l=A(),m&&m.c(),a=A(),p&&p.c(),f(i,"class","details svelte-4r39sm"),xe(o.src,s=La)||f(o,"src",s),f(o,"alt",""),f(o,"class","svelte-4r39sm"),f(t,"class","cgb-openButton svelte-4r39sm"),f(t,"title","Canvas Design Blocks"),K(t,"cgb-active",n[3]),K(t,"has-update",n[4]),f(e,"class","cgb-toolbar cgb-component svelte-4r39sm")},m(h,_){D(h,e,_),v(e,t),v(t,i),v(t,r),v(t,o),v(t,l),m&&m.m(t,null),v(e,a),p&&p.m(e,null),n[15](e),c=!0,d||(u=q(t,"click",n[12]),d=!0)},p(h,[_]){h[4]?m?_&16&&B(m,1):(m=wr(),m.c(),B(m,1),m.m(t,null)):m&&(oe(),H(m,1,1,()=>{m=null}),se()),(!c||_&8)&&K(t,"cgb-active",h[3]),(!c||_&16)&&K(t,"has-update",h[4]),h[3]?p?(p.p(h,_),_&8&&B(p,1)):(p=kr(h),p.c(),B(p,1),p.m(e,null)):p&&(oe(),H(p,1,1,()=>{p=null}),se())},i(h){c||(B(m),B(p),c=!0)},o(h){H(m),H(p),c=!1},d(h){h&&S(e),m&&m.d(),p&&p.d(),n[15](null),d=!1,u()}}}function ja(n,e,t){let i,r,o,s,l,a=z,c=()=>(a(),a=Be(i,T=>t(3,l=T)),i),d,u=z,m=()=>(u(),u=Be(r,T=>t(7,d=T)),r);n.$$.on_destroy.push(()=>a()),n.$$.on_destroy.push(()=>u());const p=Re();let{state:h}=e,{managers:_}=e;const y=ct("cdb_version_opened","2.8.3");an(n,y,T=>t(2,s=T));let g,b=!1;const w=T=>{_&&(T.create(!0,!0),b||Cn("event","design_blocks_insert",{event_category:"Design Blocks",event_label:T.elementName}),b=!0)},I=()=>{_e(i,l=!l,l),p("open")},C=()=>{_e(y,s=mr,s),Cn("event","design_blocks_update_dismiss",{event_category:"Design Blocks",cdb_version:Mt})},L=T=>{w(T)};function E(T){ce[T?"unshift":"push"](()=>{g=T,t(1,g)})}return n.$$set=T=>{"state"in T&&t(11,h=T.state),"managers"in T&&t(0,_=T.managers)},n.$$.update=()=>{n.$$.dirty&2048&&c(t(6,i=h==null?void 0:h.showInterface)),n.$$.dirty&2048&&m(t(5,r=h==null?void 0:h.configComponent)),n.$$.dirty&2&&g&&hn(g),n.$$.dirty&8&&l&&Cn("event","design_blocks_open",{event_category:"Design Blocks",cdb_version:Mt}),n.$$.dirty&4&&t(4,o=_l(s,mr)<0)},[_,g,s,l,o,r,i,d,p,y,w,h,I,C,L,E]}class Fa extends Ie{constructor(e){super(),ye(this,e,ja,qa,ve,{state:11,managers:0})}}const Ii=n=>{var e;return((e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)||!1},wl=["top","right","bottom","left"],Br=["start","end"],Tr=wl.reduce((n,e)=>n.concat(e,e+"-"+Br[0],e+"-"+Br[1]),[]),Yt=Math.min,Dt=Math.max,On=Math.round,bn=Math.floor,It=n=>({x:n,y:n}),Va={left:"right",right:"left",bottom:"top",top:"bottom"},Ua={start:"end",end:"start"};function Ci(n,e,t){return Dt(n,Yt(e,t))}function Pt(n,e){return typeof n=="function"?n(e):n}function pt(n){return n.split("-")[0]}function at(n){return n.split("-")[1]}function kl(n){return n==="x"?"y":"x"}function Wi(n){return n==="y"?"height":"width"}function Jn(n){return["top","bottom"].includes(pt(n))?"y":"x"}function Gi(n){return kl(Jn(n))}function yl(n,e,t){t===void 0&&(t=!1);const i=at(n),r=Gi(n),o=Wi(r);let s=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=zn(s)),[s,zn(s)]}function Wa(n){const e=zn(n);return[Nn(n),e,Nn(e)]}function Nn(n){return n.replace(/start|end/g,e=>Ua[e])}function Ga(n,e,t){const i=["left","right"],r=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?o:s;default:return[]}}function Xa(n,e,t,i){const r=at(n);let o=Ga(pt(n),t==="start",i);return r&&(o=o.map(s=>s+"-"+r),e&&(o=o.concat(o.map(Nn)))),o}function zn(n){return n.replace(/left|right|bottom|top/g,e=>Va[e])}function Ya(n){return{top:0,right:0,bottom:0,left:0,...n}}function Il(n){return typeof n!="number"?Ya(n):{top:n,right:n,bottom:n,left:n}}function Rn(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function Er(n,e,t){let{reference:i,floating:r}=n;const o=Jn(e),s=Gi(e),l=Wi(s),a=pt(e),c=o==="y",d=i.x+i.width/2-r.width/2,u=i.y+i.height/2-r.height/2,m=i[l]/2-r[l]/2;let p;switch(a){case"top":p={x:d,y:i.y-r.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:u};break;case"left":p={x:i.x-r.width,y:u};break;default:p={x:i.x,y:i.y}}switch(at(e)){case"start":p[s]-=m*(t&&c?-1:1);break;case"end":p[s]+=m*(t&&c?-1:1);break}return p}const Ka=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=t,l=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:u}=Er(c,i,a),m=i,p={},h=0;for(let _=0;_<l.length;_++){const{name:y,fn:g}=l[_],{x:b,y:w,data:I,reset:C}=await g({x:d,y:u,initialPlacement:i,placement:m,strategy:r,middlewareData:p,rects:c,platform:s,elements:{reference:n,floating:e}});d=b!=null?b:d,u=w!=null?w:u,p={...p,[y]:{...p[y],...I}},C&&h<=50&&(h++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(c=C.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:r}):C.rects),{x:d,y:u}=Er(c,m,a)),_=-1)}return{x:d,y:u,placement:m,strategy:r,middlewareData:p}};async function dn(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:o,rects:s,elements:l,strategy:a}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=Pt(e,n),h=Il(p),y=l[m?u==="floating"?"reference":"floating":u],g=Rn(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(y)))==null||t?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:a})),b=u==="floating"?{...s.floating,x:i,y:r}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),I=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Rn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:a}):b);return{top:(g.top-C.top+h.top)/I.y,bottom:(C.bottom-g.bottom+h.bottom)/I.y,left:(g.left-C.left+h.left)/I.x,right:(C.right-g.right+h.right)/I.x}}const Qa=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:o,platform:s,elements:l,middlewareData:a}=e,{element:c,padding:d=0}=Pt(n,e)||{};if(c==null)return{};const u=Il(d),m={x:t,y:i},p=Gi(r),h=Wi(p),_=await s.getDimensions(c),y=p==="y",g=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",I=o.reference[h]+o.reference[p]-m[p]-o.floating[h],C=m[p]-o.reference[p],L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=L?L[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(L)))&&(E=l.floating[w]||o.floating[h]);const T=I/2-C/2,O=E/2-_[h]/2-1,M=Yt(u[g],O),P=Yt(u[b],O),F=M,V=E-_[h]-P,X=E/2-_[h]/2+T,R=Ci(F,X,V),N=!a.arrow&&at(r)!=null&&X!==R&&o.reference[h]/2-(X<F?M:P)-_[h]/2<0,W=N?X<F?X-F:X-V:0;return{[p]:m[p]+W,data:{[p]:R,centerOffset:X-R-W,...N&&{alignmentOffset:W}},reset:N}}});function Za(n,e,t){return(n?[...t.filter(r=>at(r)===n),...t.filter(r=>at(r)!==n)]:t.filter(r=>pt(r)===r)).filter(r=>n?at(r)===n||(e?Nn(r)!==r:!1):!0)}const Ja=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(e){var t,i,r;const{rects:o,middlewareData:s,placement:l,platform:a,elements:c}=e,{crossAxis:d=!1,alignment:u,allowedPlacements:m=Tr,autoAlignment:p=!0,...h}=Pt(n,e),_=u!==void 0||m===Tr?Za(u||null,p,m):m,y=await dn(e,h),g=((t=s.autoPlacement)==null?void 0:t.index)||0,b=_[g];if(b==null)return{};const w=yl(b,o,await(a.isRTL==null?void 0:a.isRTL(c.floating)));if(l!==b)return{reset:{placement:_[0]}};const I=[y[pt(b)],y[w[0]],y[w[1]]],C=[...((i=s.autoPlacement)==null?void 0:i.overflows)||[],{placement:b,overflows:I}],L=_[g+1];if(L)return{data:{index:g+1,overflows:C},reset:{placement:L}};const E=C.map(M=>{const P=at(M.placement);return[M.placement,P&&d?M.overflows.slice(0,2).reduce((F,V)=>F+V,0):M.overflows[0],M.overflows]}).sort((M,P)=>M[1]-P[1]),O=((r=E.filter(M=>M[2].slice(0,at(M[0])?2:3).every(P=>P<=0))[0])==null?void 0:r[0])||E[0][0];return O!==l?{data:{index:g+1,overflows:C},reset:{placement:O}}:{}}}},$a=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:o,rects:s,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...y}=Pt(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const g=pt(r),b=pt(l)===l,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),I=m||(b||!_?[zn(l)]:Wa(l));!m&&h!=="none"&&I.push(...Xa(l,_,h,w));const C=[l,...I],L=await dn(e,y),E=[];let T=((i=o.flip)==null?void 0:i.overflows)||[];if(d&&E.push(L[g]),u){const F=yl(r,s,w);E.push(L[F[0]],L[F[1]])}if(T=[...T,{placement:r,overflows:E}],!E.every(F=>F<=0)){var O,M;const F=(((O=o.flip)==null?void 0:O.index)||0)+1,V=C[F];if(V)return{data:{index:F,overflows:T},reset:{placement:V}};let X=(M=T.filter(R=>R.overflows[0]<=0).sort((R,N)=>R.overflows[1]-N.overflows[1])[0])==null?void 0:M.placement;if(!X)switch(p){case"bestFit":{var P;const R=(P=T.map(N=>[N.placement,N.overflows.filter(W=>W>0).reduce((W,Q)=>W+Q,0)]).sort((N,W)=>N[1]-W[1])[0])==null?void 0:P[0];R&&(X=R);break}case"initialPlacement":X=l;break}if(r!==X)return{reset:{placement:X}}}return{}}}};function Sr(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Dr(n){return wl.some(e=>n[e]>=0)}const xa=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Pt(n,e);switch(i){case"referenceHidden":{const o=await dn(e,{...r,elementContext:"reference"}),s=Sr(o,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Dr(s)}}}case"escaped":{const o=await dn(e,{...r,altBoundary:!0}),s=Sr(o,t.floating);return{data:{escapedOffsets:s,escaped:Dr(s)}}}default:return{}}}}};async function ec(n,e){const{placement:t,platform:i,elements:r}=n,o=await(i.isRTL==null?void 0:i.isRTL(r.floating)),s=pt(t),l=at(t),a=Jn(t)==="y",c=["left","top"].includes(s)?-1:1,d=o&&a?-1:1,u=Pt(e,n);let{mainAxis:m,crossAxis:p,alignmentAxis:h}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return l&&typeof h=="number"&&(p=l==="end"?h*-1:h),a?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const Kt=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:o,placement:s,middlewareData:l}=e,a=await ec(e,n);return s===((t=l.offset)==null?void 0:t.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+a.x,y:o+a.y,data:{...a,placement:s}}}}},tc=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:y=>{let{x:g,y:b}=y;return{x:g,y:b}}},...a}=Pt(n,e),c={x:t,y:i},d=await dn(e,a),u=Jn(pt(r)),m=kl(u);let p=c[m],h=c[u];if(o){const y=m==="y"?"top":"left",g=m==="y"?"bottom":"right",b=p+d[y],w=p-d[g];p=Ci(b,p,w)}if(s){const y=u==="y"?"top":"left",g=u==="y"?"bottom":"right",b=h+d[y],w=h-d[g];h=Ci(b,h,w)}const _=l.fn({...e,[m]:p,[u]:h});return{..._,data:{x:_.x-t,y:_.y-i}}}}};function Ct(n){return Cl(n)?(n.nodeName||"").toLowerCase():"#document"}function $e(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wt(n){var e;return(e=(Cl(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Cl(n){return n instanceof Node||n instanceof $e(n).Node}function gt(n){return n instanceof Element||n instanceof $e(n).Element}function dt(n){return n instanceof HTMLElement||n instanceof $e(n).HTMLElement}function Mr(n){return typeof ShadowRoot=="undefined"?!1:n instanceof ShadowRoot||n instanceof $e(n).ShadowRoot}function pn(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=it(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function nc(n){return["table","td","th"].includes(Ct(n))}function Xi(n){const e=Yi(),t=it(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function Ll(n){let e=Qt(n);for(;dt(e)&&!$n(e);){if(Xi(e))return e;e=Qt(e)}return null}function Yi(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $n(n){return["html","body","#document"].includes(Ct(n))}function it(n){return $e(n).getComputedStyle(n)}function xn(n){return gt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Qt(n){if(Ct(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Mr(n)&&n.host||wt(n);return Mr(e)?e.host:e}function Bl(n){const e=Qt(n);return $n(e)?n.ownerDocument?n.ownerDocument.body:n.body:dt(e)&&pn(e)?e:Bl(e)}function un(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=Bl(n),o=r===((i=n.ownerDocument)==null?void 0:i.body),s=$e(r);return o?e.concat(s,s.visualViewport||[],pn(r)?r:[],s.frameElement&&t?un(s.frameElement):[]):e.concat(r,un(r,[],t))}function Tl(n){const e=it(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=dt(n),o=r?n.offsetWidth:t,s=r?n.offsetHeight:i,l=On(t)!==o||On(i)!==s;return l&&(t=o,i=s),{width:t,height:i,$:l}}function Ki(n){return gt(n)?n:n.contextElement}function Ut(n){const e=Ki(n);if(!dt(e))return It(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:o}=Tl(e);let s=(o?On(t.width):t.width)/i,l=(o?On(t.height):t.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const ic=It(0);function El(n){const e=$e(n);return!Yi()||!e.visualViewport?ic:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rc(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$e(n)?!1:e}function At(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=Ki(n);let s=It(1);e&&(i?gt(i)&&(s=Ut(i)):s=Ut(n));const l=rc(o,t,i)?El(o):It(0);let a=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,d=r.width/s.x,u=r.height/s.y;if(o){const m=$e(o),p=i&&gt(i)?$e(i):i;let h=m.frameElement;for(;h&&i&&p!==m;){const _=Ut(h),y=h.getBoundingClientRect(),g=it(h),b=y.left+(h.clientLeft+parseFloat(g.paddingLeft))*_.x,w=y.top+(h.clientTop+parseFloat(g.paddingTop))*_.y;a*=_.x,c*=_.y,d*=_.x,u*=_.y,a+=b,c+=w,h=$e(h).frameElement}}return Rn({width:d,height:u,x:a,y:c})}const oc=[":popover-open",":modal"];function Sl(n){let e=!1,t=0,i=0;function r(o){try{e=e||n.matches(o)}catch(s){}}if(oc.forEach(o=>{r(o)}),e){const o=Ll(n);if(o){const s=o.getBoundingClientRect();t=s.x,i=s.y}}return[e,t,i]}function sc(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const o=wt(i),[s]=e?Sl(e.floating):[!1];if(i===o||s)return t;let l={scrollLeft:0,scrollTop:0},a=It(1);const c=It(0),d=dt(i);if((d||!d&&r!=="fixed")&&((Ct(i)!=="body"||pn(o))&&(l=xn(i)),dt(i))){const u=At(i);a=Ut(i),c.x=u.x+i.clientLeft,c.y=u.y+i.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-l.scrollLeft*a.x+c.x,y:t.y*a.y-l.scrollTop*a.y+c.y}}function lc(n){return Array.from(n.getClientRects())}function Dl(n){return At(wt(n)).left+xn(n).scrollLeft}function ac(n){const e=wt(n),t=xn(n),i=n.ownerDocument.body,r=Dt(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=Dt(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-t.scrollLeft+Dl(n);const l=-t.scrollTop;return it(i).direction==="rtl"&&(s+=Dt(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:s,y:l}}function cc(n,e){const t=$e(n),i=wt(n),r=t.visualViewport;let o=i.clientWidth,s=i.clientHeight,l=0,a=0;if(r){o=r.width,s=r.height;const c=Yi();(!c||c&&e==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}return{width:o,height:s,x:l,y:a}}function dc(n,e){const t=At(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,o=dt(n)?Ut(n):It(1),s=n.clientWidth*o.x,l=n.clientHeight*o.y,a=r*o.x,c=i*o.y;return{width:s,height:l,x:a,y:c}}function Ar(n,e,t){let i;if(e==="viewport")i=cc(n,t);else if(e==="document")i=ac(wt(n));else if(gt(e))i=dc(e,t);else{const r=El(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return Rn(i)}function Ml(n,e){const t=Qt(n);return t===e||!gt(t)||$n(t)?!1:it(t).position==="fixed"||Ml(t,e)}function uc(n,e){const t=e.get(n);if(t)return t;let i=un(n,[],!1).filter(l=>gt(l)&&Ct(l)!=="body"),r=null;const o=it(n).position==="fixed";let s=o?Qt(n):n;for(;gt(s)&&!$n(s);){const l=it(s),a=Xi(s);!a&&l.position==="fixed"&&(r=null),(o?!a&&!r:!a&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||pn(s)&&!a&&Ml(n,s))?i=i.filter(d=>d!==s):r=l,s=Qt(s)}return e.set(n,i),i}function fc(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const s=[...t==="clippingAncestors"?uc(e,this._c):[].concat(t),i],l=s[0],a=s.reduce((c,d)=>{const u=Ar(e,d,r);return c.top=Dt(u.top,c.top),c.right=Yt(u.right,c.right),c.bottom=Yt(u.bottom,c.bottom),c.left=Dt(u.left,c.left),c},Ar(e,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function mc(n){const{width:e,height:t}=Tl(n);return{width:e,height:t}}function hc(n,e,t,i){const r=dt(e),o=wt(e),s=t==="fixed",l=At(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=It(0);if(r||!r&&!s)if((Ct(e)!=="body"||pn(o))&&(a=xn(e)),r){const _=At(e,!0,s,e);c.x=_.x+e.clientLeft,c.y=_.y+e.clientTop}else o&&(c.x=Dl(o));let d=l.left+a.scrollLeft-c.x,u=l.top+a.scrollTop-c.y;const[m,p,h]=Sl(i);return m&&(d+=p,u+=h,r&&(d+=e.clientLeft,u+=e.clientTop)),{x:d,y:u,width:l.width,height:l.height}}function Hr(n,e){return!dt(n)||it(n).position==="fixed"?null:e?e(n):n.offsetParent}function Al(n,e){const t=$e(n);if(!dt(n))return t;let i=Hr(n,e);for(;i&&nc(i)&&it(i).position==="static";)i=Hr(i,e);return i&&(Ct(i)==="html"||Ct(i)==="body"&&it(i).position==="static"&&!Xi(i))?t:i||Ll(n)||t}const pc=async function(n){const e=this.getOffsetParent||Al,t=this.getDimensions;return{reference:hc(n.reference,await e(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function gc(n){return it(n).direction==="rtl"}const bc={convertOffsetParentRelativeRectToViewportRelativeRect:sc,getDocumentElement:wt,getClippingRect:fc,getOffsetParent:Al,getElementRects:pc,getClientRects:lc,getDimensions:mc,getScale:Ut,isElement:gt,isRTL:gc};function vc(n,e){let t=null,i;const r=wt(n);function o(){var l;clearTimeout(i),(l=t)==null||l.disconnect(),t=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const{left:c,top:d,width:u,height:m}=n.getBoundingClientRect();if(l||e(),!u||!m)return;const p=bn(d),h=bn(r.clientWidth-(c+u)),_=bn(r.clientHeight-(d+m)),y=bn(c),b={rootMargin:-p+"px "+-h+"px "+-_+"px "+-y+"px",threshold:Dt(0,Yt(1,a))||1};let w=!0;function I(C){const L=C[0].intersectionRatio;if(L!==a){if(!w)return s();L?s(!1,L):i=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{t=new IntersectionObserver(I,{...b,root:r.ownerDocument})}catch(C){t=new IntersectionObserver(I,b)}t.observe(n)}return s(!0),o}function Qi(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,c=Ki(n),d=r||o?[...c?un(c):[],...un(e)]:[];d.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),o&&g.addEventListener("resize",t)});const u=c&&l?vc(c,t):null;let m=-1,p=null;s&&(p=new ResizeObserver(g=>{let[b]=g;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),t()}),c&&!a&&p.observe(c),p.observe(e));let h,_=a?At(n):null;a&&y();function y(){const g=At(n);_&&(g.x!==_.x||g.y!==_.y||g.width!==_.width||g.height!==_.height)&&t(),_=g,h=requestAnimationFrame(y)}return t(),()=>{var g;d.forEach(b=>{r&&b.removeEventListener("scroll",t),o&&b.removeEventListener("resize",t)}),u==null||u(),(g=p)==null||g.disconnect(),p=null,a&&cancelAnimationFrame(h)}}const Pr=Ja,qn=tc,jn=$a,Or=xa,_c=Qa,Zi=(n,e,t)=>{const i=new Map,r={platform:bc,...t},o={...r.platform,_c:i};return Ka(n,e,{...r,platform:o})};function Nr(n){let e,t,i;var r=n[2];function o(s,l){return{props:{props:s[5],isDominant:s[7],dominantPopover:s[8],isModal:s[11]}}}return r&&(e=Sn(r,o(n))),{c(){e&&le(e.$$.fragment),t=Pe()},m(s,l){e&&ie(e,s,l),D(s,t,l),i=!0},p(s,l){if(l&4&&r!==(r=s[2])){if(e){oe();const a=e;H(a.$$.fragment,1,0,()=>{re(a,1)}),se()}r?(e=Sn(r,o(s)),le(e.$$.fragment),B(e.$$.fragment,1),ie(e,t.parentNode,t)):e=null}else if(r){const a={};l&32&&(a.props=s[5]),l&128&&(a.isDominant=s[7]),l&256&&(a.dominantPopover=s[8]),l&2048&&(a.isModal=s[11]),e.$set(a)}},i(s){i||(e&&B(e.$$.fragment,s),i=!0)},o(s){e&&H(e.$$.fragment,s),i=!1},d(s){s&&S(t),e&&re(e,s)}}}function zr(n){let e;return{c(){e=k("div"),f(e,"class","popover--Arrow svelte-187uuj9"),ee(e,"top",n[12]),ee(e,"left",n[13])},m(t,i){D(t,e,i),n[26](e)},p(t,i){i&4096&&ee(e,"top",t[12]),i&8192&&ee(e,"left",t[13])},d(t){t&&S(e),n[26](null)}}}function wc(n){let e,t,i,r,o,s,l,a=n[2]&&n[4]&&Nr(n),c=n[9]&&zr(n);return{c(){e=k("div"),t=k("dialog"),a&&a.c(),i=A(),c&&c.c(),f(t,"class","cgb-popover-wrapper svelte-187uuj9"),t.open=r=n[2]&&n[4]&&n[6]&&n[0]&&n[10],f(t,"tabindex","0"),ee(t,"transform",n[14]),f(e,"class","cgb-component")},m(d,u){D(d,e,u),v(e,t),a&&a.m(t,null),v(t,i),c&&c.m(t,null),n[27](t),o=!0,s||(l=q(t,"close",n[28]),s=!0)},p(d,[u]){d[2]&&d[4]?a?(a.p(d,u),u&20&&B(a,1)):(a=Nr(d),a.c(),B(a,1),a.m(t,i)):a&&(oe(),H(a,1,1,()=>{a=null}),se()),d[9]?c?c.p(d,u):(c=zr(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null),(!o||u&1109&&r!==(r=d[2]&&d[4]&&d[6]&&d[0]&&d[10]))&&(t.open=r),u&16384&&ee(t,"transform",d[14])},i(d){o||(B(a),o=!0)},o(d){H(a),o=!1},d(d){d&&S(e),a&&a.d(),c&&c.d(),n[27](null),s=!1,l()}}}function kc(n,e,t){let i,r,o,{component:s=void 0}=e,{host:l=void 0}=e,{show:a=!1}=e,{props:c=void 0}=e,{placement:d="top"}=e,{target:u=void 0}=e,{isDominant:m=void 0}=e,{dominantPopover:p=void 0}=e,{showArrow:h=!1}=e,{middleware:_=void 0}=e,y=!1;const g=()=>{w&&(w.open&&w.close(),w.showModal(),t(11,y=!0))};let b,{popoverEl:w=void 0}=e,{arrowEl:I=void 0}=e,C=0,L=0,E=!1,T,O,M,P,F;Ue(()=>{b&&b()});function V(N){ce[N?"unshift":"push"](()=>{I=N,t(1,I)})}function X(N){ce[N?"unshift":"push"](()=>{w=N,t(0,w)})}const R=()=>{l==null||l.hide()};return n.$$set=N=>{"component"in N&&t(2,s=N.component),"host"in N&&t(3,l=N.host),"show"in N&&t(4,a=N.show),"props"in N&&t(5,c=N.props),"placement"in N&&t(15,d=N.placement),"target"in N&&t(6,u=N.target),"isDominant"in N&&t(7,m=N.isDominant),"dominantPopover"in N&&t(8,p=N.dominantPopover),"showArrow"in N&&t(9,h=N.showArrow),"middleware"in N&&t(16,_=N.middleware),"popoverEl"in N&&t(0,w=N.popoverEl),"arrowEl"in N&&t(1,I=N.arrowEl)},n.$$.update=()=>{if(n.$$.dirty&17&&(a||w==null||w.close()),n.$$.dirty&66050&&t(25,i=Object.entries(_||{shift:{crossAxis:!0}}).map(([N,W])=>{switch(N){case"flip":return W===!0?jn():jn(W);case"offset":return W===!0?Kt():Kt(W);case"shift":return W===!0?qn():qn(W);case"hide":return W===!0?Or():Or(W);case"autoPlacement":return W===!0?Pr():Pr(W)}}).concat(h&&I?[_c({element:I,padding:5})]:[])),n.$$.dirty&33588315&&t(24,o=async()=>{var N,W;if(!u||!w)return;if(a&&(!u||!w||!u.ownerDocument.contains(u))){l==null||l.hide();return}const Q=await Zi(u,w,{placement:d,middleware:i}),{middlewareData:G}=Q;t(10,E=(W=!(!((N=G.hide)===null||N===void 0)&&N.escaped))!==null&&W!==void 0?W:!1),E&&(t(19,C=Q.x),t(20,L=Q.y)),G.arrow&&I&&(t(23,M=Q.placement),t(21,T=G.arrow.x),t(22,O=G.arrow.y))}),n.$$.dirty&1572864&&t(14,r=`translate(${Math.round(C)}px,${Math.round(L)}px)`),n.$$.dirty&14680064)switch(M){case"top":t(12,P="calc(100% - 1rem)"),t(13,F=T?`${Math.round(T)}px`:"50%");break;case"bottom":t(12,P="-0.5rem"),t(13,F=T?`${Math.round(T)}px`:"50%");break;case"left":t(13,F="calc(100% - 1rem)"),t(12,P=O?`${Math.round(O)}px`:"50%");break;case"right":t(13,F="-0.5rem"),t(12,P=O?`${Math.round(O)}px`:"50%");break;default:t(12,P=O?`${Math.round(O)}px`:"50%"),t(13,F=T?`${Math.round(T)}px`:"50%")}n.$$.dirty&17039445&&(s&&a&&u&&w?t(18,b=Qi(u,w,o)):b&&b())},[w,I,s,l,a,c,u,m,p,h,E,y,P,F,r,d,_,g,b,C,L,T,O,M,o,i,V,X,R]}class yc extends Ie{constructor(e){super(),ye(this,e,kc,wc,ve,{component:2,host:3,show:4,props:5,placement:15,target:6,isDominant:7,dominantPopover:8,showArrow:9,middleware:16,focus:17,popoverEl:0,arrowEl:1})}get component(){return this.$$.ctx[2]}set component(e){this.$$set({component:e}),Ve()}get host(){return this.$$.ctx[3]}set host(e){this.$$set({host:e}),Ve()}get show(){return this.$$.ctx[4]}set show(e){this.$$set({show:e}),Ve()}get props(){return this.$$.ctx[5]}set props(e){this.$$set({props:e}),Ve()}get placement(){return this.$$.ctx[15]}set placement(e){this.$$set({placement:e}),Ve()}get target(){return this.$$.ctx[6]}set target(e){this.$$set({target:e}),Ve()}get isDominant(){return this.$$.ctx[7]}set isDominant(e){this.$$set({isDominant:e}),Ve()}get dominantPopover(){return this.$$.ctx[8]}set dominantPopover(e){this.$$set({dominantPopover:e}),Ve()}get showArrow(){return this.$$.ctx[9]}set showArrow(e){this.$$set({showArrow:e}),Ve()}get middleware(){return this.$$.ctx[16]}set middleware(e){this.$$set({middleware:e}),Ve()}get focus(){return this.$$.ctx[17]}get popoverEl(){return this.$$.ctx[0]}set popoverEl(e){this.$$set({popoverEl:e}),Ve()}get arrowEl(){return this.$$.ctx[1]}set arrowEl(e){this.$$set({arrowEl:e}),Ve()}}class Hl{constructor(e,t=[]){this.selectsParent=!1,this.selected=we(new Set),this.selectedTimeouts=new Map,this.parentSelected=we(!1),this.isSelected=Ge([this.selected,this.parentSelected],([l,a])=>l.size>0||a),this.parent=we(!1),this.children=we([]),this.detached=!1,this.node=e;let i=ue(this.children);this.children.subscribe(l=>{l.forEach(a=>{a.parent.set(this)}),i.forEach(a=>{l.includes(a)||a.parent.set(!1)}),i=l}),this.children.set(t);let r;this.parent.subscribe(l=>{r&&r(),l&&(r=l.selected.subscribe(a=>{a.has(l)?this.parentSelected.set(!0):this.parentSelected.set(!1)}))});let o=new Set;const s=(l,a)=>l.size===a.size&&[...l].every(c=>a.has(c));this.selected.subscribe(l=>{s(l,o)||(o=l)})}select(e=this){const t=this.selectedTimeouts.get(e);t&&clearTimeout(t),this.selected.update(r=>r.add(e));const i=ue(this.parent);i&&this.selectsParent&&i.selected.update(r=>r.add(e))}deselect(e=this){const t=this.selectedTimeouts.get(e);t&&clearTimeout(t),this.selectedTimeouts.set(e,window.setTimeout(()=>{this.selected.update(r=>(r.delete(e),r));const i=ue(this.parent);i&&this.selectsParent&&i.selected.update(r=>(r.delete(e),r))},50))}deselectAll(){this.selected.set(new Set);const e=ue(this.parent);e&&this.selectsParent&&e.selected.update(t=>(t.delete(this),t))}detach(){this.detached=!0,this.stopObserving(),this.deselectAll(),this.children.update(e=>(e.forEach(t=>t.detach()),[]))}startObserving(){var e,t;(e=this.node)==null||e.addEventListener("focusin",this.select.bind(this,this)),(t=this.node)==null||t.addEventListener("focusout",this.deselect.bind(this,this))}stopObserving(){var e,t;(e=this.node)==null||e.removeEventListener("focusin",this.select.bind(this,this)),(t=this.node)==null||t.removeEventListener("focusout",this.deselect.bind(this,this))}}let ai=we(null);class Ic extends Hl{constructor(e,t,i,r,o,s,l=!1,a){super(),this.MceElement=e,this.popoverWindow=t,this.contents=i,this.props=r,this.placement=o,this.middleware=s,this.options=a,this._isActive=!1,this._hideUnsub=void 0,this.clickOutside=c=>{var d;(d=this.node)!=null&&d.contains(c.target)||(this.MceElement.deselect("Popover"),this.popoverWindow.removeEventListener("click",this.clickOutside))},this.isDominant=we(l),this.isDominant.subscribe(c=>{c&&ai.set(this)}),this.id=ke(),this.node=t.document.body.appendChild(t.document.createElement("Div")),this.hostComponent=new yc({props:{host:this},target:this.node,intro:!0})}get isActive(){return this.hostComponent.component&&this.hostComponent.show}show(e=!1){this.isActive&&!e||(this._isActive=!0,this.hostComponent.$set({component:this.contents,target:this.MceElement.node,show:!0,props:this.props,placement:this.placement,isDominant:this.isDominant,middleware:this.middleware,dominantPopover:Ge(ai,t=>t===this),...this.options}),this.startObserving(),ue(this.isDominant)&&ai.set(this),e&&this.hostComponent.focus())}hide(){this.isActive&&(this._isActive=!1,this.hostComponent.$set({show:!1}),this.stopObserving(),this._hideUnsub&&(this._hideUnsub(),this._hideUnsub=void 0))}startObserving(){var e;(e=this.node)==null||e.addEventListener("focusin",()=>{this.popoverWindow.addEventListener("click",this.clickOutside),this.MceElement.select("Popover")})}}const Cc=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Pl=new Set(Cc);Pl.add("iframe");const jt=class jt extends Hl{constructor(e,t=window.tinymce.activeEditor,i=new Map([[e,{name:""}]]),r=[],o=ke(),s=!1){super(e,r),this.node=e,this.editor=t,this.watchNodes=i,this.id=o,this.stopObservingRequests=0,this._id=we(this.id),this._id.subscribe(l=>{this.observer&&this.checkSelf()}),this.style=we(e.style),this.classList=we(e.classList),this._attributes=new Map([["class",this.classList],["style",this.style],["data-cdb-id",this._id],["data-mce-selected",we(null)],["data-cdb-content",we(s?"Simple":"element")]]),this.node.dataset.cdbId=this.id,this.window=Ii(e)||window}get mergedAttributes(){const e=this._attributes;return this.attributes.forEach((t,i)=>{t?e.set(i,t):e.delete(i)}),e}getNodeById(e){for(const[t,{name:i}]of this.watchNodes)if(i===e)return t;return null}static isEmpty(e){return!Pl.has(e.tagName.toLowerCase())&&(e.childNodes.length===0||Array.from(e.childNodes).every(t=>{switch(t.nodeType){case Node.ELEMENT_NODE:return t.classList.contains("cgb-empty-placeholder")||t.classList.contains("cdb-empty-placeholder")||t.dataset.mceBogus||this.isEmpty(t);case Node.TEXT_NODE:return t.data.trim()==="";default:return!0}}))}static createInsertNode(e,t,i=!1,r="div"){const o=t.dom.create(i&&r==="div"?"span":r);if(e){const s=t.selection.getNode(),l=s.closest('*[data-cdb-content="Simple"]');l?t.dom.insertAfter(o,l):s.nodeName==="BODY"||s.closest("body")===null?t.dom.add(t.dom.getRoot(),o):i?(t.selection.collapse(),t.selection.getRng().insertNode(o)):t.dom.isBlock(s)?(s==null?void 0:s.dataset.mceCaret)==="after"?t.dom.insertAfter(o,s):t.dom.add(s,o):t.dom.insertAfter(o,s)}else t.dom.add(t.dom.getRoot(),o);return o}observerFunc(e){if(this.detached){this.stopObserving();return}const t=e.filter(r=>r.type==="attributes"&&r.attributeName!==null),i=e.filter(r=>r.type!=="characterData"&&r.target!==this.node?!0:r.type!=="childList"?!1:[...r.addedNodes,...r.removedNodes].find(s=>s instanceof this.window.HTMLElement&&!s.dataset.mceBogus||!(s instanceof this.window.HTMLElement)));t.forEach(r=>{var l;if(!r.attributeName)return;let o=r.attributeName;if(r.target!==this.node){const a=(l=this.watchNodes.get(r.target))==null?void 0:l.name;if(!a)return;o=`${a}/${r.attributeName}`}const s=this.mergedAttributes.get(o);if(s)if(r.attributeName==="style"){const a=s,c=r.target;a.set(c.style),this.stopObserving(),c.dataset.mceStyle=c.getAttribute("style")||"",this.startObserving()}else if(r.attributeName==="class"){const a=s;this.stopObserving(),a.update(c=>(this.defaultClasses.forEach(d=>this.node.classList.add(d)),this.node.classList)),this.startObserving()}else{const a=r.target.getAttribute(r.attributeName);a!==r.oldValue&&s.set(a)}}),(t.length>0||i.length>0)&&this.checkSelf(),i.length>0&&this.checkChildren()}startObserving(){var e;if(this.stopObservingRequests-=1,!(this.stopObservingRequests>0)){switch(this.selectionMethod){case"TinyMCE":this.selectUnsubscriber=(e=this._attributes.get("data-mce-selected"))==null?void 0:e.subscribe(t=>{t==="inline-boundary"||t==="1"?this.select():this.deselect()});break;case"clickTinyMCE":this.node.addEventListener("click",t=>(t.preventDefault(),t.stopPropagation(),this.select(this),this.editor.once("NodeChange",()=>{this.deselect(this)}),this.editor.once("blur",()=>{this.deselect(this)}),!1));break;default:super.startObserving();break}this.watchNodes.forEach((t,i)=>{if(!this.observer){console.debug("Start observing called before observer was created!");return}const r={...i===this.node?{attributes:!0,attributeOldValue:!0,attributeFilter:[...this.mergedAttributes.keys()].filter(o=>o.split("/").length===1)}:{},childList:!0,...t};this.observer.observe(i,r)})}}stopObserving(){this.stopObservingRequests++,super.stopObserving(),this.selectUnsubscriber&&(this.selectUnsubscriber(),this.selectUnsubscriber=void 0),this.observer&&this.observer.disconnect()}setupObserver(){const e=this.node;this.attributes.forEach((i,r)=>{let o=r.split("/");const s=o.pop(),l=o.pop(),a=l?this.getNodeById(l):e;if(!l&&i&&a&&i){const c=a.getAttribute(s);c?c!==ue(i)&&i.set(c):i.set("")}}),this.style.update(i=>i),this.classList.update(i=>(this.defaultClasses.forEach(r=>i.add(r)),i));const t=Ii(e);this.mergedAttributes.size===0||!t||(this.observer=new t.MutationObserver(this.observerFunc.bind(this)),this.startObserving(),this.mergedAttributes.forEach((i,r)=>{i.subscribe(o=>{const s=r.split("/"),l=s.pop(),a=s.pop(),c=a!==void 0?this.getNodeById(a):e;if(c)if(jt.attrIsStyle(r,o)){const d=c.getAttribute("style")||"";this.stopObserving(),c.dataset.mceStyle!==d&&(c.dataset.mceStyle=d),this.startObserving()}else if(jt.attrIsClassList(r,o)){if(c.classList.value===o.value)return;c.classList.value=o.value}else o!=null&&c.setAttribute(l,o)})}))}setupPopover(e,t,i,r,o){if(this.popover)this.popover.hostComponent.$set({component:e,props:t});else{const s=new Ic(this,window,e,t,i,r,void 0,o);this.popover=s,this.children.update(l=>(l.push(s),l))}return this.popover}delete(){this.stopObserving(),this.deselectAll(),this.node.remove()}highlight(e=!0){e&&this.editor.getWin().scrollTo({top:this.node.offsetTop,behavior:"smooth"}),this.editor.focus(),this.editor.selection.select(this.node)}};jt.attrIsStyle=(e,t)=>e.split("/").pop()==="style",jt.attrIsClassList=(e,t)=>e.split("/").pop()==="class";let ht=jt;function ei(n,e,t,i){var r,o,s=!1,l=t.length>=2,a=(h,_,y)=>{if(r=_,l&&(o=h),!s){let g=e(h,_,y);if(e.length<2)_(g);else return g}s=!1},c=Ge(n,a,i),d=!Array.isArray(n);function u(h){var _=t(h,o);d?(s=!0,n.set(_)):_.forEach((y,g)=>{s=!0,n[g].set(y)}),s=!1}var m=!1;function p(h){var _,y,g,b;if(m){b=h(ue(c)),r(b);return}var w=c.subscribe(I=>{m?_?y=!0:_=!0:g=I});b=h(g),m=!0,r(b),w(),m=!1,y&&(b=ue(c)),_&&u(b)}return{subscribe:c.subscribe,set(h){p(()=>h)},update:p}}function Lc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bc=function(e,t){t||(t=[0,""]),e=String(e);var i=parseFloat(e,10);return t[0]=i,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t},Ol=Bc,Tc=Ji,nn=Nl("in",document.body);function Li(n,e){var t=Ol(getComputedStyle(n).getPropertyValue(e));return t[0]*Ji(t[1],n)}function Nl(n,e){var t=document.createElement("div");t.style.height="128"+n,e.appendChild(t);var i=Li(t,"height")/128;return e.removeChild(t),i}function Ji(n,e){if(!n)return null;switch(e=e||document.body,n=(n+""||"px").trim().toLowerCase(),(e===window||e===document)&&(e=document.body),n){case"%":return e.clientHeight/100;case"ch":case"ex":return Nl(n,e);case"em":return Li(e,"font-size");case"rem":return Li(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return nn;case"cm":return nn/2.54;case"mm":return nn/25.4;case"pt":return nn/72;case"pc":return nn/6;case"px":return 1}var t=Ol(n);if(!isNaN(t[0])&&t[1]){var i=Ji(t[1],e);return typeof i=="number"?t[0]*i:null}return null}const Et=Lc(Tc);var ci=function(n){var e=n/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},di=function(n){return .2126*ci(n.r)+.7152*ci(n.g)+.0722*ci(n.b)};function Ec(n){n.prototype.luminance=function(){return e=di(this.rgba),(t=2)===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*e)/i+0;var e,t,i},n.prototype.contrast=function(e){e===void 0&&(e="#FFF");var t,i,r,o,s,l,a,c=e instanceof n?e:new n(e);return o=this.rgba,s=c.toRgb(),l=di(o),a=di(s),t=l>a?(l+.05)/(a+.05):(a+.05)/(l+.05),(i=2)===void 0&&(i=0),r===void 0&&(r=Math.pow(10,i)),Math.floor(r*t)/r+0},n.prototype.isReadable=function(e,t){return e===void 0&&(e="#FFF"),t===void 0&&(t={}),this.contrast(e)>=(l=(s=(i=t).size)===void 0?"normal":s,(o=(r=i.level)===void 0?"AA":r)==="AAA"&&l==="normal"?7:o==="AA"&&l==="large"?3:4.5);var i,r,o,s,l}}var Sc={grad:.9,turn:360,rad:360/(2*Math.PI)},ft=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Fe=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},nt=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},zl=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Rr=function(n){return{r:nt(n.r,0,255),g:nt(n.g,0,255),b:nt(n.b,0,255),a:nt(n.a)}},ui=function(n){return{r:Fe(n.r),g:Fe(n.g),b:Fe(n.b),a:Fe(n.a,3)}},Dc=/^#([0-9a-f]{3,8})$/i,vn=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},Rl=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,o=Math.max(e,t,i),s=o-Math.min(e,t,i),l=s?o===e?(t-i)/s:o===t?2+(i-e)/s:4+(e-t)/s:0;return{h:60*(l<0?l+6:l),s:o?s/o*100:0,v:o/255*100,a:r}},ql=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var o=Math.floor(e),s=i*(1-t),l=i*(1-(e-o)*t),a=i*(1-(1-e+o)*t),c=o%6;return{r:255*[i,l,s,s,a,i][c],g:255*[a,i,i,l,s,s][c],b:255*[s,s,a,i,i,l][c],a:r}},qr=function(n){return{h:zl(n.h),s:nt(n.s,0,100),l:nt(n.l,0,100),a:nt(n.a)}},jr=function(n){return{h:Fe(n.h),s:Fe(n.s),l:Fe(n.l),a:Fe(n.a,3)}},Fr=function(n){return ql((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},on=function(n){return{h:(e=Rl(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},Mc=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ac=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pc=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bi={string:[[function(n){var e=Dc.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Fe(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Fe(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Hc.exec(n)||Pc.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:Rr({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Mc.exec(n)||Ac.exec(n);if(!e)return null;var t,i,r=qr({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(Sc[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Fr(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,o=r===void 0?1:r;return ft(e)&&ft(t)&&ft(i)?Rr({r:Number(e),g:Number(t),b:Number(i),a:Number(o)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,o=r===void 0?1:r;if(!ft(e)||!ft(t)||!ft(i))return null;var s=qr({h:Number(e),s:Number(t),l:Number(i),a:Number(o)});return Fr(s)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,o=r===void 0?1:r;if(!ft(e)||!ft(t)||!ft(i))return null;var s=function(l){return{h:zl(l.h),s:nt(l.s,0,100),v:nt(l.v,0,100),a:nt(l.a)}}({h:Number(e),s:Number(t),v:Number(i),a:Number(o)});return ql(s)},"hsv"]]},Vr=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},Oc=function(n){return typeof n=="string"?Vr(n.trim(),Bi.string):typeof n=="object"&&n!==null?Vr(n,Bi.object):[null,void 0]},fi=function(n,e){var t=on(n);return{h:t.h,s:nt(t.s+100*e,0,100),l:t.l,a:t.a}},mi=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Ur=function(n,e){var t=on(n);return{h:t.h,s:t.s,l:nt(t.l+100*e,0,100),a:t.a}},Fn=function(){function n(e){this.parsed=Oc(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Fe(mi(this.rgba),2)},n.prototype.isDark=function(){return mi(this.rgba)<.5},n.prototype.isLight=function(){return mi(this.rgba)>=.5},n.prototype.toHex=function(){return e=ui(this.rgba),t=e.r,i=e.g,r=e.b,s=(o=e.a)<1?vn(Fe(255*o)):"","#"+vn(t)+vn(i)+vn(r)+s;var e,t,i,r,o,s},n.prototype.toRgb=function(){return ui(this.rgba)},n.prototype.toRgbString=function(){return e=ui(this.rgba),t=e.r,i=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+i+", "+r+", "+o+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,o},n.prototype.toHsl=function(){return jr(on(this.rgba))},n.prototype.toHslString=function(){return e=jr(on(this.rgba)),t=e.h,i=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+o+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,o},n.prototype.toHsv=function(){return e=Rl(this.rgba),{h:Fe(e.h),s:Fe(e.s),v:Fe(e.v),a:Fe(e.a,3)};var e},n.prototype.invert=function(){return te({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),te(fi(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),te(fi(this.rgba,-e))},n.prototype.grayscale=function(){return te(fi(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),te(Ur(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),te(Ur(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?te({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Fe(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=on(this.rgba);return typeof e=="number"?te({h:e,s:t.s,l:t.l,a:t.a}):Fe(t.h)},n.prototype.isEqual=function(e){return this.toHex()===te(e).toHex()},n}(),te=function(n){return n instanceof Fn?n:new Fn(n)},Wr=[],Nc=function(n){n.forEach(function(e){Wr.indexOf(e)<0&&(e(Fn,Bi),Wr.push(e))})},$i={};Object.defineProperty($i,"__esModule",{value:!0});var jl=$i.clickOutside=void 0;function zc(n,e){var t=function(i){return n&&!n.contains(i.target)&&!i.defaultPrevented&&e()};return document.addEventListener("click",t,!0),{destroy:function(){document.removeEventListener("click",t,!0)}}}jl=$i.clickOutside=zc;function Rc(n){let e,t,i,r,o;const s=n[2].default,l=Ke(s,n,n[1],null);return{c(){e=k("div"),l&&l.c(),ee(e,"display","contents"),e.hidden=!0},m(a,c){D(a,e,c),l&&l.m(e,null),i=!0,r||(o=Gt(t=jc.call(null,e,n[0])),r=!0)},p(a,[c]){l&&l.p&&(!i||c&2)&&Ze(l,s,a,a[1],i?Qe(s,a[1],c,null):Je(a[1]),null),t&&vt(t.update)&&c&1&&t.update.call(null,a[0])},i(a){i||(B(l,a),i=!0)},o(a){H(l,a),i=!1},d(a){a&&S(e),l&&l.d(a),r=!1,o()}}}const qc=n=>{var e;return((e=n==null?void 0:n.ownerDocument)===null||e===void 0?void 0:e.defaultView)||!1};function jc(n,e="body"){let t;async function i(o){let s=o,l;if(typeof s=="string"){if(l=document.querySelector(s),l===null&&(await va(),l=document.querySelector(s)),l===null)throw new Error(`No element found matching css selector: "${s}"`);t=l}else{const a=qc(s);if(a&&s instanceof a.HTMLElement)t=s;else throw new TypeError(`Unknown portal target type: ${s===null?"null":typeof s}. Allowed types: string (CSS selector) or HTMLElement.`)}t.appendChild(n),n.hidden=!1}function r(){n.parentNode&&n.parentNode.removeChild(n)}return i(e),{update:i,destroy:r}}function Fc(n,e,t){let{$$slots:i={},$$scope:r}=e,{target:o="body"}=e;return n.$$set=s=>{"target"in s&&t(0,o=s.target),"$$scope"in s&&t(1,r=s.$$scope)},[o,r,i]}class Vc extends Ie{constructor(e){super(),ye(this,e,Fc,Rc,ve,{target:0})}}var Uc={primary:"#0284c7",secondary:"#65a30d",palette:{dark:{barney:"#BF32A4",info:"#0374B5",success:"#0B874B",danger:"#E0061F",warning:"#FC5E13",black:"#000000"},light:{amber:"#fde68a",green:"#bbf7d0",cyan:"#a5f3fc",violet:"#ddd6fe",pink:"#fbcfe8",rose:"#fecdd3",white:"#FFFFFF"}}};const Tt=Uc,ze={...Tt,primary:Tt==null?void 0:Tt.primary,secondary:Tt==null?void 0:Tt.secondary};function Gr(n,e,t){const i=n.slice();return i[41]=e[t],i}function hi(n){const e=n.slice(),t=e[13](e[41].code);return e[44]=t,e}function Xr(n){let e,t;return{c(){e=k("label"),t=Y(n[4]),f(e,"for",n[1]),f(e,"class","svelte-11z2g05")},m(i,r){D(i,e,r),v(e,t)},p(i,r){r[0]&16&&ge(t,i[4]),r[0]&2&&f(e,"for",i[1])},d(i){i&&S(e)}}}function Yr(n){let e,t,i,r;function o(...s){return n[27](n[41],...s)}return{c(){var s,l,a,c,d;e=k("button"),f(e,"class","colour colour-option svelte-11z2g05"),f(e,"title",t=`${n[41].name}${n[44]?" (Warning! inaccessible)":""}`),K(e,"unset",n[41].code===void 0),K(e,"white",(s=n[41].code)==null?void 0:s.isLight()),K(e,"inaccessible",n[44]),K(e,"dark",(l=n[41].code)==null?void 0:l.isDark()),K(e,"selected",((a=n[0])==null?void 0:a.toHex())===((c=n[41].code)==null?void 0:c.toHex())),ee(e,"background-color",(d=n[41].code)==null?void 0:d.toHex())},m(s,l){D(s,e,l),i||(r=q(e,"click",o),i=!0)},p(s,l){var a,c,d,u,m;n=s,l[0]&40960&&t!==(t=`${n[41].name}${n[44]?" (Warning! inaccessible)":""}`)&&f(e,"title",t),l[0]&32768&&K(e,"unset",n[41].code===void 0),l[0]&32768&&K(e,"white",(a=n[41].code)==null?void 0:a.isLight()),l[0]&40960&&K(e,"inaccessible",n[44]),l[0]&32768&&K(e,"dark",(c=n[41].code)==null?void 0:c.isDark()),l[0]&32769&&K(e,"selected",((d=n[0])==null?void 0:d.toHex())===((u=n[41].code)==null?void 0:u.toHex())),l[0]&32768&&ee(e,"background-color",(m=n[41].code)==null?void 0:m.toHex())},d(s){s&&S(e),i=!1,r()}}}function Kr(n){let e,t=!(n[41].code===void 0&&n[2]!==void 0&&n[3])&&Yr(hi(n));return{c(){t&&t.c(),e=Pe()},m(i,r){t&&t.m(i,r),D(i,e,r)},p(i,r){i[41].code===void 0&&i[2]!==void 0&&i[3]?t&&(t.d(1),t=null):t?t.p(hi(i),r):(t=Yr(hi(i)),t.c(),t.m(e.parentNode,e))},d(i){i&&S(e),t&&t.d(i)}}}function Wc(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b=be(n[15]),w=[];for(let I=0;I<b.length;I+=1)w[I]=Kr(Gr(n,b,I));return{c(){var I,C;e=k("div"),t=k("dialog"),i=k("div");for(let L=0;L<w.length;L+=1)w[L].c();r=A(),o=k("div"),s=k("div"),l=k("label"),a=k("input"),u=A(),m=k("input"),f(a,"id",c=n[1]+"-custom"),f(a,"class","invisible absolute svelte-11z2g05"),f(a,"type","color"),f(a,"aria-hidden","true"),f(l,"class","colour colour-option svelte-11z2g05"),f(l,"title","Custom colour"),f(l,"for",d=n[1]+"-custom"),K(l,"white",!n[10]||((I=te(n[10]))==null?void 0:I.isLight())||((C=te(n[10]))==null?void 0:C.alpha())===0),ee(l,"background-color",n[10]),f(m,"id",p=n[1]+"-custom"),f(m,"type","text"),f(m,"class","svelte-11z2g05"),f(s,"class","editor svelte-11z2g05"),f(o,"class","colour-custom svelte-11z2g05"),K(o,"selected",n[12]),f(i,"class","colourPicker svelte-11z2g05"),f(t,"id",n[1]),f(t,"aria-hidden",h=!n[7]),f(t,"class","svelte-11z2g05"),ee(t,"z-index",n[5]),ee(t,"transform",n[14]),f(e,"class","cgb-component")},m(I,C){D(I,e,C),v(e,t),v(t,i);for(let L=0;L<w.length;L+=1)w[L]&&w[L].m(i,null);v(i,r),v(i,o),v(o,s),v(s,l),v(l,a),de(a,n[10]),v(s,u),v(s,m),de(m,n[10]),n[33](t),y||(g=[q(a,"input",n[28]),q(a,"input",n[29]),q(l,"click",n[30]),q(m,"input",n[31]),q(m,"input",n[32]),q(t,"click",n[34]),Gt(hn.call(null,e,!1)),Gt(_=jl.call(null,e,n[35]))],y=!0)},p(I,C){var L,E;if(C[0]&106509){b=be(I[15]);let T;for(T=0;T<b.length;T+=1){const O=Gr(I,b,T);w[T]?w[T].p(O,C):(w[T]=Kr(O),w[T].c(),w[T].m(i,r))}for(;T<w.length;T+=1)w[T].d(1);w.length=b.length}C[0]&2&&c!==(c=I[1]+"-custom")&&f(a,"id",c),C[0]&1024&&de(a,I[10]),C[0]&2&&d!==(d=I[1]+"-custom")&&f(l,"for",d),C[0]&1024&&K(l,"white",!I[10]||((L=te(I[10]))==null?void 0:L.isLight())||((E=te(I[10]))==null?void 0:E.alpha())===0),C[0]&1024&&ee(l,"background-color",I[10]),C[0]&2&&p!==(p=I[1]+"-custom")&&f(m,"id",p),C[0]&1024&&m.value!==I[10]&&de(m,I[10]),C[0]&4096&&K(o,"selected",I[12]),C[0]&2&&f(t,"id",I[1]),C[0]&128&&h!==(h=!I[7])&&f(t,"aria-hidden",h),C[0]&32&&ee(t,"z-index",I[5]),C[0]&16384&&ee(t,"transform",I[14]),_&&vt(_.update)&&C[0]&128&&_.update.call(null,I[35])},d(I){I&&S(e),qe(w,I),n[33](null),y=!1,pe(g)}}}function Gc(n){let e,t,i,r,o,s,l,a,c,d=n[6]!=="minimal"&&Xr(n);return s=new Vc({props:{$$slots:{default:[Wc]},$$scope:{ctx:n}}}),{c(){var u;e=k("div"),t=k("div"),d&&d.c(),i=A(),r=k("button"),o=A(),le(s.$$.fragment),f(r,"class","colour svelte-11z2g05"),f(r,"title","Click to change"),K(r,"unset",n[0]===void 0),K(r,"white",n[0]&&n[0].isLight()),ee(r,"background-color",((u=n[0])==null?void 0:u.toHex())||"unset"),f(t,"class","container svelte-11z2g05"),K(t,"container-wide",n[6]==="wide"),f(e,"class","cgb-component")},m(u,m){D(u,e,m),v(e,t),d&&d.m(t,null),v(t,i),v(t,r),n[25](r),v(t,o),ie(s,t,null),n[36](t),l=!0,a||(c=[q(r,"click",n[26]),q(t,"click",n[37])],a=!0)},p(u,m){var h;u[6]!=="minimal"?d?d.p(u,m):(d=Xr(u),d.c(),d.m(t,i)):d&&(d.d(1),d=null),(!l||m[0]&1)&&K(r,"unset",u[0]===void 0),(!l||m[0]&1)&&K(r,"white",u[0]&&u[0].isLight()),m[0]&1&&ee(r,"background-color",((h=u[0])==null?void 0:h.toHex())||"unset");const p={};m[0]&63151|m[1]&16384&&(p.$$scope={dirty:m,ctx:u}),s.$set(p),(!l||m[0]&64)&&K(t,"container-wide",u[6]==="wide")},i(u){l||(B(s.$$.fragment,u),l=!0)},o(u){H(s.$$.fragment,u),l=!1},d(u){u&&S(e),d&&d.d(),n[25](null),re(s),n[36](null),a=!1,pe(c)}}}Nc([Ec]);function Zt(n){const e=new Set(["currentcolor","inherit","initial","revert","rever-layer","unset"]);if(n instanceof Fn)return n;if(!(!n||e.has(n)))return te(n)}function Xc(n,e,t){let i,r,o,s,{id:l=ke()}=e,{colour:a=void 0}=e,{contrastColour:c=void 0}=e,{showAccessible:d=!0}=e,{isText:u=!1}=e,{label:m}=e,{popupDirection:p="bottom-start"}=e,{zIndex:h=10}=e,{showNone:_=!0}=e,{asModal:y=!1}=e,{style:g="default"}=e;const b=(j,J)=>{let Ae=te(j),fe=J==="Light/Dark"?Ae.isLight()?te("#000000"):te("#ffffff"):J;return fe&&d&&!fe.isReadable(Ae)?fe.isLight()?Ae.darken(.1):Ae.desaturate(.3).lighten(.5):Ae},w=j=>{t(0,a=Zt(j)),t(12,P=!1)};let I=!1,C=0,L=0,E,T,O,M;ba(()=>{o()}),Ue(()=>{M&&M()});let P=!1,F;const V=j=>{(j==null?void 0:j.toHex())!==F&&j&&t(10,F=j.toHex())},X=j=>{if(!j||j.length!==7)return;te(j).isValid()&&j!==(a==null?void 0:a.toHex())&&t(0,a=te(j))};function R(j){ce[j?"unshift":"push"](()=>{T=j,t(8,T)})}const N=j=>t(7,I=!I),W=(j,J)=>w(j.code);function Q(){F=this.value,t(10,F)}const G=()=>t(12,P=!0),ae=()=>t(12,P=!0);function $(){F=this.value,t(10,F)}const Z=()=>t(12,P=!0);function ne(j){ce[j?"unshift":"push"](()=>{O=j,t(9,O)})}const me=j=>{j.target===O&&t(7,I=!1)},U=()=>t(7,I=!1);function Oe(j){ce[j?"unshift":"push"](()=>{E=j,t(11,E)})}const x=({target:j})=>{j===E&&t(7,I=!1)};return n.$$set=j=>{"id"in j&&t(1,l=j.id),"colour"in j&&t(0,a=j.colour),"contrastColour"in j&&t(2,c=j.contrastColour),"showAccessible"in j&&t(17,d=j.showAccessible),"isText"in j&&t(3,u=j.isText),"label"in j&&t(4,m=j.label),"popupDirection"in j&&t(18,p=j.popupDirection),"zIndex"in j&&t(5,h=j.zIndex),"showNone"in j&&t(19,_=j.showNone),"asModal"in j&&t(20,y=j.asModal),"style"in j&&t(6,g=j.style)},n.$$.update=()=>{n.$$.dirty[0]&524292&&t(15,i=(()=>{let j=[{code:b(ze.primary,c),name:"Primary"},{code:b(ze.secondary,c),name:"Secondary"}];const J=(Ae,fe=!0)=>{const Te=Object.entries(Ae).filter(([ut,en])=>{const oa=fe?b(en,c):te(en);return!j.some(sa=>{var ri;return((ri=sa.code)===null||ri===void 0?void 0:ri.toHex())===oa.toHex()})});j.push(...Te.map(([ut,en])=>({code:fe?b(en,c):te(en),name:ut})))};return ze.palette&&(c==="Light/Dark"?(J(ze.palette.light,!1),J(ze.palette.dark,!1)):c!=null&&c.isDark()?J(ze.palette.light,!1):J(ze.palette.dark)),_&&j.push({code:void 0,name:"None"}),j})()),n.$$.dirty[0]&262912&&t(24,o=async()=>{const j=await Zi(T,O,{placement:p,middleware:[Kt(0),qn(),jn(),Kt(10)]});t(21,C=j.x),t(22,L=j.y)}),n.$$.dirty[0]&6291456&&t(14,r=`translate(${Math.round(C)}px,${Math.round(L)}px)`),n.$$.dirty[0]&1049216&&(I&&O?y?O.showModal():O.show():O&&O.close()),n.$$.dirty[0]&25166720&&(I&&T&&O?t(23,M=Qi(T,O,o,{})):M&&M()),n.$$.dirty[0]&1&&V(a),n.$$.dirty[0]&1024&&X(F),n.$$.dirty[0]&131076&&t(13,s=j=>!d||!j?!1:c==="Light/Dark"?j.isDark()?!j.isReadable(te("#ffffff")):!j.isReadable(te("#000000")):c&&!j.isReadable(c,{level:"AAA"}))},[a,l,c,u,m,h,g,I,T,O,F,E,P,s,r,i,w,d,p,_,y,C,L,M,o,R,N,W,Q,G,ae,$,Z,ne,me,U,Oe,x]}class Ht extends Ie{constructor(e){super(),ye(this,e,Xc,Gc,ve,{id:1,colour:0,contrastColour:2,showAccessible:17,isText:3,label:4,popupDirection:18,zIndex:5,showNone:19,asModal:20,style:6},null,[-1,-1])}}function Qr(n){let e,t,i;return{c(){e=k("div"),e.innerHTML=`<p class="alert-details svelte-gm1ws8"><span class="font-bold">Warning:</span> Text and icons smaller than 18pt
          (or bold 14pt) should display a minimum contrast ratio of 4.5:1. Consider
          using a darker colour if you are using this icon in a smaller size.</p>`,f(e,"class","colour-alert svelte-gm1ws8")},m(r,o){D(r,e,o),i=!0},i(r){i||(he(()=>{i&&(t||(t=Ce(e,He,{},!0)),t.run(1))}),i=!0)},o(r){t||(t=Ce(e,He,{},!1)),t.run(0),i=!1},d(r){r&&S(e),r&&t&&t.end()}}}function Yc(n){let e,t,i,r,o,s,l,a,c,d,u,m;function p(I){n[7](I)}function h(I){n[8](I)}let _={label:"Background Colour",id:n[0].id+"-setting-background",popupDirection:n[2]};n[5].background!==void 0&&(_.colour=n[5].background),n[3]!==void 0&&(_.contrastColour=n[3]),i=new Ht({props:_}),ce.push(()=>Me(i,"colour",p)),ce.push(()=>Me(i,"contrastColour",h));function y(I){n[9](I)}function g(I){n[10](I)}let b={label:"Text Colour",id:n[0].id+"-setting-text-colour",popupDirection:n[2],showAccessible:!1,isText:!0};n[5].textColor!==void 0&&(b.colour=n[5].textColor),n[5].background!==void 0&&(b.contrastColour=n[5].background),l=new Ht({props:b}),ce.push(()=>Me(l,"colour",y)),ce.push(()=>Me(l,"contrastColour",g));let w=n[4]&&n[4]<7&&Qr();return{c(){e=k("div"),t=k("div"),le(i.$$.fragment),s=A(),le(l.$$.fragment),d=A(),w&&w.c(),f(t,"class","colour-alert-box svelte-gm1ws8"),K(t,"alert-active",n[4]!==!1&&!n[6]),f(e,"class","cgb-component")},m(I,C){D(I,e,C),v(e,t),ie(i,t,null),v(t,s),ie(l,t,null),v(t,d),w&&w.m(t,null),m=!0},p(I,[C]){const L={};C&1&&(L.id=I[0].id+"-setting-background"),C&4&&(L.popupDirection=I[2]),!r&&C&32&&(r=!0,L.colour=I[5].background,De(()=>r=!1)),!o&&C&8&&(o=!0,L.contrastColour=I[3],De(()=>o=!1)),i.$set(L);const E={};C&1&&(E.id=I[0].id+"-setting-text-colour"),C&4&&(E.popupDirection=I[2]),!a&&C&32&&(a=!0,E.colour=I[5].textColor,De(()=>a=!1)),!c&&C&32&&(c=!0,E.contrastColour=I[5].background,De(()=>c=!1)),l.$set(E),I[4]&&I[4]<7?w?C&16&&B(w,1):(w=Qr(),w.c(),B(w,1),w.m(t,null)):w&&(oe(),H(w,1,1,()=>{w=null}),se()),(!m||C&80)&&K(t,"alert-active",I[4]!==!1&&!I[6])},i(I){m||(B(i.$$.fragment,I),B(l.$$.fragment,I),B(w),he(()=>{m&&(u||(u=Ce(t,He,{},!0)),u.run(1))}),m=!0)},o(I){H(i.$$.fragment,I),H(l.$$.fragment,I),H(w),u||(u=Ce(t,He,{},!1)),u.run(0),m=!1},d(I){I&&S(e),re(i),re(l),w&&w.d(),I&&u&&u.end()}}}function Kc(n,e,t){let i,r,o,s,l=z,a=()=>(l(),l=Be(d,g=>t(5,s=g)),d);n.$$.on_destroy.push(()=>l());let{element:c}=e,{preferences:d}=e;a();let{popupDirection:u="bottom-start"}=e;const m=()=>{if(s.textColor)return s.textColor;const g=Zt(c.window.getComputedStyle(c.node).color);if(!g)return g;let b=g;return g.luminance()<.05?b=te("#000"):g.luminance()>.95&&(b=te("#fff")),b};function p(g){n.$$.not_equal(s.background,g)&&(s.background=g,d.set(s))}function h(g){o=g,t(3,o),t(5,s)}function _(g){n.$$.not_equal(s.textColor,g)&&(s.textColor=g,d.set(s))}function y(g){n.$$.not_equal(s.background,g)&&(s.background=g,d.set(s))}return n.$$set=g=>{"element"in g&&t(0,c=g.element),"preferences"in g&&a(t(1,d=g.preferences)),"popupDirection"in g&&t(2,u=g.popupDirection)},n.$$.update=()=>{n.$$.dirty&32&&s.background&&!s.textColor&&_e(d,s.textColor=m(),s),n.$$.dirty&32&&t(3,o=s.textColor||m()),n.$$.dirty&40&&t(4,i=o&&s.background?o.contrast(s.background):!1),n.$$.dirty&16&&t(6,r=i&&i>=7)},[c,d,u,o,i,s,r,p,h,_,y]}class Fl extends Ie{constructor(e){super(),ye(this,e,Kc,Yc,ve,{element:0,preferences:1,popupDirection:2})}}function Qc(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C,L,E=Math.round(n[7].padding||0)+"",T,O,M,P,F,V,X,R,N,W,Q=Math.round(n[7].margin||0)+"",G,ae,$,Z,ne,me,U,Oe,x,j,J,Ae;return he(n[14]),U=new Fl({props:{element:n[0],preferences:n[6],popupDirection:"top"}}),j=ml(n[16][0]),{c(){e=k("div"),t=k("div"),i=k("h5"),i.textContent="Column Settings",r=A(),o=k("span"),o.textContent="Column Type",s=A(),l=k("div"),a=k("label"),c=k("span"),c.textContent="Default",d=A(),u=k("input"),p=A(),h=k("label"),_=k("span"),_.textContent="Card",y=A(),g=k("input"),w=A(),I=k("label"),C=k("span"),L=Y("Padding ("),T=Y(E),O=Y("px)"),M=A(),P=k("input"),X=A(),R=k("label"),N=k("span"),W=Y("Margin ("),G=Y(Q),ae=Y("px)"),$=A(),Z=k("input"),me=A(),le(U.$$.fragment),f(i,"class","svelte-paenut"),f(o,"class","label-text svelte-paenut"),f(u,"name",m=n[0].id+"-card"),f(u,"type","radio"),u.__value="normal",de(u,u.__value),f(u,"class","svelte-paenut"),f(a,"class","btn svelte-paenut"),K(a,"active",n[7].card===n[1].Normal),f(g,"name",b=n[0].id+"-card"),f(g,"type","radio"),g.__value="card",de(g,g.__value),f(g,"class","svelte-paenut"),f(h,"class","btn svelte-paenut"),K(h,"active",n[7].card===n[1].Card),f(l,"class","btn-group svelte-paenut"),f(C,"class","label-text svelte-paenut"),f(P,"id",F=n[0].id+"-pad"),f(P,"type","range"),f(P,"min","0"),f(P,"max","20"),f(P,"class","svelte-paenut"),f(I,"for",V=n[0].id+"-pad"),f(I,"class","svelte-paenut"),f(N,"class","label-text svelte-paenut"),f(Z,"id",ne=n[0].id+"-margin"),f(Z,"type","range"),f(Z,"min","0"),f(Z,"max","20"),f(Z,"class","svelte-paenut"),f(R,"for",Oe=n[0].id+"-margin"),f(R,"class","svelte-paenut"),f(t,"class","card svelte-paenut"),ee(t,"--editor-width",n[4]),ee(t,"--offset-left",n[5]),f(e,"class","cgb-component"),j.p(u,g)},m(fe,Te){D(fe,e,Te),v(e,t),v(t,i),v(t,r),v(t,o),v(t,s),v(t,l),v(l,a),v(a,c),v(a,d),v(a,u),u.checked=u.__value===n[7].card,v(l,p),v(l,h),v(h,_),v(h,y),v(h,g),g.checked=g.__value===n[7].card,v(t,w),v(t,I),v(I,C),v(C,L),v(C,T),v(C,O),v(I,M),v(I,P),de(P,n[7].padding),v(t,X),v(t,R),v(R,N),v(N,W),v(N,G),v(N,ae),v(R,$),v(R,Z),de(Z,n[7].margin),v(R,me),ie(U,R,null),n[20](t),x=!0,J||(Ae=[q(window,"resize",n[14]),q(u,"change",n[15]),q(g,"change",n[17]),q(P,"change",n[18]),q(P,"input",n[18]),q(Z,"change",n[19]),q(Z,"input",n[19])],J=!0)},p(fe,[Te]){(!x||Te&1&&m!==(m=fe[0].id+"-card"))&&f(u,"name",m),Te&128&&(u.checked=u.__value===fe[7].card),(!x||Te&130)&&K(a,"active",fe[7].card===fe[1].Normal),(!x||Te&1&&b!==(b=fe[0].id+"-card"))&&f(g,"name",b),Te&128&&(g.checked=g.__value===fe[7].card),(!x||Te&130)&&K(h,"active",fe[7].card===fe[1].Card),(!x||Te&128)&&E!==(E=Math.round(fe[7].padding||0)+"")&&ge(T,E),(!x||Te&1&&F!==(F=fe[0].id+"-pad"))&&f(P,"id",F),Te&128&&de(P,fe[7].padding),(!x||Te&1&&V!==(V=fe[0].id+"-pad"))&&f(I,"for",V),(!x||Te&128)&&Q!==(Q=Math.round(fe[7].margin||0)+"")&&ge(G,Q),(!x||Te&1&&ne!==(ne=fe[0].id+"-margin"))&&f(Z,"id",ne),Te&128&&de(Z,fe[7].margin);const ut={};Te&1&&(ut.element=fe[0]),Te&64&&(ut.preferences=fe[6]),U.$set(ut),(!x||Te&1&&Oe!==(Oe=fe[0].id+"-margin"))&&f(R,"for",Oe),Te&16&&ee(t,"--editor-width",fe[4]),Te&32&&ee(t,"--offset-left",fe[5])},i(fe){x||(B(U.$$.fragment,fe),x=!0)},o(fe){H(U.$$.fragment,fe),x=!1},d(fe){fe&&S(e),re(U),n[20](null),j.r(),J=!1,pe(Ae)}}}function Zc(n,e,t){let i,r,o,s,l,a,c,d=z,u=()=>(d(),d=Be(l,M=>t(7,c=M)),l);n.$$.on_destroy.push(()=>d());var m;let{column:p}=e;var h;(function(M){M.Normal="normal",M.Card="card"})(h||(h={}));let _="50vw",y=0,g="0px",b;const w=[[]];function I(){t(2,y=window.innerWidth)}function C(){c.card=this.__value,l.set(c)}function L(){c.card=this.__value,l.set(c)}function E(){c.padding=Ye(this.value),l.set(c)}function T(){c.margin=Ye(this.value),l.set(c)}function O(M){ce[M?"unshift":"push"](()=>{b=M,t(3,b)})}return n.$$set=M=>{"column"in M&&t(0,p=M.column)},n.$$.update=()=>{n.$$.dirty&1&&t(13,i=p.style),n.$$.dirty&1&&t(12,r=p.classList),n.$$.dirty&1&&t(11,o=p.attributes.get("innerNode/style")),n.$$.dirty&1&&t(10,s=p.attributes.get("innerNode/class")),n.$$.dirty&15362&&u(t(6,l=ei([i,r,o,s],([M,P,F,V])=>{const X=V.contains("cdb-card");return{padding:F.padding&&(Et(F.padding)||0)>0?Math.round(Et(F.padding)||0):0,margin:F.margin?Et(F.margin):0,background:Zt(F.background),textColor:Zt(F.color),card:X?h.Card:h.Normal}},(M,[P,F,V,X])=>{var R,N;switch(M.card){case h.Normal:X.remove("cdb-card");break;case h.Card:X.add("cdb-card");break}return V&&(V.padding=`${M.padding}px`,V.margin=`${M.margin}px`,V.background=((R=M.background)===null||R===void 0?void 0:R.toHex())||"",V.color=((N=M.textColor)===null||N===void 0?void 0:N.toHex())||""),[P,F,V,X]}))),n.$$.dirty&1&&t(9,a=p.editor.getContainer()),n.$$.dirty&780&&a&&y&&(t(4,_=`${a.offsetWidth}px`),t(5,g=`${((t(8,m=b.offsetParent)===null||m===void 0?void 0:m.getBoundingClientRect().x)||0)*-1+a.getBoundingClientRect().x}px`))},[p,h,y,b,_,g,l,c,m,a,s,o,r,i,I,C,w,L,E,T,O]}class Jc extends Ie{constructor(e){super(),ye(this,e,Zc,Qc,ve,{column:0})}}function Zr(n){let e,t,i,r;return t=new Jc({props:{column:n[0].col}}),{c(){e=k("div"),le(t.$$.fragment),f(e,"class","layoutConfig svelte-hyxlzs")},m(o,s){D(o,e,s),ie(t,e,null),r=!0},p(o,s){const l={};s&1&&(l.column=o[0].col),t.$set(l)},i(o){r||(B(t.$$.fragment,o),he(()=>{r&&(i||(i=Ce(e,Se,{},!0)),i.run(1))}),r=!0)},o(o){H(t.$$.fragment,o),i||(i=Ce(e,Se,{},!1)),i.run(0),r=!1},d(o){o&&S(e),re(t),o&&i&&i.end()}}}function $c(n){let e,t,i,r,o,s,l,a,c,d=n[2]&&Zr(n);return{c(){e=k("div"),t=k("div"),i=k("div"),r=k("button"),r.innerHTML='<span class="icon"><i class="icon-Line icon-TextSize icon-configure" aria-hidden="true"></i></span>',s=A(),d&&d.c(),f(r,"title","Change Layout"),f(r,"class","change svelte-hyxlzs"),f(i,"class","actions svelte-hyxlzs"),f(t,"class","gridMenu svelte-hyxlzs"),K(t,"showConfig",n[2]),f(e,"class","cgb-component")},m(u,m){D(u,e,m),v(e,t),v(t,i),v(i,r),n[8](t),v(e,s),d&&d.m(e,null),l=!0,a||(c=[q(r,"click",n[7]),Gt(hn.call(null,e))],a=!0)},p(u,[m]){(!l||m&4)&&K(t,"showConfig",u[2]),u[2]?d?(d.p(u,m),m&4&&B(d,1)):(d=Zr(u),d.c(),B(d,1),d.m(e,null)):d&&(oe(),H(d,1,1,()=>{d=null}),se())},i(u){l||(he(()=>{l&&(o||(o=Ce(t,Se,{delay:100,duration:200},!0)),o.run(1))}),B(d),l=!0)},o(u){o||(o=Ce(t,Se,{delay:100,duration:200},!1)),o.run(0),H(d),l=!1},d(u){u&&S(e),n[8](null),u&&o&&o.end(),d&&d.d(),a=!1,pe(c)}}}function xc(n,e,t){let i,r=z,o=()=>(r(),r=Be(a,h=>t(6,i=h)),a);n.$$.on_destroy.push(()=>r());let{props:s}=e,{isDominant:l}=e,{dominantPopover:a=void 0}=e;o();let c=!1,d=!1,u;const m=()=>{t(2,c=!c),t(3,d=!1)};function p(h){ce[h?"unshift":"push"](()=>{u=h,t(4,u)})}return n.$$set=h=>{"props"in h&&t(0,s=h.props),"isDominant"in h&&t(5,l=h.isDominant),"dominantPopover"in h&&o(t(1,a=h.dominantPopover))},n.$$.update=()=>{n.$$.dirty&64&&(i||(t(2,c=!1),t(3,d=!1))),n.$$.dirty&1&&s.col.id&&(t(2,c=!1),t(3,d=!1)),n.$$.dirty&36&&(c?l.set(!0):l.set(!1))},[s,a,c,d,u,l,i,m,p]}class ed extends Ie{constructor(e){super(),ye(this,e,xc,$c,ve,{props:0,isDominant:5,dominantPopover:1})}}class Wt extends ht{constructor(e,t,i,r,o){super(i,e.editor,void 0,void 0,o),this.parentGrid=e,this.node=i,this.innerNode=r,this.selectsParent=!0,this.selectionMethod="focus",this.trackInnerText=!1,this.attributes=new Map([]),this.defaultClasses=new Set(["cgb-col"]),this.showPopover=ct("cgb-preferences-showadvanced",!1),this.width=we(t),this.width.subscribe(s=>{this.classList.update(l=>{const a=Array.from(l).filter(c=>c.match(/^col-(xs|sm|md|lg)/));return l.remove(...a),[`col-xs-${s.xs}`,`col-sm-${s.sm}`,`col-md-${s.md}`,`col-lg-${s.lg}`].forEach(c=>{l.add(c)}),l})}),this.checkChildren(),this.parentGrid.editor.dom.bind(this.node,"click",s=>{if(this.checkChildren(),!this.innerNode.contains(s.target)){const l=this.parentGrid.editor.dom.add(this.getTextTarget(),"span");l&&this.parentGrid.editor.selection.select(l)}}),this.parentGrid.editor.dom.bind(this.node,"keydown",s=>{if(s.key==="Backspace"||s.key==="Delete"){if(ht.isEmpty(this.innerNode))return s.preventDefault(),this.checkChildren(),!1;{const l=this.parentGrid.editor.selection,a=l.getRng();if(s.key==="Backspace"&&l.isCollapsed()&&a.startOffset===0&&Array.from(this.innerNode.children).filter(c=>{var d;return((d=c==null?void 0:c.style)==null?void 0:d.display)!=="none"}).findIndex(c=>c===l.getStart().closest(".cgb-col-inner > *"))===0)return s.preventDefault(),!1}}}),this.watchNodes.set(this.innerNode,{name:"innerNode",attributeFilter:["style","class"]}),this.attributes.set("innerNode/style",we(this.innerNode.style)),this.attributes.set("innerNode/class",we(this.innerNode.classList)),this.setupObserver(),this.popover=this.setupPopover(ed,{col:this},"bottom",{shift:{crossAxis:!0,padding:30}}),this.isSelected.subscribe(s=>{s&&ue(this.showPopover)?!this.popover.isActive&&this.popover.show():this.popover.isActive&&this.popover.hide()}),this.isSelected.subscribe(()=>{ue(this.parent)})}getTextTarget(){const e=this.innerNode.querySelectorAll(":scope > p:not([data-mce-caret]):not([data-mce-bogus])");let t;return e.length?t=e[e.length-1]:t=this.parentGrid.editor.dom.add(this.innerNode,"p"),ht.isEmpty(t)&&(t.innerHTML="",this.parentGrid.editor.dom.add(t,"br",{"data-mce-bogus":"1"})),e[e.length-1]}checkSelf(){}checkChildren(){this.stopObserving();let e;[this.innerNode,e]=Wt.getOrCreateInnerNode(this.parentGrid,this.node,this.innerNode),e&&(this.watchNodes.clear(),this.watchNodes.set(this.node,{name:""}),this.watchNodes.set(this.innerNode,{name:"innerNode",attributeFilter:["style","class"]})),this.startObserving()}static create(e,t,i){const r=e.parentGrid.editor.dom.create("div",{class:"cgb-col"});e.parentGrid.editor.dom.add(e.node,r);const o=e.parentGrid.editor.dom.add(r,"div",{contenteditable:!0,class:"cgb-col-inner"});return new Wt(e.parentGrid,t,r,o)}static getOrCreateInnerNode(e,t,i){let r=!1,o;if(!i||i.parentNode!==t?(o=t.querySelector(":scope > div.cgb-col-inner"),o||(o=e.editor.dom.create("div",{contenteditable:!0,class:"cgb-col-inner"}),t.appendChild(o)),e.editor.dom.setAttrib(o,"contenteditable","true"),r=o!==i):(o=i,e.editor.dom.setAttrib(o,"contenteditable","true")),[...t.childNodes].forEach(s=>{s!==o&&s.nodeType!==Node.COMMENT_NODE&&(s==null?void 0:s.dataset.cgbNoMove)!=="true"&&o.appendChild(s)}),ht.isEmpty(o)){o.innerHTML="",e.editor.dom.add(o,"div",{class:"cgb-empty-placeholder",style:"display: none",contenteditable:!1},"&nbsp;");const s=e.editor.dom.add(o,"p");e.editor.dom.add(s,"br",{"data-mce-bogus":"1"}),e.editor.selection.getNode().closest(".cgb-col")===t&&e.editor.selection.setCursorLocation(s,0)}return[o,r]}static import(e,t,i){let[r,o]=this.getOrCreateInnerNode(e,t);return t.dataset.cgbId&&delete t.dataset.cgbId,t.dataset.cgeId&&delete t.dataset.cgeId,t.dataset.cgbVersion&&delete t.dataset.cgbVersion,t.dataset.cgbContent&&delete t.dataset.cgbContent,new Wt(e,i,t,r,t.dataset.cdbId||void 0)}toString(){return"<Column/>"}}class We{get id(){return this.cols.map(e=>`${e.xs}/${e.sm}/${e.md}/${e.lg}`).join("-")}constructor(e){this.cols=e.map(t=>{const i=t.xs,r=t.sm||i,o=t.md||r,s=t.lg||o;return{xs:i,sm:r,md:o,lg:s}})}static getLayout(e){const t=e.map(i=>["xs","sm","md","lg"].reduce((o,s)=>{const l=Array.from(i.classList).find(a=>a.startsWith(`col-${s}-`));if(s==="xs"&&!l)throw new Error("Can't determine col size");return l&&(o[s]=parseInt(l.split("-")[2])),o},{}));return new We(t)}}const Vn={1:new We([{xs:12}]),"1/2 + 1/2":new We([{sm:6,xs:12},{sm:6,xs:12}]),"1/3 + 1/3 + 1/3":new We([{md:4,xs:12},{md:4,xs:12},{md:4,xs:12}]),"1/4 + 1/4 + 1/4 + 1/4":new We([{md:3,xs:6},{md:3,xs:6},{md:3,xs:6},{md:3,xs:6}]),"1/3 + 2/3":new We([{md:4,xs:6},{md:8,xs:6}]),"2/3 + 1/3":new We([{md:8,xs:6},{md:4,xs:6}]),"1/4 + 3/4":new We([{md:3,xs:6},{md:9,xs:6}]),"3/4 + 1/4":new We([{md:9,xs:6},{md:3,xs:6}]),"1/4 + 1/2 + 1/4":new We([{md:3,xs:12},{md:6,xs:12},{md:3,xs:12}]),"1/4 + 1/4 + 1/2":new We([{md:3,xs:12},{md:3,xs:12},{md:6,xs:12}]),"1/2 + 1/4 + 1/4":new We([{md:6,xs:12},{md:3,xs:12},{md:3,xs:12}])},Jr=(n,e="Delete Column",t="This row has content in it! Are you sure you want to delete it?",i="Yes, delete this row")=>new Promise(r=>{n.windowManager.open({title:e,body:{type:"panel",items:[{type:"htmlpanel",html:`<p>${t}</p>`}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:i,primary:!0}],onSubmit:o=>{r(!0),o.close()},onCancel:o=>{r(!1)}})});function $r(n,e,t){const i=n.slice();return i[12]=e[t],i[14]=t,i}const td=n=>({}),xr=n=>({index:n[14]});function nd(n){let e,t=n[3][n[14]]+"",i;return{c(){e=k("span"),i=Y(t)},m(r,o){D(r,e,o),v(e,i)},p(r,o){o&8&&t!==(t=r[3][r[14]]+"")&&ge(i,t)},d(r){r&&S(e)}}}function eo(n){let e,t,i,r,o=!1,s,l,a,c,d;const u=n[8].default,m=Ke(u,n,n[7],xr),p=m||nd(n);return a=ml(n[11][0]),{c(){e=k("label"),p&&p.c(),t=A(),i=k("input"),s=A(),f(i,"name",n[4]),f(i,"type","radio"),i.__value=r=n[12],de(i,i.__value),f(i,"class","svelte-amrjp1"),f(e,"class","btn svelte-amrjp1"),K(e,"active",n[6](n[0],n[12])),a.p(i)},m(h,_){D(h,e,_),p&&p.m(e,null),v(e,t),v(e,i),i.checked=i.__value===n[0],v(e,s),l=!0,c||(d=[q(i,"change",n[10]),q(i,"change",n[9])],c=!0)},p(h,_){m?m.p&&(!l||_&128)&&Ze(m,u,h,h[7],l?Qe(u,h[7],_,td):Je(h[7]),xr):p&&p.p&&(!l||_&8)&&p.p(h,l?_:-1),(!l||_&16)&&f(i,"name",h[4]),(!l||_&4&&r!==(r=h[12]))&&(i.__value=r,de(i,i.__value),o=!0),(o||_&5)&&(i.checked=i.__value===h[0]),(!l||_&69)&&K(e,"active",h[6](h[0],h[12]))},i(h){l||(B(p,h),l=!0)},o(h){H(p,h),l=!1},d(h){h&&S(e),p&&p.d(h),a.r(),c=!1,pe(d)}}}function id(n){let e,t,i,r,o,s=be(n[2]),l=[];for(let c=0;c<s.length;c+=1)l[c]=eo($r(n,s,c));const a=c=>H(l[c],1,1,()=>{l[c]=null});return{c(){e=k("span"),t=Y(n[1]),i=A(),r=k("div");for(let c=0;c<l.length;c+=1)l[c].c();f(e,"class","label-text"),f(r,"class","btn-group svelte-amrjp1"),K(r,"fullWidth",n[5]),ee(r,"--btn-items",n[2].length)},m(c,d){D(c,e,d),v(e,t),D(c,i,d),D(c,r,d);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(r,null);o=!0},p(c,[d]){if((!o||d&2)&&ge(t,c[1]),d&221){s=be(c[2]);let u;for(u=0;u<s.length;u+=1){const m=$r(c,s,u);l[u]?(l[u].p(m,d),B(l[u],1)):(l[u]=eo(m),l[u].c(),B(l[u],1),l[u].m(r,null))}for(oe(),u=s.length;u<l.length;u+=1)a(u);se()}(!o||d&32)&&K(r,"fullWidth",c[5]),d&4&&ee(r,"--btn-items",c[2].length)},i(c){if(!o){for(let d=0;d<s.length;d+=1)B(l[d]);o=!0}},o(c){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)H(l[d]);o=!1},d(c){c&&(S(e),S(i),S(r)),qe(l,c)}}}function rd(n,e,t){let{$$slots:i={},$$scope:r}=e,{title:o}=e,{choices:s}=e,{labels:l=s}=e,{value:a}=e,{id:c=ke()}=e,{fullWidth:d=!1}=e,{comparator:u=(_,y)=>_===y}=e;const m=[[]];function p(_){mn.call(this,n,_)}function h(){a=this.__value,t(0,a)}return n.$$set=_=>{"title"in _&&t(1,o=_.title),"choices"in _&&t(2,s=_.choices),"labels"in _&&t(3,l=_.labels),"value"in _&&t(0,a=_.value),"id"in _&&t(4,c=_.id),"fullWidth"in _&&t(5,d=_.fullWidth),"comparator"in _&&t(6,u=_.comparator),"$$scope"in _&&t(7,r=_.$$scope)},[a,o,s,l,c,d,u,r,i,p,h,m]}class Lt extends Ie{constructor(e){super(),ye(this,e,rd,id,ve,{title:1,choices:2,labels:3,value:0,id:4,fullWidth:5,comparator:6})}}function od(n){let e;return{c(){e=Y("")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function sd(n){let e;return{c(){e=Y("")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function ld(n){let e,t,i,r=Math.round(n[5].padding[0]||0)+"",o,s,l,a,c,d,u,m,p=Math.round(n[5].padding[1]||0)+"",h,_,y,g,b,w,I,C,L=Math.round(n[5].padding[2]||0)+"",E,T,O,M,P,F,V,X,R=Math.round(n[5].padding[3]||0)+"",N,W,Q,G,ae,$;return{c(){e=k("label"),t=k("span"),i=Y("Padding Top ("),o=Y(r),s=Y("px)"),l=A(),a=k("input"),c=A(),d=k("label"),u=k("span"),m=Y("Padding Right ("),h=Y(p),_=Y("px)"),y=A(),g=k("input"),b=A(),w=k("label"),I=k("span"),C=Y("Padding Bottom ("),E=Y(L),T=Y("px)"),O=A(),M=k("input"),P=A(),F=k("label"),V=k("span"),X=Y("Padding Left ("),N=Y(R),W=Y("px)"),Q=A(),G=k("input"),f(t,"class","label-text"),f(a,"id",n[6].padding+"-top"),f(a,"type","range"),f(a,"min","0"),f(a,"max","20"),f(a,"class","svelte-9czja4"),f(e,"for",n[6].padding+"-top"),f(e,"class","svelte-9czja4"),f(u,"class","label-text"),f(g,"id",n[6].padding+"-right"),f(g,"type","range"),f(g,"min","0"),f(g,"max","20"),f(g,"class","svelte-9czja4"),f(d,"for",n[6].padding+"-right"),f(d,"class","svelte-9czja4"),f(I,"class","label-text"),f(M,"id",n[6].padding+"-bottom"),f(M,"type","range"),f(M,"min","0"),f(M,"max","20"),f(M,"class","svelte-9czja4"),f(w,"for",n[6].padding+"-bottom"),f(w,"class","svelte-9czja4"),f(V,"class","label-text"),f(G,"id",n[6].padding+"-left"),f(G,"type","range"),f(G,"min","0"),f(G,"max","20"),f(G,"class","svelte-9czja4"),f(F,"for",n[6].padding+"-left"),f(F,"class","svelte-9czja4")},m(Z,ne){D(Z,e,ne),v(e,t),v(t,i),v(t,o),v(t,s),v(e,l),v(e,a),de(a,n[5].padding[0]),D(Z,c,ne),D(Z,d,ne),v(d,u),v(u,m),v(u,h),v(u,_),v(d,y),v(d,g),de(g,n[5].padding[1]),D(Z,b,ne),D(Z,w,ne),v(w,I),v(I,C),v(I,E),v(I,T),v(w,O),v(w,M),de(M,n[5].padding[2]),D(Z,P,ne),D(Z,F,ne),v(F,V),v(V,X),v(V,N),v(V,W),v(F,Q),v(F,G),de(G,n[5].padding[3]),ae||($=[q(a,"change",n[12]),q(a,"input",n[12]),q(g,"change",n[13]),q(g,"input",n[13]),q(M,"change",n[14]),q(M,"input",n[14]),q(G,"change",n[15]),q(G,"input",n[15])],ae=!0)},p(Z,ne){ne&32&&r!==(r=Math.round(Z[5].padding[0]||0)+"")&&ge(o,r),ne&32&&de(a,Z[5].padding[0]),ne&32&&p!==(p=Math.round(Z[5].padding[1]||0)+"")&&ge(h,p),ne&32&&de(g,Z[5].padding[1]),ne&32&&L!==(L=Math.round(Z[5].padding[2]||0)+"")&&ge(E,L),ne&32&&de(M,Z[5].padding[2]),ne&32&&R!==(R=Math.round(Z[5].padding[3]||0)+"")&&ge(N,R),ne&32&&de(G,Z[5].padding[3])},d(Z){Z&&(S(e),S(c),S(d),S(b),S(w),S(P),S(F)),ae=!1,pe($)}}}function ad(n){let e,t,i;return{c(){e=k("input"),f(e,"id",n[6].padding),f(e,"type","range"),f(e,"min","0"),f(e,"max","20")},m(r,o){D(r,e,o),de(e,n[5].padding),t||(i=[q(e,"change",n[11]),q(e,"input",n[11])],t=!0)},p(r,o){o&32&&de(e,r[5].padding)},d(r){r&&S(e),t=!1,pe(i)}}}function cd(n){let e;return{c(){e=Y("")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function dd(n){let e;return{c(){e=Y("")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function ud(n){let e,t,i,r=Math.round(n[5].margin[0]||0)+"",o,s,l,a,c,d,u,m,p=Math.round(n[5].margin[1]||0)+"",h,_,y,g,b,w,I,C,L=Math.round(n[5].margin[2]||0)+"",E,T,O,M,P,F,V,X,R=Math.round(n[5].margin[3]||0)+"",N,W,Q,G,ae,$;return{c(){e=k("label"),t=k("span"),i=Y("Margin Top ("),o=Y(r),s=Y("px)"),l=A(),a=k("input"),c=A(),d=k("label"),u=k("span"),m=Y("Margin Right ("),h=Y(p),_=Y("px)"),y=A(),g=k("input"),b=A(),w=k("label"),I=k("span"),C=Y("Margin Bottom ("),E=Y(L),T=Y("px)"),O=A(),M=k("input"),P=A(),F=k("label"),V=k("span"),X=Y("Margin Left ("),N=Y(R),W=Y("px)"),Q=A(),G=k("input"),f(t,"class","label-text"),f(a,"id",n[6].margin+"-top"),f(a,"type","range"),f(a,"min","0"),f(a,"max","20"),f(a,"class","svelte-9czja4"),f(e,"for",n[6].margin+"-top"),f(e,"class","svelte-9czja4"),f(u,"class","label-text"),f(g,"id",n[6].margin+"-right"),f(g,"type","range"),f(g,"min","0"),f(g,"max","20"),f(g,"class","svelte-9czja4"),f(d,"for",n[6].margin+"-right"),f(d,"class","svelte-9czja4"),f(I,"class","label-text"),f(M,"id",n[6].margin+"-bottom"),f(M,"type","range"),f(M,"min","0"),f(M,"max","20"),f(M,"class","svelte-9czja4"),f(w,"for",n[6].margin+"-bottom"),f(w,"class","svelte-9czja4"),f(V,"class","label-text"),f(G,"id",n[6].margin+"-left"),f(G,"type","range"),f(G,"min","0"),f(G,"max","20"),f(G,"class","svelte-9czja4"),f(F,"for",n[6].margin+"-left"),f(F,"class","svelte-9czja4")},m(Z,ne){D(Z,e,ne),v(e,t),v(t,i),v(t,o),v(t,s),v(e,l),v(e,a),de(a,n[5].margin[0]),D(Z,c,ne),D(Z,d,ne),v(d,u),v(u,m),v(u,h),v(u,_),v(d,y),v(d,g),de(g,n[5].margin[1]),D(Z,b,ne),D(Z,w,ne),v(w,I),v(I,C),v(I,E),v(I,T),v(w,O),v(w,M),de(M,n[5].margin[2]),D(Z,P,ne),D(Z,F,ne),v(F,V),v(V,X),v(V,N),v(V,W),v(F,Q),v(F,G),de(G,n[5].margin[3]),ae||($=[q(a,"change",n[18]),q(a,"input",n[18]),q(g,"change",n[19]),q(g,"input",n[19]),q(M,"change",n[20]),q(M,"input",n[20]),q(G,"change",n[21]),q(G,"input",n[21])],ae=!0)},p(Z,ne){ne&32&&r!==(r=Math.round(Z[5].margin[0]||0)+"")&&ge(o,r),ne&32&&de(a,Z[5].margin[0]),ne&32&&p!==(p=Math.round(Z[5].margin[1]||0)+"")&&ge(h,p),ne&32&&de(g,Z[5].margin[1]),ne&32&&L!==(L=Math.round(Z[5].margin[2]||0)+"")&&ge(E,L),ne&32&&de(M,Z[5].margin[2]),ne&32&&R!==(R=Math.round(Z[5].margin[3]||0)+"")&&ge(N,R),ne&32&&de(G,Z[5].margin[3])},d(Z){Z&&(S(e),S(c),S(d),S(b),S(w),S(P),S(F)),ae=!1,pe($)}}}function fd(n){let e,t,i;return{c(){e=k("input"),f(e,"id",n[6].margin),f(e,"type","range"),f(e,"min","0"),f(e,"max","20")},m(r,o){D(r,e,o),de(e,n[5].margin),t||(i=[q(e,"change",n[17]),q(e,"input",n[17])],t=!0)},p(r,o){o&32&&de(e,r[5].margin)},d(r){r&&S(e),t=!1,pe(i)}}}function md(n){let e,t,i,r,o,s,l,a,c,d,u=typeof n[5].padding=="number"?`(${Math.round(n[5].padding||0)}px)`:"",m,p,h,_,y,g,b,w,I=typeof n[5].margin=="number"?`(${Math.round(n[5].margin||0)}px)`:"",C,L,E,T,O,M,P,F,V;function X(j){n[9](j)}let R={title:"Row Type",choices:Object.values(n[1]),id:n[6].card};n[5].card!==void 0&&(R.value=n[5].card),o=new Lt({props:R}),ce.push(()=>Me(o,"value",X));function N(j,J){return j[3]?od:sd}let W=N(n),Q=W(n);function G(j,J){if(!j[3]&&typeof j[5].padding=="number")return ad;if(typeof j[5].padding!="number")return ld}let ae=G(n),$=ae&&ae(n);function Z(j,J){return j[2]?cd:dd}let ne=Z(n),me=ne(n);function U(j,J){if(!j[2])return fd;if(typeof j[5].margin!="number")return ud}let Oe=U(n),x=Oe&&Oe(n);return M=new Fl({props:{element:n[0],preferences:n[4]}}),{c(){e=k("div"),t=k("div"),i=k("h5"),i.textContent="Row Settings",r=A(),le(o.$$.fragment),l=A(),a=k("div"),c=k("span"),d=Y("Padding "),m=Y(u),p=A(),h=k("button"),Q.c(),_=A(),$&&$.c(),y=A(),g=k("div"),b=k("span"),w=Y("Margin "),C=Y(I),L=A(),E=k("button"),me.c(),T=A(),x&&x.c(),O=A(),le(M.$$.fragment),f(i,"class","svelte-9czja4"),f(c,"class","label-text"),f(b,"class","label-text"),f(t,"class","advancedSettings svelte-9czja4"),f(e,"class","cgb-component")},m(j,J){D(j,e,J),v(e,t),v(t,i),v(t,r),ie(o,t,null),v(t,l),v(t,a),v(a,c),v(c,d),v(c,m),v(c,p),v(c,h),Q.m(h,null),v(a,_),$&&$.m(a,null),v(t,y),v(t,g),v(g,b),v(b,w),v(b,C),v(b,L),v(b,E),me.m(E,null),v(g,T),x&&x.m(g,null),v(t,O),ie(M,t,null),P=!0,F||(V=[q(h,"click",n[10]),q(E,"click",n[16]),Gt(hn.call(null,t))],F=!0)},p(j,[J]){const Ae={};J&2&&(Ae.choices=Object.values(j[1])),!s&&J&32&&(s=!0,Ae.value=j[5].card,De(()=>s=!1)),o.$set(Ae),(!P||J&32)&&u!==(u=typeof j[5].padding=="number"?`(${Math.round(j[5].padding||0)}px)`:"")&&ge(m,u),W!==(W=N(j))&&(Q.d(1),Q=W(j),Q&&(Q.c(),Q.m(h,null))),ae===(ae=G(j))&&$?$.p(j,J):($&&$.d(1),$=ae&&ae(j),$&&($.c(),$.m(a,null))),(!P||J&32)&&I!==(I=typeof j[5].margin=="number"?`(${Math.round(j[5].margin||0)}px)`:"")&&ge(C,I),ne!==(ne=Z(j))&&(me.d(1),me=ne(j),me&&(me.c(),me.m(E,null))),Oe===(Oe=U(j))&&x?x.p(j,J):(x&&x.d(1),x=Oe&&Oe(j),x&&(x.c(),x.m(g,null)));const fe={};J&1&&(fe.element=j[0]),J&16&&(fe.preferences=j[4]),M.$set(fe)},i(j){P||(B(o.$$.fragment,j),B(M.$$.fragment,j),P=!0)},o(j){H(o.$$.fragment,j),H(M.$$.fragment,j),P=!1},d(j){j&&S(e),re(o),Q.d(),$&&$.d(),me.d(),x&&x.d(),re(M),F=!1,pe(V)}}}function hd(n,e,t){let i,r,o,s,l=z,a=()=>(l(),l=Be(o,P=>t(5,s=P)),o);n.$$.on_destroy.push(()=>l());let{row:c}=e;var d;(function(P){P.Normal="Default",P.Card="Card"})(d||(d={}));let u,m;const p={padding:ke(),margin:ke(),card:ke(),background:ke(),textcolor:ke()};function h(P){n.$$.not_equal(s.card,P)&&(s.card=P,o.set(s))}const _=()=>t(3,m=!m);function y(){s.padding=Ye(this.value),o.set(s)}function g(){s.padding[0]=Ye(this.value),o.set(s)}function b(){s.padding[1]=Ye(this.value),o.set(s)}function w(){s.padding[2]=Ye(this.value),o.set(s)}function I(){s.padding[3]=Ye(this.value),o.set(s)}const C=()=>t(2,u=!u);function L(){s.margin=Ye(this.value),o.set(s)}function E(){s.margin[0]=Ye(this.value),o.set(s)}function T(){s.margin[1]=Ye(this.value),o.set(s)}function O(){s.margin[2]=Ye(this.value),o.set(s)}function M(){s.margin[3]=Ye(this.value),o.set(s)}return n.$$set=P=>{"row"in P&&t(0,c=P.row)},n.$$.update=()=>{n.$$.dirty&1&&c.columns,n.$$.dirty&1&&t(8,i=c.style),n.$$.dirty&1&&t(7,r=c.classList),n.$$.dirty&398&&a(t(4,o=ei([i,r],([P,F])=>{let V;P.margin&&!u?V=Et(P.marginTop)||0:u?V=[P.marginTop,P.marginRight,P.marginBottom,P.marginLeft].map(N=>Et(N)||0):V=0;let X;P.padding&&!m?X=Et(P.paddingTop)||0:m?X=[P.paddingTop,P.paddingRight,P.paddingBottom,P.paddingLeft].map(N=>Et(N)||0):X=0;const R=F.contains("cdb-card");return{padding:X,margin:V,background:Zt(P.background),textColor:Zt(P.color),card:R?d.Card:d.Normal}},(P,[F,V])=>{var X,R;switch(P.card){case d.Normal:V.remove("cdb-card");break;case d.Card:V.add("cdb-card");break}return F&&(typeof P.padding=="number"?F.padding=`${P.padding}px`:Array.isArray(P.padding)&&(F.padding=P.padding.map(N=>`${N}px`).join(" ")),typeof P.margin=="number"?F.margin=`${P.margin}px`:Array.isArray(P.margin)&&(F.margin=P.margin.map(N=>`${N}px`).join(" ")),F.background=((X=P.background)===null||X===void 0?void 0:X.toHex())||"",F.color=((R=P.textColor)===null||R===void 0?void 0:R.toHex())||""),[F,V]})))},t(2,u=void 0),t(3,m=void 0),[c,d,u,m,o,s,p,r,i,h,_,y,g,b,w,I,C,L,E,T,O,M]}class pd extends Ie{constructor(e){super(),ye(this,e,hd,md,ve,{row:0})}}function to(n,e,t){const i=n.slice();return i[19]=e[t][0],i[20]=e[t][1],i}function no(n,e,t){const i=n.slice();return i[23]=e[t],i}function io(n){let e;return{c(){e=k("div"),f(e,"class","col svelte-1fv22vz"),f(e,"style",`--gridViewColWidth:${n[23].lg/12*100}%;`)},m(t,i){D(t,e,i)},p:z,d(t){t&&S(e)}}}function ro(n,e){let t,i,r,o,s=be(e[20].cols),l=[];for(let c=0;c<s.length;c+=1)l[c]=io(no(e,s,c));function a(...c){return e[16](e[20],...c)}return{key:n,first:null,c(){t=k("button");for(let c=0;c<l.length;c+=1)l[c].c();i=A(),f(t,"class","layout svelte-1fv22vz"),f(t,"title",e[19]),f(t,"tabindex","0"),K(t,"active",e[8]&&e[8].id===e[20].id),this.first=t},m(c,d){D(c,t,d);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);v(t,i),r||(o=q(t,"click",a),r=!0)},p(c,d){if(e=c,d&0){s=be(e[20].cols);let u;for(u=0;u<s.length;u+=1){const m=no(e,s,u);l[u]?l[u].p(m,d):(l[u]=io(m),l[u].c(),l[u].m(t,i))}for(;u<l.length;u+=1)l[u].d(1);l.length=s.length}d&256&&K(t,"active",e[8]&&e[8].id===e[20].id)},d(c){c&&S(t),qe(l,c),r=!1,o()}}}function oo(n){let e,t,i=n[0]&&n[5]&&so(n);return{c(){e=k("div"),i&&i.c(),f(e,"class","settings svelte-1fv22vz")},m(r,o){D(r,e,o),i&&i.m(e,null),t=!0},p(r,o){r[0]&&r[5]?i?(i.p(r,o),o&33&&B(i,1)):(i=so(r),i.c(),B(i,1),i.m(e,null)):i&&(oe(),H(i,1,1,()=>{i=null}),se())},i(r){t||(B(i),t=!0)},o(r){H(i),t=!1},d(r){r&&S(e),i&&i.d()}}}function so(n){let e,t;return e=new pd({props:{row:n[0]}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.row=i[0]),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function lo(n){let e,t,i,r,o=n[5]?"Hide":"",s,l,a,c;return{c(){e=k("div"),t=k("button"),i=k("span"),i.innerHTML='<i class="icon-Line icon-TextSize icon-settings" aria-hidden="true"></i>',r=A(),s=Y(o),l=Y(" Advanced Settings"),f(i,"class","icon"),f(t,"class","open-advanced svelte-1fv22vz"),f(t,"title","settings"),f(e,"class","advanced svelte-1fv22vz")},m(d,u){D(d,e,u),v(e,t),v(t,i),v(t,r),v(t,s),v(t,l),a||(c=q(t,"click",n[17]),a=!0)},p(d,u){u&32&&o!==(o=d[5]?"Hide":"")&&ge(s,o)},d(d){d&&S(e),a=!1,c()}}}function gd(n){let e,t,i,r,o,s=[],l=new Map,a,c,d,u,m,p=be(Object.entries(Vn));const h=g=>g[20].id;for(let g=0;g<p.length;g+=1){let b=to(n,p,g),w=h(b);l.set(w,s[g]=ro(w,b))}let _=n[1]&&oo(n),y=n[1]&&lo(n);return{c(){e=k("div"),t=k("div"),i=k("div"),r=k("div"),o=k("div");for(let g=0;g<s.length;g+=1)s[g].c();a=A(),_&&_.c(),c=A(),y&&y.c(),f(o,"class","layoutGrid svelte-1fv22vz"),f(r,"class","layoutOptions svelte-1fv22vz"),f(i,"class","details svelte-1fv22vz"),f(t,"class","layoutList svelte-1fv22vz"),K(t,"expanded",n[0]&&n[5]),ee(t,"transform",n[7]),ee(t,"--full-width",n[6]),f(e,"class","cgb-component")},m(g,b){D(g,e,b),v(e,t),v(t,i),v(i,r),v(r,o);for(let w=0;w<s.length;w+=1)s[w]&&s[w].m(o,null);v(i,a),_&&_.m(i,null),v(t,c),y&&y.m(t,null),n[18](t),m=!0},p(g,[b]){b&768&&(p=be(Object.entries(Vn)),s=Ui(s,b,h,1,g,p,l,o,Vi,ro,null,to)),g[1]?_?(_.p(g,b),b&2&&B(_,1)):(_=oo(g),_.c(),B(_,1),_.m(i,null)):_&&(oe(),H(_,1,1,()=>{_=null}),se()),g[1]?y?y.p(g,b):(y=lo(g),y.c(),y.m(t,null)):y&&(y.d(1),y=null),(!m||b&33)&&K(t,"expanded",g[0]&&g[5]),b&128&&ee(t,"transform",g[7]),b&64&&ee(t,"--full-width",g[6])},i(g){m||(B(_),g&&he(()=>{m&&(u&&u.end(1),d=Xe(t,He,{}),d.start())}),m=!0)},o(g){H(_),d&&d.invalidate(),u=Zn(t,Se,{}),m=!1},d(g){g&&S(e);for(let b=0;b<s.length;b+=1)s[b].d();_&&_.d(),y&&y.d(),n[18](null),g&&u&&u.end()}}}function bd(n,e,t){let i,r,o,s,l=z,a=()=>(l(),l=Be(y,M=>t(5,s=M)),y),c,d=z,u=()=>(d(),d=Be(_,M=>t(8,c=M)),_);n.$$.on_destroy.push(()=>l()),n.$$.on_destroy.push(()=>d());const m=Re();let{row:p=!1}=e,{showAdvanced:h=!!p}=e,{activeLayout:_=p?p.layout:void 0}=e;u();let{settingsOpen:y=ct("cgb-preferences-showadvanced",!1)}=e;a();let{sourceTarget:g}=e,b=0,w=0,I,C="50vw",L;Ue(()=>{L&&L()});const E=(M,P)=>m("add",M),T=()=>_e(y,s=!s,s);function O(M){ce[M?"unshift":"push"](()=>{I=M,t(4,I)})}return n.$$set=M=>{"row"in M&&t(0,p=M.row),"showAdvanced"in M&&t(1,h=M.showAdvanced),"activeLayout"in M&&u(t(2,_=M.activeLayout)),"settingsOpen"in M&&a(t(3,y=M.settingsOpen)),"sourceTarget"in M&&t(10,g=M.sourceTarget)},n.$$.update=()=>{n.$$.dirty&1&&t(15,r=p?p.editor.getBody():void 0),n.$$.dirty&33842&&t(14,o=async()=>{let M=[0,0];const P=await Zi(g,I,{placement:"top",middleware:[Kt(0),qn(),jn(),Kt(10)]});t(11,b=P.x+M[0]),t(12,w=P.y+M[1]),t(6,C=r?`${r.offsetWidth}px`:"50vw")}),n.$$.dirty&6144&&t(7,i=`translate(${Math.round(b)}px,${Math.round(w)}px)`),n.$$.dirty&25616&&g&&I&&(L&&L(),t(13,L=Qi(g,I,o)))},[p,h,_,y,I,s,C,i,c,m,g,b,w,L,o,r,E,T,O]}class vd extends Ie{constructor(e){super(),ye(this,e,bd,gd,ve,{row:0,showAdvanced:1,activeLayout:2,settingsOpen:3,sourceTarget:10})}}function ao(n){let e,t,i,r,o,s,l,a,c,d;return{c(){e=k("div"),t=k("button"),t.innerHTML='<span class="icon"><i class="icon-Line icon-TextSize icon-arrow-open-up" aria-hidden="true"></i></span>',r=A(),o=k("button"),o.innerHTML='<span class="icon"><i class="icon-Line icon-TextSize icon-arrow-open-down" aria-hidden="true"></i></span>',f(t,"title","Add Row Above"),f(t,"class","addAbove svelte-1k5qits"),f(o,"title","Add Row Below"),f(o,"class","addBelow svelte-1k5qits"),f(e,"class","addRowSelect svelte-1k5qits")},m(u,m){D(u,e,m),v(e,t),v(e,r),v(e,o),a=!0,c||(d=[q(t,"click",n[15]),q(o,"click",n[16])],c=!0)},p:z,i(u){a||(he(()=>{a&&(i||(i=Ce(t,Se,{},!0)),i.run(1))}),he(()=>{a&&(s||(s=Ce(o,Se,{},!0)),s.run(1))}),he(()=>{a&&(l||(l=Ce(e,He,{},!0)),l.run(1))}),a=!0)},o(u){i||(i=Ce(t,Se,{},!1)),i.run(0),s||(s=Ce(o,Se,{},!1)),s.run(0),l||(l=Ce(e,He,{},!1)),l.run(0),a=!1},d(u){u&&S(e),u&&i&&i.end(),u&&s&&s.end(),u&&l&&l.end(),c=!1,pe(d)}}}function co(n){let e,t,i,r;function o(l){n[17](l)}let s={showAdvanced:!0,row:n[0].row,sourceTarget:n[4]};return n[5]!==void 0&&(s.settingsOpen=n[5]),t=new vd({props:s}),ce.push(()=>Me(t,"settingsOpen",o)),t.$on("add",n[18]),t.$on("cancel",n[19]),{c(){e=k("div"),le(t.$$.fragment),f(e,"class","layoutConfig")},m(l,a){D(l,e,a),ie(t,e,null),r=!0},p(l,a){const c={};a&1&&(c.row=l[0].row),a&16&&(c.sourceTarget=l[4]),!i&&a&32&&(i=!0,c.settingsOpen=l[5],De(()=>i=!1)),t.$set(c)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){H(t.$$.fragment,l),r=!1},d(l){l&&S(e),re(t)}}}function _d(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_=n[3]&&ao(n),y=n[2]&&co(n);return{c(){e=k("div"),t=k("div"),i=k("div"),r=k("button"),r.innerHTML='<span class="icon"><i class="icon-Line icon-TextSize icon-x" aria-hidden="true"></i></span>',o=A(),s=k("button"),s.innerHTML='<span class="icon"><i class="icon-Line icon-TextSize icon-configure" aria-hidden="true"></i></span>',l=A(),a=k("button"),a.innerHTML='<span class="icon"><i class="icon-Solid icon-TextSize icon-add" aria-hidden="true"></i></span>',d=A(),_&&_.c(),u=A(),y&&y.c(),f(r,"title","Delete Row"),f(r,"class","delete svelte-1k5qits"),f(s,"title","Change Layout"),f(s,"class","change svelte-1k5qits"),f(a,"title","Add Row"),f(a,"class","addRow svelte-1k5qits"),f(i,"class","actions svelte-1k5qits"),f(t,"class","gridMenu svelte-1k5qits"),K(t,"showChangeLayout",n[2]),f(e,"class","cgb-component")},m(g,b){D(g,e,b),v(e,t),v(t,i),v(i,r),v(i,o),v(i,s),v(i,l),v(i,a),n[14](t),v(e,d),_&&_.m(e,null),v(e,u),y&&y.m(e,null),m=!0,p||(h=[q(r,"click",n[11]),q(s,"click",n[12]),q(a,"click",n[13]),Gt(hn.call(null,e))],p=!0)},p(g,[b]){(!m||b&4)&&K(t,"showChangeLayout",g[2]),g[3]?_?(_.p(g,b),b&8&&B(_,1)):(_=ao(g),_.c(),B(_,1),_.m(e,u)):_&&(oe(),H(_,1,1,()=>{_=null}),se()),g[2]?y?(y.p(g,b),b&4&&B(y,1)):(y=co(g),y.c(),B(y,1),y.m(e,null)):y&&(oe(),H(y,1,1,()=>{y=null}),se())},i(g){m||(he(()=>{m&&(c||(c=Ce(t,Se,{delay:100,duration:200},!0)),c.run(1))}),B(_),B(y),m=!0)},o(g){c||(c=Ce(t,Se,{delay:100,duration:200},!1)),c.run(0),H(_),H(y),m=!1},d(g){g&&S(e),n[14](null),g&&c&&c.end(),_&&_.d(),y&&y.d(),p=!1,pe(h)}}}function wd(n,e,t){let i,r=z,o=()=>(r(),r=Be(u,P=>t(10,i=P)),u),s,l=z,a=()=>(l(),l=Be(_,P=>t(6,s=P)),_);n.$$.on_destroy.push(()=>r()),n.$$.on_destroy.push(()=>l());let{props:c}=e,{isDominant:d}=e,{dominantPopover:u=void 0}=e;o();let m=!1,p=!1,h,_;const y=(P,F)=>{c.row.parentGrid.addRow(F,P),t(3,p=!1),c.row.parentGrid.editor.selection.setCursorLocation()},g=P=>{c.row.setLayout(P)},b=()=>{c.row.delete()},w=()=>{t(2,m=!m),t(3,p=!1)},I=()=>{t(3,p=!p),t(2,m=!1)};function C(P){ce[P?"unshift":"push"](()=>{h=P,t(4,h)})}const L=()=>y(c.row.index,ue(c.row.layout)),E=()=>y(c.row.index+1,ue(c.row.layout));function T(P){_=P,a(t(5,_))}const O=P=>{g(P.detail),s||t(2,m=!1)},M=()=>{t(2,m=!1)};return n.$$set=P=>{"props"in P&&t(0,c=P.props),"isDominant"in P&&t(9,d=P.isDominant),"dominantPopover"in P&&o(t(1,u=P.dominantPopover))},n.$$.update=()=>{n.$$.dirty&1024&&(i||(t(2,m=!1),t(3,p=!1))),n.$$.dirty&1&&c.row.id&&(t(2,m=!1),t(3,p=!1)),n.$$.dirty&516&&(m?d.set(!0):d.set(!1))},[c,u,m,p,h,_,s,y,g,d,i,b,w,I,C,L,E,T,O,M]}class kd extends Ie{constructor(e){super(),ye(this,e,wd,_d,ve,{props:0,isDominant:9,dominantPopover:1})}}class tt extends ht{constructor(e,t,i,r=we([])){super(i,e.editor),this.parentGrid=e,this.node=i,this.columns=r,this.selectionMethod="focus",this.trackInnerText=!1,this.attributes=new Map([]),this.defaultClasses=new Set(["grid-row"]),this.isSelected=Ge(this.selected,o=>o.size>0),this.setupObserver(),this.setLayout(t),this.layout=Ge(this.columns,o=>We.getLayout(o.map(s=>s.node))),this.checkChildren(),this.node.addEventListener("click",()=>{this.checkChildren}),this.node.addEventListener("keydown",o=>{o.ctrlKey&&o.key==="F9"&&(this.popover.show(!0),o.preventDefault())}),this.popover=this.setupPopover(kd,{row:this},"top"),this.isSelected.subscribe(o=>{o?!this.popover.isActive&&this.popover.show():this.popover.isActive&&this.popover.hide()}),r.subscribe(o=>{this.children.set([...o,this.popover])})}get index(){return ue(this.parentGrid).findIndex(e=>e.id===this.id)}static columnNodes(e){return Array.from(e.children).filter(t=>Array.from(t.classList||[]).find(i=>i.startsWith("col-")))}static getLayoutFromNode(e){const t=tt.columnNodes(e);return We.getLayout(t)}get colNodes(){return tt.columnNodes(this.node)}static create(e,t=Vn[1],i,r="afterend"){const o=e.editor.dom.create("div");return i?(i.insertAdjacentElement(r,o),new tt(e,t,o)):(e.editor.dom.add(e.node,o),new tt(e,t,o))}static import(e,t){t.dataset.cgbId&&delete t.dataset.cgbId,t.dataset.cgeId&&delete t.dataset.cgeId,t.dataset.cgbVersion&&delete t.dataset.cgbVersion,t.dataset.cgbContent&&delete t.dataset.cgbContent;const i=tt.getLayoutFromNode(t),r=tt.columnNodes(t).map((s,l)=>Wt.import(e,s,i.cols[l]));return new tt(e,i,t,we(r))}async setLayout(e){const t=ue(this.columns),i=t.slice(e.cols.length);if(i.filter(o=>o.innerNode.innerText.replace(/[\n\s]+/m,"")).length&&!await Jr(this.parentGrid.editor,"Update Layout","This row has content in it that will be deleted by removing columns! Are you sure you want to change to this layout?","Yes, change layout"))return!1;for(let o=0;o<e.cols.length;o++)o>t.length-1?t.push(Wt.create(this,e.cols[o],this)):t[o].width.set(e.cols[o]);this.columns.set(t),i.forEach(o=>{this.deleteCol(o)})}async delete(e=!1){return ue(this.columns).find(t=>t.innerNode.innerText.replace(/[\n\s]+/m,""))&&!(e||await Jr(this.parentGrid.editor))?(console.log("Cancelled!"),!1):(super.delete(),this.parentGrid.rows.update(t=>t.filter(i=>i.id!==this.id)),this.selected.set(new Set),!0)}deleteCol(e){typeof e=="number"&&(e=ue(this.columns)[e]),this.parentGrid.editor.dom.remove(e.node),this.columns.update(t=>t.filter(i=>i!==e))}updateCol(e,t=0,i=!1){const r=ue(this.columns);i&&Array.from(r[t].innerNode.children).forEach(s=>{this.parentGrid.editor.dom.remove(s)}),this.parentGrid.editor.dom.add(r[t].innerNode,e)}checkSelf(){if(this.stopObserving(),!this.node.parentElement){const e=ue(this.parentGrid).findIndex(t=>t.id===this.id);if(e==-1){this.delete(!0);return}ue(this.parentGrid)[e-1].node.insertAdjacentElement("afterend",this.node)}this.stopObserving()}checkChildren(){this.stopObserving();const e=ue(this.columns),t=e.map(r=>r.node);let i=0;Array.from(this.node.children).forEach(r=>{const o=Ii(r);if(o&&r instanceof o.HTMLElement){if(r.dataset.cgbNoMove==="true"||r.dataset.mceBogus)return;const s=t.findIndex(l=>l===r);if(s>=0){i=s;return}r.innerText.replace(/[\n\s]+/m,"")?e.length>i?e[i].innerNode.appendChild(r):this.parentGrid.editor.dom.remove(r):this.parentGrid.editor.dom.remove(r)}}),this.stopObserving()}}const yd=n=>({}),uo=n=>({}),Id=n=>({}),fo=n=>({});function mo(n){let e,t;return{c(){e=k("h4"),t=Y(n[2])},m(i,r){D(i,e,r),v(e,t)},p(i,r){r&4&&ge(t,i[2])},d(i){i&&S(e)}}}function Cd(n){let e,t=n[2]&&mo(n);return{c(){t&&t.c(),e=Pe()},m(i,r){t&&t.m(i,r),D(i,e,r)},p(i,r){i[2]?t?t.p(i,r):(t=mo(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&S(e),t&&t.d(i)}}}function ho(n){let e,t,i;return{c(){e=k("button"),e.textContent="Save",f(e,"class","Button Button--success save")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[10]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function po(n){let e,t,i;return{c(){e=k("button"),e.textContent="Cancel",f(e,"class","Button cancel")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[11]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function Ld(n){let e,t,i=n[0]&&ho(n),r=n[1]&&po(n);return{c(){i&&i.c(),e=A(),r&&r.c(),t=Pe()},m(o,s){i&&i.m(o,s),D(o,e,s),r&&r.m(o,s),D(o,t,s)},p(o,s){o[0]?i?i.p(o,s):(i=ho(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),o[1]?r?r.p(o,s):(r=po(o),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(o){o&&(S(e),S(t)),i&&i.d(o),r&&r.d(o)}}}function Bd(n){let e,t,i,r,o,s,l,a,c;const d=n[9].title,u=Ke(d,n,n[8],fo),m=u||Cd(n),p=n[9].default,h=Ke(p,n,n[8],null),_=n[9].actions,y=Ke(_,n,n[8],uo),g=y||Ld(n);return{c(){e=k("div"),t=k("dialog"),i=k("div"),m&&m.c(),r=A(),h&&h.c(),o=A(),s=k("div"),g&&g.c(),f(s,"class","actions svelte-1by2tsj"),f(i,"class","dialogBody svelte-1by2tsj"),f(t,"class","svelte-1by2tsj"),f(e,"class","cgb-component")},m(b,w){D(b,e,w),v(e,t),v(t,i),m&&m.m(i,null),v(i,r),h&&h.m(i,null),v(i,o),v(i,s),g&&g.m(s,null),n[12](t),l=!0,a||(c=[q(t,"click",_t(n[13])),q(t,"keydown",n[14])],a=!0)},p(b,[w]){u?u.p&&(!l||w&256)&&Ze(u,d,b,b[8],l?Qe(d,b[8],w,Id):Je(b[8]),fo):m&&m.p&&(!l||w&4)&&m.p(b,l?w:-1),h&&h.p&&(!l||w&256)&&Ze(h,p,b,b[8],l?Qe(p,b[8],w,null):Je(b[8]),null),y?y.p&&(!l||w&256)&&Ze(y,_,b,b[8],l?Qe(_,b[8],w,yd):Je(b[8]),uo):g&&g.p&&(!l||w&11)&&g.p(b,l?w:-1)},i(b){l||(B(m,b),B(h,b),B(g,b),l=!0)},o(b){H(m,b),H(h,b),H(g,b),l=!1},d(b){b&&S(e),m&&m.d(b),h&&h.d(b),g&&g.d(b),n[12](null),a=!1,pe(c)}}}function Td(n,e,t){let{$$slots:i={},$$scope:r}=e;const o=Re(),s=()=>{m.showModal()},l=()=>{m.close()};Ue(()=>{m.close()});let{show:a=!1}=e,{showSave:c=!0}=e,{showCancel:d=!0}=e,{title:u}=e,m;const p=()=>{o("save")},h=()=>{o("close"),m.close()};function _(b){ce[b?"unshift":"push"](()=>{m=b,t(3,m)})}const y=b=>{b.target===m&&(m.close(),o("close"))},g=b=>{b.key==="Escape"&&o("close")};return n.$$set=b=>{"show"in b&&t(7,a=b.show),"showSave"in b&&t(0,c=b.showSave),"showCancel"in b&&t(1,d=b.showCancel),"title"in b&&t(2,u=b.title),"$$scope"in b&&t(8,r=b.$$scope)},n.$$.update=()=>{n.$$.dirty&136&&m&&(a?m.showModal():m.close())},[c,d,u,m,o,s,l,a,r,i,p,h,_,y,g]}class xi extends Ie{constructor(e){super(),ye(this,e,Td,Bd,ve,{open:5,close:6,show:7,showSave:0,showCancel:1,title:2})}get open(){return this.$$.ctx[5]}get close(){return this.$$.ctx[6]}}function go(n){let e,t;return e=new xi({props:{title:"Delete Grid"+(n[0].length!==1?"s":""),show:!0,$$slots:{actions:[Md],default:[Dd]},$$scope:{ctx:n}}}),e.$on("close",n[3]),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.title="Delete Grid"+(i[0].length!==1?"s":"")),r&17&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function Ed(n){let e,t,i=n[0].length+"",r,o;return{c(){e=k("p"),t=Y("Are you sure you want to delete all "),r=Y(i),o=Y(" grids?")},m(s,l){D(s,e,l),v(e,t),v(e,r),v(e,o)},p(s,l){l&1&&i!==(i=s[0].length+"")&&ge(r,i)},d(s){s&&S(e)}}}function Sd(n){let e;return{c(){e=k("p"),e.textContent="Are you sure you want to delete this grid?"},m(t,i){D(t,e,i)},p:z,d(t){t&&S(e)}}}function Dd(n){let e;function t(o,s){return o[0].length===1?Sd:Ed}let i=t(n),r=i(n);return{c(){r.c(),e=Pe()},m(o,s){r.m(o,s),D(o,e,s)},p(o,s){i===(i=t(o))&&r?r.p(o,s):(r.d(1),r=i(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&S(e),r.d(o)}}}function Md(n){let e,t,i,r,o;return{c(){e=k("button"),e.textContent="Cancel",t=A(),i=k("button"),i.textContent="I'm sure: Delete this",f(e,"class","Button"),f(i,"class","Button Button--danger save")},m(s,l){D(s,e,l),D(s,t,l),D(s,i,l),r||(o=[q(e,"click",n[1]),q(i,"click",n[2])],r=!0)},p:z,d(s){s&&(S(e),S(t),S(i)),r=!1,pe(o)}}}function Ad(n){let e,t,i=n[0].length&&go(n);return{c(){i&&i.c(),e=Pe()},m(r,o){i&&i.m(r,o),D(r,e,o),t=!0},p(r,[o]){r[0].length?i?(i.p(r,o),o&1&&B(i,1)):(i=go(r),i.c(),B(i,1),i.m(e.parentNode,e)):i&&(oe(),H(i,1,1,()=>{i=null}),se())},i(r){t||(B(i),t=!0)},o(r){H(i),t=!1},d(r){r&&S(e),i&&i.d(r)}}}function Hd(n,e,t){let{queue:i=[]}=e;const r=()=>{t(0,i=[])},o=()=>{i.forEach(l=>{l.delete()}),t(0,i=[])},s=()=>{t(0,i=[])};return n.$$set=l=>{"queue"in l&&t(0,i=l.queue)},[i,r,o,s]}class Pd extends Ie{constructor(e){super(),ye(this,e,Hd,Ad,ve,{queue:0})}get queue(){return this.$$.ctx[0]}set queue(e){this.$$set({queue:e}),Ve()}}let _n=null;function Od(n){_n?_n.$set({queue:[..._n.queue||[],n]}):_n=new Pd({target:document.body,props:{queue:[n]}})}const kt=class kt extends ht{constructor(e,t=window.tinymce.activeEditor,i,r,o,s=!1){super(i,t),this.state=e,this.editor=t,this.node=i,this.gridManager=r,this.selectionMethod="focus",this.trackInnerText=!1,this.attributes=new Map([]),this.defaultClasses=new Set(["canvas-grid-editor"]),this.cursorSelected=we(!1),this.rows=we([]),this.subscribe=this.rows.subscribe,this.setupObserver(),o?this.rows.set(o):this.addRow(Vn[1]),this.rows.subscribe(l=>{this.children.set([...l])}),this.bindEvents(),s&&this.highlight()}static migrate(e){if(e.node.dataset.cdbVersion!==kt.gridMarkupVersion){if(console.log(`Migrating grid from ${e.node.dataset.cgbVersion||e.node.dataset.cdbVersion||"alpha"} to v${kt.gridMarkupVersion}`),e.node.dataset.cdbVersion===void 0&&ue(e).forEach(t=>{ue(t.columns).forEach(i=>{i.checkChildren()})}),e.node.dataset.cdbVersion==="1.0.0"||e.node.dataset.cgbVersion==="1.0.0"){const t=(i,r)=>{const o=Array.from(i.classList);if(i.classList.contains("uoa_shadowbox")&&o.some(s=>s.startsWith("uoa_corners_"))){i.classList.remove("uoa_shadowbox");const s=o.find(a=>a.startsWith("uoa_corners_")),l=s!=null&&s.replace("uoa_corners_","")?parseInt(s.replace("uoa_corners_","")):4;l>4?r.classList.add("cdb-card--round-lg"):l<4&&r.classList.add("cdb-card--round-sm"),s&&i.classList.remove(s),r.classList.add("cdb-card")}};e.stopObserving(),ue(e).forEach(i=>{i.stopObserving(),ue(i.columns).forEach(r=>{r.stopObserving(),t(r.node,r.node),t(r.innerNode,r.node),r.startObserving()}),t(i.node,i.node),i.startObserving()}),e.startObserving()}e.node.dataset.cdbVersion=kt.gridMarkupVersion}}static create(e,t,i=!1,r=window.tinymce.activeEditor,o=!1){const s=r.dom.create("div",{class:"canvas-grid-editor","data-cdb-version":kt.gridMarkupVersion});if(i){const l=r.selection.getNode(),a=l.closest(".canvas-grid-editor")||l.closest('*[data-cdb-content="Simple"]');a?r.dom.insertAfter(s,a):l.nodeName==="BODY"||l.closest("body")===null?r.dom.add(r.dom.getRoot(),s):r.dom.isBlock(l)?(l==null?void 0:l.dataset.mceCaret)==="after"?r.dom.insertAfter(s,l):r.dom.add(l,s):r.dom.insertAfter(s,l)}else r.dom.add(r.dom.getRoot(),s);return new this(e,r,s,t,void 0,o)}static import(e,t,i,r=window.tinymce.activeEditor){const o=new this(e,r,t,i,[]),l=Array.from(t.children).filter(a=>a.classList.contains("grid-row")).map(a=>tt.import(o,a));return o.rows.set(l),kt.migrate(o),o}bindEvents(){var e;this.editor.on("nodeChange",({element:t})=>{const i=t.closest(".grid-row");if(i){const r=ue(this.rows).find(o=>o.node===i);if(r){this.cursorSelected.set(r.id);return}}else if(t===this.node){this.cursorSelected.set(!0);return}this.cursorSelected.set(!1)}),this.editor.dom.setAttrib(this.node,"contenteditable","false"),(e=this.node.parentElement)==null||e.addEventListener("keydown",t=>{if(t.key==="Backspace"||t.key==="Delete"){let i=!1;const r=this.editor.selection.getNode();if(this.editor.selection.getRng(),t.key==="Backspace"?r.dataset.mceCaret==="after"&&r.previousSibling===this.node&&(i=!0):r.dataset.mceCaret==="before"&&r.nextSibling===this.node&&(i=!0),i)return t.preventDefault(),t.stopPropagation(),Od(this),!1}},{capture:!0}),this.node.addEventListener("load",t=>{t.detail==="synthetic"||t.target===this.node||this.node.dispatchEvent(new CustomEvent("load",{detail:"synthetic"}))},{capture:!0})}checkChildren(){this.stopObserving(),ue(this.rows).forEach(e=>e.checkChildren()),this.startObserving()}checkSelf(){var e,t;if(this.stopObserving(),this.node.children.length===0&&this.delete(),!this.node.parentNode){const i=ue(this.gridManager).findIndex(r=>r.id===this.id);if(i==-1){this.delete();return}i>0?(e=ue(this.gridManager)[i-1])==null||e.node.insertAdjacentElement("afterend",this.node):(t=ue(this.gridManager)[i+1])==null||t.node.insertAdjacentElement("beforebegin",this.node)}this.startObserving()}delete(){super.delete(),this.rows.update(e=>(e.forEach(t=>t.delete(!0)),[]))}addRow(e,t){let i;return ue(this.rows),t===void 0?i=tt.create(this,e):t===0?i=tt.create(this,e,this.node,"afterbegin"):i=tt.create(this,e,this.node.children[t],"afterend"),this.rows.update(r=>(t===void 0?r.push(i):r.splice(t,0,i),r)),i}};kt.gridMarkupVersion="1.1.0";let Ti=kt;class Ot{constructor(e,t=window.tinymce.activeEditor,i){this.state=e,this.editor=t,this.editorStyles=i,this._elements=we([]),this.set=this._elements.set,this.update=this._elements.update,this.subscribe=this._elements.subscribe,this.detached=!1,this.watchEditor(),i&&(this.editorStyleEl=document.createElement("style"),this.editorStyleEl.innerHTML=i,t.getBody().insertAdjacentElement("beforebegin",this.editorStyleEl))}create(e=!1,t=!1){if(this.detached)return;const i=this.elementClass.create(this.state,this,e,this.editor,t);return this.add(i),i}add(e){this.detached||(Array.isArray(e)?this.update(t=>[...t,...e]):this.update(t=>[...t,e]))}remove(e){if(this.detached)return;let t;typeof e=="string"?t=this.get(e):t=e,t&&this.update(i=>i.filter(r=>r!==e))}get(e){return ue(this._elements).find(t=>t.id===e)}findAll(e=!1){const t=this.editor.dom.getRoot(),i=ue(this._elements).map(r=>r.id);return Array.from(t.querySelectorAll(this.selector)).filter(r=>{if(e)return!0;if(r.closest("[data-mce-bogus]"))return!1;const o=r==null?void 0:r.dataset.cdbId;if(!o)return!0;const s=i.indexOf(o);return s===-1?!0:(i.splice(s,1),!1)})}importAll(){if(this.detached)return;const e=this.findAll().map(t=>(t.dataset.cgbId&&delete t.dataset.cgbId,t.dataset.cgeId&&delete t.dataset.cgeId,t.dataset.cgbVersion&&(t.dataset.cdbVersion=t.dataset.cgbVersion,delete t.dataset.cgbVersion),t.dataset.cgbContent&&delete t.dataset.cgbContent,this.elementClass.import(this.state,t,this,this.editor)));e.length&&this.add(e)}checkElements(){if(this.detached)return;const e=this.findAll(!0).map(o=>o.dataset.cdbId);ue(this._elements).map(o=>o.id).filter(o=>!e.includes(o)).forEach(o=>{const s=this.get(o);s&&s.delete()});const r=ue(this._elements).filter(o=>o.editor.getDoc().contains(o.node)?!1:(o.delete(),!0));r.length&&this._elements.update(o=>o.filter(s=>!r.includes(s))),this.importAll(),ue(this._elements).forEach(o=>o.checkChildren())}detatch(){var t;console.log("Detatching",this.elementName),["Undo","Redo","BeforeAddUndo"].forEach(i=>{this.editor.off(i,this._watchFunc)}),this.detached=!0,this._elements.update(i=>(i.forEach(r=>{r.detach()}),[])),(t=this.editorStyleEl)==null||t.remove()}_watchFunc(){this.checkElements()}watchEditor(){this._watchFunc=this._watchFunc.bind(this),["Undo","Redo","BeforeAddUndo"].forEach(t=>{this.editor.on(t,this._watchFunc)})}}const Nd='.canvas-grid-editor .cdb-card{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1),0 0px 4px -2px rgba(0,0,0,.31);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color),0 0px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);border-radius:.375rem}.canvas-grid-editor .cdb-card.cdb-card--round-lg{border-radius:.75rem}.canvas-grid-editor .cdb-card.cdb-card--round-sm{border-radius:.125rem}.canvas-grid-editor .cdb-card.cgb-col-inner{flex-grow:1;display:flow-root}.mce-content-body .canvas-grid-editor[data-cdb-id]{background-color:rgba(101,163,13,var(--tw-bg-opacity));--tw-bg-opacity:0;outline:2px dashed #d9d9d9;flex-direction:column;gap:.75rem;margin:.75rem;padding:.75rem;transition-property:outline-color;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:flex;position:relative;cursor:pointer!important}.mce-content-body .canvas-grid-editor[data-cdb-id]:hover,.mce-content-body .canvas-grid-editor[data-cdb-id]:focus-within{outline-color:#bec3c4}.mce-content-body .canvas-grid-editor[data-cdb-id][contentEditable="false"][data-mce-selected]{--tw-bg-opacity:.1;outline:2px dashed #65a30d}.mce-content-body .canvas-grid-editor[data-cdb-id]:before{--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity));visibility:hidden;opacity:0;content:"Canvas.drag-handle";cursor:pointer;font-family:BlocksIcons;font-size:1rem;line-height:1.5rem;transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:block;position:absolute;top:-.25rem;left:-.5rem}.mce-content-body .canvas-grid-editor[data-cdb-id][data-mce-selected]:before,.mce-content-body .canvas-grid-editor[data-cdb-id]:active:before{visibility:visible;--tw-translate-x:-.75rem;--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));opacity:1;pointer-events:auto}.mce-content-body .canvas-grid-editor[data-cdb-id]:has(:focus-visible):before{visibility:visible;--tw-translate-x:-.75rem;--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));opacity:1;pointer-events:auto}.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row{gap:.75rem;display:flex;position:relative}.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row [class^=col-],.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row .cgb-col{cursor:text;outline:2px dashed #d9d9d9;flex-direction:column;transition-property:outline;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:flex}.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row [class^=col-]:hover,.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row .cgb-col:hover,.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row [class^=col-]:focus,.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row .cgb-col:focus,.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row [class^=col-]:focus-within,.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row .cgb-col:focus-within{outline:2px dashed #65a30d}[data-mce-selected] :is(.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row [class^=col-]){outline:2px dashed #65a30d}[data-mce-selected] :is(.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row .cgb-col){outline:2px dashed #65a30d}.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row [class^=col-] .cgb-col-inner,.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row .cgb-col .cgb-col-inner{padding:.75rem;display:flow-root}.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row [class^=col-] [contentEditable="true"],.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row .cgb-col [contentEditable="true"]{outline-offset:2px;outline:2px solid transparent}.mce-content-body .canvas-grid-editor[data-cdb-id] iframe.lti-embed,.mce-content-body .canvas-grid-editor[data-cdb-id] .mce-preview-object,.mce-content-body .canvas-grid-editor[data-cdb-id] .mce-preview-object iframe{max-width:100%!important}.mce-content-body .canvas-grid-editor[data-cdb-id] .grid-row[data-mce-selected],.mce-content-body .canvas-grid-editor[data-cdb-id] .cgb-col[data-mce-selected],.mce-content-body .canvas-grid-editor[data-cdb-id] .cgb-empty-placeholder[data-mce-selected]{cursor:auto!important;outline-width:0!important}.mce-content-body .canvas-grid-editor .col-lg-1{width:8.33333%}.mce-content-body .canvas-grid-editor .col-lg-2{width:16.6667%}.mce-content-body .canvas-grid-editor .col-lg-3{width:25%}.mce-content-body .canvas-grid-editor .col-lg-4{width:33.3333%}.mce-content-body .canvas-grid-editor .col-lg-5{width:41.6667%}.mce-content-body .canvas-grid-editor .col-lg-6{width:50%}.mce-content-body .canvas-grid-editor .col-lg-7{width:58.3333%}.mce-content-body .canvas-grid-editor .col-lg-8{width:66.6667%}.mce-content-body .canvas-grid-editor .col-lg-9{width:75%}.mce-content-body .canvas-grid-editor .col-lg-10{width:83.3333%}.mce-content-body .canvas-grid-editor .col-lg-11{width:91.6667%}.mce-content-body .canvas-grid-editor .col-lg-12{width:100%}';class zd extends Ot{constructor(e,t=window.tinymce.activeEditor){super(e,t,Nd),this.state=e,this.editor=t,this.elementName="Grid",this.elementClass=Ti,this.selector=".canvas-grid-editor",this.icon="Internal.canvas-design-blocks",this.cleanGrids=()=>{this.update(i=>i.filter(r=>ue(r.rows).length===0?(this.editor.dom.remove(r.node,!1),!1):!0))},this.importAll()}add(e){super.add(e),Array.isArray(e)?e.forEach(t=>t.subscribe(this.cleanGrids)):e.subscribe(this.cleanGrids)}}const er=n=>{if(n===(window==null?void 0:window.document.body)||!window)return"#0000";const t=window.getComputedStyle(n).backgroundColor,i=te(t);return i.alpha()===0&&n.parentElement?er(n.parentElement):i.toHex()};var ot=(n=>(n[n.Solid=0]="Solid",n[n.Line=1]="Line",n[n.Custom=2]="Custom",n))(ot||{});const Un=[{name:"Canvas",icons:[{i:"Inst.Line.a11y",n:"A11y",l:"a11y",s:[]},{i:"Inst.Line.add-folder",n:"Add Folder",l:"add-folder",s:[]},{i:"Inst.Line.add-media",n:"Add Media",l:"add-media",s:[]},{i:"Inst.Line.add",n:"Add",l:"plus",s:[]},{i:"Inst.Line.address-book",n:"Address Book",l:"address-book",s:[]},{i:"Inst.Line.admin-tools",n:"Admin Tools",l:"tools-admin",s:[]},{i:"Inst.Line.admin",n:"Admin",l:"admin",s:[]},{i:"Inst.Line.alerts",n:"Alerts",l:"alerts",s:[]},{i:"Inst.Line.analytics",n:"Analytics",l:"analytics",s:[]},{i:"Inst.Line.android",n:"Android",l:"android",s:[]},{i:"Inst.Line.annotate",n:"Annotate",l:"annotate",s:[]},{i:"Inst.Line.announcement",n:"Announcement",l:"announcement",s:[]},{i:"Inst.Line.apple",n:"Apple",l:"apple",s:[]},{i:"Inst.Line.archive",n:"Archive",l:"archive",s:[]},{i:"Inst.Line.arrow-down",n:"Arrow Down",l:"arrow-down",s:[]},{i:"Inst.Line.arrow-end",n:"Arrow End",l:"arrow-end",s:[]},{i:"Inst.Line.arrow-left",n:"Arrow Left",l:"arrow-left",s:[]},{i:"Inst.Line.arrow-nest",n:"Arrow Nest",l:"arrow-nest",s:[]},{i:"Inst.Line.arrow-open-down",n:"Arrow Open Down",l:"arrow-open-down",s:[]},{i:"Inst.Line.arrow-open-end",n:"Arrow Open End",l:"arrow-open-end",s:[]},{i:"Inst.Line.arrow-open-left",n:"Arrow Open Left",l:"arrow-open-left",s:[]},{i:"Inst.Line.arrow-open-right",n:"Arrow Open Right",l:"arrow-open-right",s:[]},{i:"Inst.Line.arrow-open-start",n:"Arrow Open Start",l:"arrow-open-start",s:[]},{i:"Inst.Line.arrow-open-up",n:"Arrow Open Up",l:"arrow-open-up",s:[]},{i:"Inst.Line.arrow-right",n:"Arrow Right",l:"arrow-right",s:[]},{i:"Inst.Line.arrow-start",n:"Arrow Start",l:"arrow-start",s:[]},{i:"Inst.Line.arrow-up",n:"Arrow Up",l:"arrow-up",s:[]},{i:"Inst.Line.assignment",n:"Assignment",l:"assignment",s:[]},{i:"Inst.Line.attach-media",n:"Attach Media",l:"attach-media",s:[]},{i:"Inst.Line.audio-off",n:"Audio Off",l:"audio-off",s:[]},{i:"Inst.Line.audio",n:"Audio",l:"sound",s:[]},{i:"Inst.Line.bank",n:"Bank",l:"bank",s:[]},{i:"Inst.Line.blueprint-lock",n:"Blueprint Lock",l:"toggle-blueprint-lock",s:[]},{i:"Inst.Line.blueprint",n:"Blueprint",l:"blueprint",s:[]},{i:"Inst.Line.bold",n:"Bold",l:"bold",s:[]},{i:"Inst.Line.bookmark",n:"Bookmark",l:"bookmark",s:[]},{i:"Inst.Line.box",n:"Box",l:"box",s:[]},{i:"Inst.Line.bullet-list-alpha",n:"Bullet List Alpha",l:"bullet-list-alpha",s:[]},{i:"Inst.Line.bullet-list-circle-outline",n:"Bullet List Circle Outline",l:"bullet-list-circle-outline",s:[]},{i:"Inst.Line.bullet-list-roman",n:"Bullet List Roman",l:"bullet-list-roman",s:[]},{i:"Inst.Line.bullet-list-square",n:"Bullet List Square",l:"bullet-list-square",s:[]},{i:"Inst.Line.bullet-list",n:"Bullet List",l:"bullet-list-dot",s:[]},{i:"Inst.Line.button-and-icon-maker",n:"Button And Icon Maker",l:"button-and-icon-maker",s:[]},{i:"Inst.Line.calculator-desmos",n:"Calculator Desmos",l:"calc-desmos",s:[]},{i:"Inst.Line.calculator",n:"Calculator",l:"calculator",s:[]},{i:"Inst.Line.calendar-add",n:"Calendar Add",l:"calendar-add",s:[]},{i:"Inst.Line.calendar-clock",n:"Calendar Clock",l:"calendar-clock",s:[]},{i:"Inst.Line.calendar-day",n:"Calendar Day",l:"calendar-day",s:[]},{i:"Inst.Line.calendar-month",n:"Calendar Month",l:"calendar-month",s:[]},{i:"Inst.Line.calendar-reserved",n:"Calendar Reserved",l:"calendar-reserved",s:[]},{i:"Inst.Line.canvas-logo",n:"Canvas Logo",l:"canvas-logo",s:[]},{i:"Inst.Line.certified",n:"Certified",l:"certified",s:[]},{i:"Inst.Line.chat",n:"Chat",l:"chat",s:[]},{i:"Inst.Line.check-dark",n:"Check Dark",l:"check-dark",s:[]},{i:"Inst.Line.check-mark-indeterminate",n:"Check Mark Indeterminate",l:"indeterminate-check-mark",s:[]},{i:"Inst.Line.check-mark",n:"Check Mark",l:"check-mark",s:[]},{i:"Inst.Line.check-plus",n:"Check Plus",l:"check-plus",s:[]},{i:"Inst.Line.circle-arrow-down",n:"Circle Arrow Down",l:"circle-arrow-down",s:[]},{i:"Inst.Line.circle-arrow-up",n:"Circle Arrow Up",l:"circle-arrow-up",s:[]},{i:"Inst.Line.clear-text-formatting",n:"Clear Text Formatting",l:"clear-text-formatting",s:[]},{i:"Inst.Line.clock",n:"Clock",l:"clock",s:[]},{i:"Inst.Line.closed-captioning-off",n:"Closed Captioning Off",l:"toggle-closed-captioning-off",s:[]},{i:"Inst.Line.closed-captioning-on",n:"Closed Captioning On",l:"toggle-closed-captioning-on",s:[]},{i:"Inst.Line.closed-captioning",n:"Closed Captioning",l:"closed-captioning",s:[]},{i:"Inst.Line.cloud-download",n:"Cloud Download",l:"cloud-download",s:[]},{i:"Inst.Line.cloud-lock",n:"Cloud Lock",l:"cloud-lock",s:[]},{i:"Inst.Line.cloud-upload",n:"Cloud Upload",l:"cloud-upload",s:[]},{i:"Inst.Line.code",n:"Code",l:"code",s:[]},{i:"Inst.Line.collapse",n:"Collapse",l:"collapse",s:[]},{i:"Inst.Line.collection-save",n:"Collection Save",l:"save-collection",s:[]},{i:"Inst.Line.collection",n:"Collection",l:"collection",s:[]},{i:"Inst.Line.comment",n:"Comment",l:"comment",s:[]},{i:"Inst.Line.comments-off",n:"Comments Off",l:"toggle-comments-off",s:[]},{i:"Inst.Line.comments-on",n:"Comments On",l:"toggle-comments-on",s:[]},{i:"Inst.Line.commons",n:"Commons",l:"commons",s:[]},{i:"Inst.Line.compass",n:"Compass",l:"compass",s:[]},{i:"Inst.Line.complete",n:"Complete",l:"complete",s:[]},{i:"Inst.Line.compose",n:"Compose",l:"compose",s:[]},{i:"Inst.Line.configure",n:"Configure",l:"configure",s:[]},{i:"Inst.Line.copy-course",n:"Copy Course",l:"copy-course",s:[]},{i:"Inst.Line.copy",n:"Copy",l:"copy-text",s:[]},{i:"Inst.Line.courses",n:"Courses",l:"courses",s:[]},{i:"Inst.Line.crop",n:"Crop",l:"crop",s:[]},{i:"Inst.Line.dashboard",n:"Dashboard",l:"dashboard",s:[]},{i:"Inst.Line.deactivate-user",n:"Deactivate User",l:"deactivate-user",s:[]},{i:"Inst.Line.discussion-check",n:"Discussion Check",l:"discussion-check",s:[]},{i:"Inst.Line.discussion-new",n:"Discussion New",l:"discussion-new",s:[]},{i:"Inst.Line.discussion-reply",n:"Discussion Reply",l:"discussion-reply",s:[]},{i:"Inst.Line.discussion-search",n:"Discussion Search",l:"discussion-search",s:[]},{i:"Inst.Line.discussion-x",n:"Discussion X",l:"discussion-x",s:[]},{i:"Inst.Line.discussion",n:"Discussion",l:"discussions",s:[]},{i:"Inst.Line.document",n:"Document",l:"document",s:[]},{i:"Inst.Line.download",n:"Download",l:"download",s:[]},{i:"Inst.Line.drag-handle",n:"Drag Handle",l:"drag-handle",s:[]},{i:"Inst.Line.drop-down",n:"Drop Down",l:"drop-down",s:[]},{i:"Inst.Line.duplicate",n:"Duplicate",l:"duplicate",s:[]},{i:"Inst.Line.edit",n:"Edit",l:"edit",s:[]},{i:"Inst.Line.educators",n:"Educators",l:"educators",s:[]},{i:"Inst.Line.elevate-logo",n:"Elevate Logo",l:"elevate-logo",s:[]},{i:"Inst.Line.email",n:"Email",l:"email",s:[]},{i:"Inst.Line.empty",n:"Empty",l:"empty",s:[]},{i:"Inst.Line.end",n:"End",l:"end",s:[]},{i:"Inst.Line.eportfolio",n:"ePortfolio",l:"eportfolio",s:[]},{i:"Inst.Line.equation",n:"Equation",l:"equation",s:[]},{i:"Inst.Line.equella",n:"Equella",l:"equella",s:[]},{i:"Inst.Line.essay",n:"Essay",l:"essay",s:[]},{i:"Inst.Line.exit-full-screen",n:"Exit Full Screen",l:"exit-full-screen",s:[]},{i:"Inst.Line.expand-items",n:"Expand Items",l:"expand-items",s:[]},{i:"Inst.Line.expand-left",n:"Expand Left",l:"expand-left",s:[]},{i:"Inst.Line.expand-start",n:"Expand Start",l:"expand-start",s:[]},{i:"Inst.Line.expand",n:"Expand",l:"expand-up",s:[]},{i:"Inst.Line.export",n:"Export",l:"export",s:[]},{i:"Inst.Line.external-link",n:"External Link",l:"external-link",s:[]},{i:"Inst.Line.eye",n:"Eye",l:"eye",s:[]},{i:"Inst.Line.facebook",n:"Facebook",l:"facebook",s:[]},{i:"Inst.Line.fast-forward",n:"Fast Forward",l:"fast-forward",s:[]},{i:"Inst.Line.feedback",n:"Feedback",l:"feedback",s:[]},{i:"Inst.Line.file-locked",n:"File Locked",l:"file-locked",s:[]},{i:"Inst.Line.files-copyright",n:"Files Copyright",l:"files-copyright",s:[]},{i:"Inst.Line.files-creative-commons",n:"Files Creative Commons",l:"files-creative-commons",s:[]},{i:"Inst.Line.files-fair-use",n:"Files Fair Use",l:"files-fair-use",s:[]},{i:"Inst.Line.files-obtained-permission",n:"Files Obtained Permission",l:"files-obtained-permission",s:[]},{i:"Inst.Line.files-public-domain",n:"Files Public Domain",l:"files-public-domain",s:[]},{i:"Inst.Line.filmstrip",n:"Filmstrip",l:"filmstrip",s:[]},{i:"Inst.Line.filter",n:"Filter",l:"filter",s:[]},{i:"Inst.Line.flag",n:"Flag",l:"flag",s:[]},{i:"Inst.Line.folder-locked",n:"Folder Locked",l:"folder-locked",s:[]},{i:"Inst.Line.folder",n:"Folder",l:"folder-closed",s:[]},{i:"Inst.Line.forward",n:"Forward",l:"forward",s:[]},{i:"Inst.Line.full-screen",n:"Full Screen",l:"full-screen",s:[]},{i:"Inst.Line.github",n:"Github",l:"github",s:[]},{i:"Inst.Line.gradebook-export",n:"Gradebook Export",l:"gradebook-export",s:[]},{i:"Inst.Line.gradebook-import",n:"Gradebook Import",l:"gradebook-import",s:[]},{i:"Inst.Line.gradebook",n:"Gradebook",l:"gradebooks",s:[]},{i:"Inst.Line.group-dark-new",n:"Group Dark New",l:"group-dark-new",s:[]},{i:"Inst.Line.group-new",n:"Group New",l:"group-new",s:[]},{i:"Inst.Line.group",n:"Group",l:"groups",s:[]},{i:"Inst.Line.hamburger",n:"Hamburger",l:"hamburger",s:[]},{i:"Inst.Line.header",n:"Header",l:"header",s:[]},{i:"Inst.Line.heart",n:"Heart",l:"heart",s:[]},{i:"Inst.Line.highlighter",n:"Highlighter",l:"highlighter",s:[]},{i:"Inst.Line.home",n:"Home",l:"home",s:[]},{i:"Inst.Line.hour-glass",n:"Hour Glass",l:"hour-glass",s:[]},{i:"Inst.Line.image",n:"Image",l:"image",s:[]},{i:"Inst.Line.immersive-reader",n:"Immersive Reader",l:"immersive-reader",s:[]},{i:"Inst.Line.impact-logo",n:"Impact Logo",l:"impact-logo",s:[]},{i:"Inst.Line.import-content",n:"Import Content",l:"import-content",s:[]},{i:"Inst.Line.important-dates",n:"Important Dates",l:"important-dates",s:[]},{i:"Inst.Line.inbox",n:"Inbox",l:"inbox",s:[]},{i:"Inst.Line.indent",n:"Indent",l:"indent",s:[]},{i:"Inst.Line.info-borderless",n:"Info Borderless",l:"info-borderless",s:[]},{i:"Inst.Line.info",n:"Info",l:"info-circle",s:[]},{i:"Inst.Line.instructure-logo",n:"Instructure Logo",l:"instructure-logo",s:[]},{i:"Inst.Line.integrations",n:"Integrations",l:"integrations",s:[]},{i:"Inst.Line.invitation",n:"Invitation",l:"invitation",s:[]},{i:"Inst.Line.italic",n:"Italic",l:"italic",s:[]},{i:"Inst.Line.keyboard-shortcuts",n:"Keyboard Shortcuts",l:"keyboard-shortcuts",s:[]},{i:"Inst.Line.launch",n:"Launch",l:"launch",s:[]},{i:"Inst.Line.life-preserver",n:"Life Preserver",l:"life-preserver",s:[]},{i:"Inst.Line.like",n:"Like",l:"like",s:[]},{i:"Inst.Line.line-reader",n:"Line Reader",l:"line-reader",s:[]},{i:"Inst.Line.link",n:"Link",l:"link",s:[]},{i:"Inst.Line.linkedin",n:"Linkedin",l:"social-linkedin",s:[]},{i:"Inst.Line.lock",n:"Lock",l:"lock",s:[]},{i:"Inst.Line.lti",n:"Lti",l:"lti",s:[]},{i:"Inst.Line.mark-as-read",n:"Mark As Read",l:"mark-as-read",s:[]},{i:"Inst.Line.marker",n:"Marker",l:"marker",s:[]},{i:"Inst.Line.masquerade",n:"Masquerade",l:"masquerade",s:[]},{i:"Inst.Line.mastery-logo",n:"Mastery Logo",l:"mastery-logo",s:[]},{i:"Inst.Line.mastery-paths",n:"Mastery Paths",l:"mastery-paths",s:[]},{i:"Inst.Line.materials-required",n:"Materials Required",l:"materials-required",s:[]},{i:"Inst.Line.mature",n:"Mature",l:"mature",s:[]},{i:"Inst.Line.media",n:"Media",l:"media",s:[]},{i:"Inst.Line.message",n:"Message",l:"message",s:[]},{i:"Inst.Line.mic-off",n:"Mic Off",l:"toggle-mic-off",s:[]},{i:"Inst.Line.mic",n:"Mic",l:"mic",s:[]},{i:"Inst.Line.mini-arrow-double",n:"Mini Arrow Double",l:"mini-arrow-double",s:[]},{i:"Inst.Line.mini-arrow-down",n:"Mini Arrow Down",l:"mini-arrow-down",s:[]},{i:"Inst.Line.mini-arrow-end",n:"Mini Arrow End",l:"mini-arrow-end",s:[]},{i:"Inst.Line.mini-arrow-left",n:"Mini Arrow Left",l:"mini-arrow-left",s:[]},{i:"Inst.Line.mini-arrow-right",n:"Mini Arrow Right",l:"mini-arrow-right",s:[]},{i:"Inst.Line.mini-arrow-start",n:"Mini Arrow Start",l:"mini-arrow-start",s:[]},{i:"Inst.Line.mini-arrow-up",n:"Mini Arrow Up",l:"mini-arrow-up",s:[]},{i:"Inst.Line.minimize",n:"Minimize",l:"minimize",s:[]},{i:"Inst.Line.module",n:"Module",l:"module",s:[]},{i:"Inst.Line.more",n:"More",l:"more",s:[]},{i:"Inst.Line.move-down-bottom",n:"Move Down Bottom",l:"move-down-bottom",s:[]},{i:"Inst.Line.move-down",n:"Move Down",l:"move-down-one",s:[]},{i:"Inst.Line.move-end",n:"Move End",l:"move-end",s:[]},{i:"Inst.Line.move-left",n:"Move Left",l:"move-left",s:[]},{i:"Inst.Line.move-right",n:"Move Right",l:"move-right",s:[]},{i:"Inst.Line.move-start",n:"Move Start",l:"move-start",s:[]},{i:"Inst.Line.move-up-top",n:"Move Up Top",l:"move-up-top",s:[]},{i:"Inst.Line.move-up",n:"Move Up",l:"move-up-one",s:[]},{i:"Inst.Line.ms-excel",n:"Ms Excel",l:"ms-excel",s:[]},{i:"Inst.Line.ms-ppt",n:"Ms Ppt",l:"ms-ppt",s:[]},{i:"Inst.Line.ms-word",n:"Ms Word",l:"ms-word",s:[]},{i:"Inst.Line.muted",n:"Muted",l:"muted",s:[]},{i:"Inst.Line.next-unread",n:"Next Unread",l:"next-unread",s:[]},{i:"Inst.Line.no",n:"No",l:"block",s:[]},{i:"Inst.Line.not-graded",n:"Not Graded",l:"not-graded",s:[]},{i:"Inst.Line.note",n:"Note",l:"sticky-note",s:[]},{i:"Inst.Line.notepad",n:"Notepad",l:"notepad",s:[]},{i:"Inst.Line.numbered-list",n:"Numbered List",l:"numbered-list",s:[]},{i:"Inst.Line.off",n:"Off",l:"off",s:["hidden","disable"]},{i:"Inst.Line.open-folder",n:"Open Folder",l:"open-folder",s:[]},{i:"Inst.Line.outcomes",n:"Outcomes",l:"outcomes",s:[]},{i:"Inst.Line.outdent",n:"Outdent",l:"outdent",s:[]},{i:"Inst.Line.oval-half",n:"Oval Half",l:"oval-half",s:[]},{i:"Inst.Line.page-down",n:"Page Down",l:"page-down",s:[]},{i:"Inst.Line.page-up",n:"Page Up",l:"page-up",s:[]},{i:"Inst.Line.paint",n:"Paint",l:"paint",s:[]},{i:"Inst.Line.paperclip",n:"Paperclip",l:"paperclip",s:[]},{i:"Inst.Line.partial",n:"Partial",l:"partial",s:[]},{i:"Inst.Line.pause",n:"Pause",l:"pause",s:[]},{i:"Inst.Line.pdf",n:"Pdf",l:"pdf",s:[]},{i:"Inst.Line.peer-graded",n:"Peer Graded",l:"peer-graded",s:[]},{i:"Inst.Line.peer-review",n:"Peer Review",l:"peer-review",s:[]},{i:"Inst.Line.permissions",n:"Permissions",l:"permissions",s:[]},{i:"Inst.Line.pin",n:"Pin",l:"push-pin",s:[]},{i:"Inst.Line.pinterest",n:"Pinterest",l:"pinterest",s:[]},{i:"Inst.Line.play",n:"Play",l:"play",s:[]},{i:"Inst.Line.plus",n:"Plus",l:"plus",s:[]},{i:"Inst.Line.post-to-sis",n:"Post To Sis",l:"post-to-sis",s:[]},{i:"Inst.Line.prerequisite",n:"Prerequisite",l:"prerequisite",s:[]},{i:"Inst.Line.printer",n:"Printer",l:"printer",s:[]},{i:"Inst.Line.progress",n:"Progress",l:"progress",s:[]},{i:"Inst.Line.protractor",n:"Protractor",l:"protractor",s:[]},{i:"Inst.Line.publish",n:"Publish",l:"publish",s:[]},{i:"Inst.Line.question",n:"Question",l:"question",s:[]},{i:"Inst.Line.quiz-instructions",n:"Quiz Instructions",l:"quiz-instructions",s:[]},{i:"Inst.Line.quiz-stats-avg",n:"Quiz Stats Avg",l:"quiz-stats-avg",s:[]},{i:"Inst.Line.quiz-stats-cronbachs-alpha",n:"Quiz Stats Cronbachs Alpha",l:"quiz-stats-cronbachs-alpha",s:[]},{i:"Inst.Line.quiz-stats-deviation",n:"Quiz Stats Deviation",l:"quiz-stats-deviation",s:[]},{i:"Inst.Line.quiz-stats-high",n:"Quiz Stats High",l:"quiz-stats-high",s:[]},{i:"Inst.Line.quiz-stats-low",n:"Quiz Stats Low",l:"quiz-stats-low",s:[]},{i:"Inst.Line.quiz-stats-time",n:"Quiz Stats Time",l:"quiz-stats-time",s:[]},{i:"Inst.Line.quiz-title",n:"Quiz Title",l:"quiz-title",s:[]},{i:"Inst.Line.quiz",n:"Quiz",l:"quizzes",s:[]},{i:"Inst.Line.record",n:"Record",l:"record",s:[]},{i:"Inst.Line.refresh",n:"Refresh",l:"refresh",s:[]},{i:"Inst.Line.remove-bookmark",n:"Remove Bookmark",l:"remove-bookmark",s:[]},{i:"Inst.Line.remove-from-collection",n:"Remove From Collection",l:"remove-from-collection",s:[]},{i:"Inst.Line.remove-link",n:"Remove Link",l:"remove-link",s:[]},{i:"Inst.Line.replied",n:"Replied",l:"replied",s:[]},{i:"Inst.Line.reply-all-2",n:"Reply All 2",l:"reply-all-2",s:[]},{i:"Inst.Line.reply",n:"Reply",l:"reply-single",s:[]},{i:"Inst.Line.reset",n:"Reset",l:"reset",s:[]},{i:"Inst.Line.review-screen",n:"Review Screen",l:"review-screen",s:[]},{i:"Inst.Line.rewind",n:"Rewind",l:"rewind",s:[]},{i:"Inst.Line.rotate-left",n:"Rotate Left",l:"rotate-left",s:[]},{i:"Inst.Line.rotate-right",n:"Rotate Right",l:"rotate-right",s:[]},{i:"Inst.Line.rss",n:"Rss",l:"rss",s:[]},{i:"Inst.Line.rubric",n:"Rubric",l:"rubric",s:[]},{i:"Inst.Line.ruler",n:"Ruler",l:"ruler",s:[]},{i:"Inst.Line.save",n:"Save",l:"save-item",s:[]},{i:"Inst.Line.screen-capture",n:"Screen Capture",l:"screen-capture",s:[]},{i:"Inst.Line.search",n:"Search",l:"search",s:["magnify"]},{i:"Inst.Line.settings",n:"Settings",l:"settings",s:[]},{i:"Inst.Line.shape-oval",n:"Shape Oval",l:"shape-oval",s:[]},{i:"Inst.Line.shape-polygon",n:"Shape Polygon",l:"shape-polygon",s:[]},{i:"Inst.Line.shape-rectangle",n:"Shape Rectangle",l:"shape-rectangle",s:[]},{i:"Inst.Line.share",n:"Share",l:"share",s:[]},{i:"Inst.Line.sis-imported",n:"Sis Imported",l:"sis-imported",s:[]},{i:"Inst.Line.sis-not-synced",n:"Sis Not Synced",l:"sis-not-synced",s:[]},{i:"Inst.Line.sis-synced",n:"Sis Synced",l:"sis-synced",s:[]},{i:"Inst.Line.skype",n:"Skype",l:"skype",s:[]},{i:"Inst.Line.sort",n:"Sort",l:"sort",s:[]},{i:"Inst.Line.speed-grader",n:"Speed Grader",l:"speed-grader",s:[]},{i:"Inst.Line.standards",n:"Standards",l:"standards",s:[]},{i:"Inst.Line.star-light",n:"Star Light",l:"star-light",s:[]},{i:"Inst.Line.star",n:"Star",l:"star-filled",s:[]},{i:"Inst.Line.stats",n:"Stats",l:"stats",s:[]},{i:"Inst.Line.stop",n:"Stop",l:"stop",s:[]},{i:"Inst.Line.strikethrough",n:"Strikethrough",l:"strikethrough",s:[]},{i:"Inst.Line.student-view",n:"Student View",l:"student-view",s:[]},{i:"Inst.Line.studio",n:"Studio",l:"studio",s:[]},{i:"Inst.Line.subaccounts",n:"Subaccounts",l:"subaccounts",s:[]},{i:"Inst.Line.subtitles",n:"Subtitles",l:"subtitles",s:[]},{i:"Inst.Line.syllabus",n:"Syllabus",l:"syllabus",s:[]},{i:"Inst.Line.table-cell-select-all",n:"Table Cell Select All",l:"table-cell-select-all",s:[]},{i:"Inst.Line.table-delete-column",n:"Table Delete Column",l:"table-delete-column",s:[]},{i:"Inst.Line.table-delete-row",n:"Table Delete Row",l:"table-delete-row",s:[]},{i:"Inst.Line.table-delete-table",n:"Table Delete Table",l:"table-delete-table",s:[]},{i:"Inst.Line.table-insert-column-after",n:"Table Insert Column After",l:"table-insert-column-after",s:[]},{i:"Inst.Line.table-insert-column-before",n:"Table Insert Column Before",l:"table-insert-column-before",s:[]},{i:"Inst.Line.table-insert-row-above",n:"Table Insert Row Above",l:"table-insert-row-above",s:[]},{i:"Inst.Line.table-insert-row-after",n:"Table Insert Row After",l:"table-insert-row-after",s:[]},{i:"Inst.Line.table-left-header",n:"Table Left Header",l:"table-left-header",s:[]},{i:"Inst.Line.table-merge-cells",n:"Table Merge Cells",l:"table-merge-cells",s:[]},{i:"Inst.Line.table-row-properties",n:"Table Row Properties",l:"table-row-properties",s:[]},{i:"Inst.Line.table-split-cells",n:"Table Split Cells",l:"table-split-cells",s:[]},{i:"Inst.Line.table-top-header",n:"Table Top Header",l:"table-top-header",s:[]},{i:"Inst.Line.table",n:"Table",l:"table-grid",s:[]},{i:"Inst.Line.tag",n:"Tag",l:"tag",s:[]},{i:"Inst.Line.target",n:"Target",l:"target",s:[]},{i:"Inst.Line.text-background-color",n:"Text Background Color",l:"text-background-color",s:[]},{i:"Inst.Line.text-centered",n:"Text Centered",l:"text-centered",s:[]},{i:"Inst.Line.text-color",n:"Text Color",l:"text-color",s:[]},{i:"Inst.Line.text-direction-ltr",n:"Text Direction Ltr",l:"text-direction-ltr",s:[]},{i:"Inst.Line.text-direction-rtl",n:"Text Direction Rtl",l:"text-direction-rtl",s:[]},{i:"Inst.Line.text-end",n:"Text End",l:"text-end",s:[]},{i:"Inst.Line.text-left",n:"Text Left",l:"text-left",s:[]},{i:"Inst.Line.text-right",n:"Text Right",l:"text-right",s:[]},{i:"Inst.Line.text-start",n:"Text Start",l:"text-start",s:[]},{i:"Inst.Line.text-subscript",n:"Text Subscript",l:"text-subscript",s:[]},{i:"Inst.Line.text-superscript",n:"Text Superscript",l:"text-superscript",s:[]},{i:"Inst.Line.text",n:"Text",l:"text-t",s:[]},{i:"Inst.Line.textarea",n:"Textarea",l:"textarea",s:[]},{i:"Inst.Line.timer",n:"Timer",l:"timer",s:[]},{i:"Inst.Line.toggle-end",n:"Toggle End",l:"toggle-end",s:[]},{i:"Inst.Line.toggle-left",n:"Toggle Left",l:"toggle-left",s:[]},{i:"Inst.Line.toggle-right",n:"Toggle Right",l:"toggle-right",s:[]},{i:"Inst.Line.toggle-start",n:"Toggle Start",l:"toggle-start",s:[]},{i:"Inst.Line.trash",n:"Trash",l:"trash",s:[]},{i:"Inst.Line.trouble",n:"Trouble",l:"trouble",s:[]},{i:"Inst.Line.twitter",n:"Twitter",l:"twitter",s:[]},{i:"Inst.Line.unarchive",n:"Unarchive",l:"unarchive",s:[]},{i:"Inst.Line.underline",n:"Underline",l:"underline",s:[]},{i:"Inst.Line.unlock",n:"Unlock",l:"unlock",s:[]},{i:"Inst.Line.unmuted",n:"Unmuted",l:"unmuted",s:[]},{i:"Inst.Line.unpublished",n:"Unpublished",l:"unpublished",s:[]},{i:"Inst.Line.updown",n:"Updown",l:"updown",s:[]},{i:"Inst.Line.upload",n:"Upload",l:"upload",s:[]},{i:"Inst.Line.user-add",n:"User Add",l:"user-add",s:[]},{i:"Inst.Line.user",n:"User",l:"user-icon",s:[]},{i:"Inst.Line.video-camera-off",n:"Video Camera Off",l:"video-camera-off",s:[]},{i:"Inst.Line.video-camera",n:"Video Camera",l:"video-camera-on",s:[]},{i:"Inst.Line.video",n:"Video",l:"video-online",s:[]},{i:"Inst.Line.warning-borderless",n:"Warning Borderless",l:"warning-borderless",s:[]},{i:"Inst.Line.warning",n:"Warning",l:"warning-circle",s:[]},{i:"Inst.Line.windows",n:"Windows",l:"windows",s:[]},{i:"Inst.Line.wordpress",n:"Wordpress",l:"wordpress",s:[]},{i:"Inst.Line.x",n:"X",l:"x",s:["cross","delete","remove"]},{i:"Inst.Line.zipped",n:"Zipped",l:"zipped",s:[]},{i:"Inst.Line.zoom-in",n:"Zoom In",l:"zoom-in",s:[]},{i:"Inst.Line.zoom-out",n:"Zoom Out",l:"zoom-out",s:[]}]}],Vl=n=>"id"in n,tr=n=>n.type===ot.Custom,Ul=n=>!tr(n),nr=(n,e)=>`Inst.${n}.${e}`;function Wl(n){if(tr(n)||Vl(n))return Un.flatMap(e=>e.icons.map(t=>({...t,c:e.name}))).find(e=>e.i===n.id);{const e=Un.find(l=>l.name==="Canvas");if(!e)return;const t=Ul(n)?nr(n.class,n.type):n.id,[i,r,o]=t.split("Inst."),s=e.icons.find(l=>l.i===`Canvas.Line.${r}`);return s?{...s,c:e.name}:void 0}}function Jt(n){if(!n||typeof n!="object")return;let e=ot.Line;(n==null?void 0:n.type)!==void 0&&(n.type===ot.Solid?e=ot.Solid:n.type===ot.Custom&&(e=ot.Custom));const t={type:e,id:"id"in n?n.id:void 0,class:"class"in n?n.class:void 0,color:"color"in n&&n.color&&te(n.color).isValid()?n.color:void 0};if(Vl(t)||tr(t)){!t.id&&t.type!==ot.Custom&&t.class&&(t.id=`Inst.Line.${t.class}`);const i={type:t.type,id:t.id};return t.color?{...i,color:t.color}:i}else if(Ul(t)){const i={type:t.type,id:nr(t.class,t.type)};return t.color?{...i,color:t.color}:i}}function bo(n){let e,t=`${n[1].c}.${n[1].l}`,i,r;return{c(){var o,s;e=k("span"),i=Y(t),f(e,"class","cdb--icon"),f(e,"aria-hidden","true"),f(e,"data-mce-style",r=n[3]?`color: ${(o=n[3])==null?void 0:o.toHex()}`:void 0),K(e,"safeBackground",n[2]),ee(e,"color",((s=n[3])==null?void 0:s.toHex())||void 0)},m(o,s){D(o,e,s),v(e,i),n[7](e)},p(o,s){var l,a;s&2&&t!==(t=`${o[1].c}.${o[1].l}`)&&ge(i,t),s&8&&r!==(r=o[3]?`color: ${(l=o[3])==null?void 0:l.toHex()}`:void 0)&&f(e,"data-mce-style",r),s&4&&K(e,"safeBackground",o[2]),s&8&&ee(e,"color",((a=o[3])==null?void 0:a.toHex())||void 0)},d(o){o&&S(e),n[7](null)}}}function Rd(n){let e,t=n[1]&&bo(n);return{c(){t&&t.c(),e=Pe()},m(i,r){t&&t.m(i,r),D(i,e,r)},p(i,[r]){i[1]?t?t.p(i,r):(t=bo(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:z,o:z,d(i){i&&S(e),t&&t.d(i)}}}function qd(n,e,t){let i,r,o,s,{icon:l}=e,{colorOverride:a=void 0}=e,c;function d(u){ce[u?"unshift":"push"](()=>{c=u,t(0,c)})}return n.$$set=u=>{"icon"in u&&t(4,l=u.icon),"colorOverride"in u&&t(5,a=u.colorOverride)},n.$$.update=()=>{n.$$.dirty&48&&t(3,i=a||l.color?te(a||l.color):void 0),n.$$.dirty&16&&t(1,r=Wl(l)),n.$$.dirty&1&&t(6,o=c==null?void 0:c.ownerDocument.defaultView),n.$$.dirty&65&&t(2,s=c?te(er(c)).alpha()===0:!1),n.$$.dirty&3&&c&&r!=null&&r.c&&r!=null&&r.l&&c.normalize()},[c,r,s,i,l,a,o,d]}class et extends Ie{constructor(e){super(),ye(this,e,qd,Rd,ve,{icon:4,colorOverride:5})}}function vo(n){var i;let e,t;return e=new et({props:{icon:n[0].icon,colorOverride:((i=n[0].textColor)==null?void 0:i.toHex())||"#fff"}}),{c(){le(e.$$.fragment)},m(r,o){ie(e,r,o),t=!0},p(r,o){var l;const s={};o&1&&(s.icon=r[0].icon),o&1&&(s.colorOverride=((l=r[0].textColor)==null?void 0:l.toHex())||"#fff"),e.$set(s)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function jd(n){let e,t,i,r=n[0].label+"",o,s,l,a,c,d=n[0].icon&&vo(n);return{c(){var u,m;e=k("a"),d&&d.c(),t=A(),i=k("span"),o=Y(r),f(i,"class","text"),f(e,"class",s="DesignBlocks--Btn "+n[0].size),f(e,"href",l=n[0].url),f(e,"target",a=n[0].target!=="_self"?n[0].target:void 0),K(e,"Button--full",n[0].fullWidth),ee(e,"background-color",(u=n[0].color)==null?void 0:u.toHex()),ee(e,"color",((m=n[0].textColor)==null?void 0:m.toHex())||"#fff")},m(u,m){D(u,e,m),d&&d.m(e,null),v(e,t),v(e,i),v(i,o),c=!0},p(u,[m]){var p,h;u[0].icon?d?(d.p(u,m),m&1&&B(d,1)):(d=vo(u),d.c(),B(d,1),d.m(e,t)):d&&(oe(),H(d,1,1,()=>{d=null}),se()),(!c||m&1)&&r!==(r=u[0].label+"")&&ge(o,r),(!c||m&1&&s!==(s="DesignBlocks--Btn "+u[0].size))&&f(e,"class",s),(!c||m&1&&l!==(l=u[0].url))&&f(e,"href",l),(!c||m&1&&a!==(a=u[0].target!=="_self"?u[0].target:void 0))&&f(e,"target",a),(!c||m&1)&&K(e,"Button--full",u[0].fullWidth),m&1&&ee(e,"background-color",(p=u[0].color)==null?void 0:p.toHex()),m&1&&ee(e,"color",((h=u[0].textColor)==null?void 0:h.toHex())||"#fff")},i(u){c||(B(d),c=!0)},o(u){H(d),c=!1},d(u){u&&S(e),d&&d.d()}}}function Fd(n,e,t){Re();let{cdbData:i}=e,{localState:r}=e,{destroyHandler:o}=e;return Ue(()=>{o()}),n.$$set=s=>{"cdbData"in s&&t(0,i=s.cdbData),"localState"in s&&t(1,r=s.localState),"destroyHandler"in s&&t(2,o=s.destroyHandler)},[i,r,o]}let Vd=class extends Ie{constructor(e){super(),ye(this,e,Fd,jd,ve,{cdbData:0,localState:1,destroyHandler:2})}};const Xn=class Xn extends ht{constructor(e=window.tinymce.activeEditor,t,i,r,o,s=ke(),l=!1,a,c=we({})){super(i,e,void 0,void 0,s,!0),this.editor=e,this.manager=t,this.node=i,this.svelteComponent=r,this.stateClass=o,this.id=s,this.localState=c,this.selectionMethod="TinyMCE",this.staticAttributes={"data-cdb-version":Xn.markupVersion,contenteditable:"false"},this.inline=!1,Object.entries(this.staticAttributes).forEach(([h,_])=>{i.getAttribute(h)!==_&&i.setAttribute(h,_)}),this.lastContents=void 0;const d=()=>((!this.dataEl||this.dataEl.parentElement!==this.node)&&(this.dataEl=document.createElement(this.inline?"div":"span"),this.dataEl.classList.add("cdbData"),this.dataEl.style.display="none"),this.dataEl.innerText=this.SvelteState.stateString,this.dataEl);this.node.addEventListener("keydown",h=>{var _,y;h.key==="Enter"&&this.node===((_=h.target)==null?void 0:_.parentElement)&&((y=this.popover)==null||y.show(!0),h.stopPropagation(),h.preventDefault())});let u=this.node.querySelector(".cdbData");const m=u==null?void 0:u.textContent;let p;try{m&&(p=JSON.parse(m))}catch(h){}p||(p=a||void 0),this.SvelteState=new o(p,i),this.SvelteState.subscribe(h=>{var _,y;if(!this.detached&&h){const g=d();g.parentElement!==this.node&&(this.node.appendChild(g),this.dataEl=g),!this.lastContents||![...this.node.childNodes].some(b=>b!==this.dataEl)?(this.stopObserving(),this.node.innerHTML="",this.dataEl=void 0,this.node.appendChild(d()),(_=this.lastContents)==null||_.$destroy(),this.lastContents=new r({target:this.node,props:{cdbData:h,localState:c,instance:this,destroyHandler:()=>{this.destroyHandler()}}}),this.lastContents.$on("update",({detail:b})=>{b&&d()}),this.lastContents.$on("focus",()=>{this.select()}),this.lastContents.$on("toolbar",({detail:b})=>{var w;(w=this.popover)==null||w.show(b)}),[...((y=this.customEvents)==null?void 0:y.entries())||[]].forEach(b=>{var w;(w=this.lastContents)==null||w.$on(b[0],I=>{b[1](I)})}),this.startObserving()):this.lastContents.$set({cdbData:h,localState:c,destroyHandler:()=>{this.destroyHandler()}})}}),l&&this.highlight()}destroyHandler(){this.lastContents=void 0,this.SvelteState.update(e=>e)}updateDataEl(){if(!this.dataEl||!this.dataEl.parentElement){this.SvelteState.update(e=>e);return}this.dataEl.innerText=this.SvelteState.stateString}checkChildren(){this.updateDataEl()}checkSelf(){}delete(){var e;(e=this.popover)==null||e.hide(),super.delete()}detach(){var e;super.detach(),(e=this.lastContents)==null||e.$destroy()}};Xn.markupVersion="1.0.0";let bt=Xn;const Ud={trailing:!0};function Wd(n,e=25,t={}){if(t={...Ud,...t},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let i,r,o=[],s,l;const a=(c,d)=>(s=Gd(n,c,d),s.finally(()=>{if(s=null,t.trailing&&l&&!r){const u=a(c,l);return l=null,u}}),s);return function(...c){return s?(t.trailing&&(l=c),s):new Promise(d=>{const u=!r&&t.leading;clearTimeout(r),r=setTimeout(()=>{r=null;const m=t.leading?i:a(this,c);for(const p of o)p(m);o=[]},e),u?(i=a(this,c),d(i)):o.push(d)})}}async function Gd(n,e,t){return await n.apply(e,t)}function Xd(n){let e,t,i,r,o;const s=n[6].default,l=Ke(s,n,n[5],null);return{c(){e=k("div"),t=k("div"),l&&l.c(),f(t,"class","scroll-container svelte-66io1n"),f(e,"class","overflow svelte-66io1n"),K(e,"active",n[4]>0),K(e,"card",n[1]),ee(e,"--maxHeight",n[2])},m(a,c){D(a,e,c),v(e,t),l&&l.m(t,null),n[7](t),i=!0,r||(o=q(t,"scroll",n[8]),r=!0)},p(a,[c]){l&&l.p&&(!i||c&32)&&Ze(l,s,a,a[5],i?Qe(s,a[5],c,null):Je(a[5]),null),(!i||c&16)&&K(e,"active",a[4]>0),(!i||c&2)&&K(e,"card",a[1]),c&4&&ee(e,"--maxHeight",a[2])},i(a){i||(B(l,a),i=!0)},o(a){H(l,a),i=!1},d(a){a&&S(e),l&&l.d(a),n[7](null),r=!1,o()}}}function Yd(n,e,t){let{$$slots:i={},$$scope:r}=e;const o=()=>{setTimeout(()=>{c=(a==null?void 0:a.scrollTop)||0,t(4,d=((a==null?void 0:a.scrollHeight)||0)-c-((a==null?void 0:a.clientHeight)||10))},50)};let{card:s=!0}=e,{maxHeight:l="650px"}=e,a,c=0,d=0;o();function u(p){ce[p?"unshift":"push"](()=>{a=p,t(3,a)})}const m=()=>{o()};return n.$$set=p=>{"card"in p&&t(1,s=p.card),"maxHeight"in p&&t(2,l=p.maxHeight),"$$scope"in p&&t(5,r=p.$$scope)},[o,s,l,a,d,r,i,u,m]}class Gl extends Ie{constructor(e){super(),ye(this,e,Yd,Xd,ve,{update:0,card:1,maxHeight:2})}get update(){return this.$$.ctx[0]}}function _o(n,e,t){const i=n.slice();return i[20]=e[t],i}function wo(n,e,t){const i=n.slice();return i[23]=e[t],i}function ko(n){let e,t,i,r;function o(l){n[15](l)}let s={label:"Icon Colour",id:ke()+"-setting-background",contrastColour:te("#ffffff"),popupDirection:"top",zIndex:12e3,showNone:!1,asModal:n[1]};return n[5]!==void 0&&(s.colour=n[5]),t=new Ht({props:s}),ce.push(()=>Me(t,"colour",o)),{c(){e=k("div"),le(t.$$.fragment),f(e,"class","colourPicker svelte-wln2o7")},m(l,a){D(l,e,a),ie(t,e,null),r=!0},p(l,a){const c={};a&2&&(c.asModal=l[1]),!i&&a&32&&(i=!0,c.colour=l[5],De(()=>i=!1)),t.$set(c)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){H(t.$$.fragment,l),r=!1},d(l){l&&S(e),re(t)}}}function yo(n){let e,t,i;return{c(){e=k("div"),e.innerHTML=`<p class="alert-details svelte-wln2o7"><span class="font-bold">Warning:</span> Text and icons smaller than 18pt (or
      bold 14pt) should display a minimum contrast ratio of 4.5:1. Consider using
      a darker colour if you are using this icon in a smaller size.</p>`,f(e,"class","colour-alert svelte-wln2o7")},m(r,o){D(r,e,o),i=!0},i(r){i||(he(()=>{i&&(t||(t=Ce(e,He,{},!0)),t.run(1))}),i=!0)},o(r){t||(t=Ce(e,He,{},!1)),t.run(0),i=!1},d(r){r&&S(e),r&&t&&t.end()}}}function Io(n,e){let t,i,r=`${e[20].name}.${e[23].l}`,o,s,l,a,c;function d(){return e[16](e[23])}return{key:n,first:null,c(){t=k("button"),i=k("span"),o=Y(r),s=A(),f(i,"class","cdb--icon svelte-wln2o7"),f(t,"class","icon svelte-wln2o7"),f(t,"title",l=e[23].n),this.first=t},m(u,m){D(u,t,m),v(t,i),v(i,o),v(t,s),a||(c=q(t,"click",d),a=!0)},p(u,m){e=u,m&8&&r!==(r=`${e[20].name}.${e[23].l}`)&&ge(o,r),m&8&&l!==(l=e[23].n)&&f(t,"title",l)},d(u){u&&S(t),a=!1,c()}}}function Co(n){let e,t,i=n[20].name+"",r,o,s,l=[],a=new Map,c,d=be(n[20].icons);const u=m=>m[23].i;for(let m=0;m<d.length;m+=1){let p=wo(n,d,m),h=u(p);a.set(h,l[m]=Io(h,p))}return{c(){e=k("div"),t=k("h3"),r=Y(i),o=A(),s=k("div");for(let m=0;m<l.length;m+=1)l[m].c();c=A(),f(t,"class","svelte-wln2o7"),f(s,"class","iconList svelte-wln2o7"),f(e,"class","category svelte-wln2o7")},m(m,p){D(m,e,p),v(e,t),v(t,r),v(e,o),v(e,s);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(s,null);v(e,c)},p(m,p){p&8&&i!==(i=m[20].name+"")&&ge(r,i),p&169&&(d=be(m[20].icons),l=Ui(l,p,u,1,m,d,a,s,Vi,Io,null,wo))},d(m){m&&S(e);for(let p=0;p<l.length;p+=1)l[p].d()}}}function Kd(n){let e,t=be(n[3]),i=[];for(let r=0;r<t.length;r+=1)i[r]=Co(_o(n,t,r));return{c(){e=k("div");for(let r=0;r<i.length;r+=1)i[r].c();f(e,"class","categories svelte-wln2o7"),ee(e,"color",n[0].editColor?n[5].toHex():"black")},m(r,o){D(r,e,o);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(r,o){if(o&169){t=be(r[3]);let s;for(s=0;s<t.length;s+=1){const l=_o(r,t,s);i[s]?i[s].p(l,o):(i[s]=Co(l),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}o&33&&ee(e,"color",r[0].editColor?r[5].toHex():"black")},d(r){r&&S(e),qe(i,r)}}}function Qd(n){let e,t,i,r,o,s,l,a,c,d=n[0].editColor&&ko(n),u=!n[6]&&yo(),m={maxHeight:n[0].maxHeight,card:n[0].card===void 0?!0:n[0].card,$$slots:{default:[Kd]},$$scope:{ctx:n}};return s=new Gl({props:m}),n[17](s),{c(){e=k("div"),t=k("input"),i=A(),d&&d.c(),r=A(),u&&u.c(),o=A(),le(s.$$.fragment),f(t,"type","search"),f(t,"placeholder","Search for an icon"),f(t,"class","svelte-wln2o7"),f(e,"class","searchFilter svelte-wln2o7")},m(p,h){D(p,e,h),v(e,t),de(t,n[2]),v(e,i),d&&d.m(e,null),D(p,r,h),u&&u.m(p,h),D(p,o,h),ie(s,p,h),l=!0,a||(c=q(t,"input",n[14]),a=!0)},p(p,[h]){h&4&&t.value!==p[2]&&de(t,p[2]),p[0].editColor?d?(d.p(p,h),h&1&&B(d,1)):(d=ko(p),d.c(),B(d,1),d.m(e,null)):d&&(oe(),H(d,1,1,()=>{d=null}),se()),p[6]?u&&(oe(),H(u,1,1,()=>{u=null}),se()):u?h&64&&B(u,1):(u=yo(),u.c(),B(u,1),u.m(o.parentNode,o));const _={};h&1&&(_.maxHeight=p[0].maxHeight),h&1&&(_.card=p[0].card===void 0?!0:p[0].card),h&67108905&&(_.$$scope={dirty:h,ctx:p}),s.$set(_)},i(p){l||(B(d),B(u),B(s.$$.fragment,p),l=!0)},o(p){H(d),H(u),H(s.$$.fragment,p),l=!1},d(p){p&&(S(e),S(r),S(o)),d&&d.d(),u&&u.d(p),n[17](null),re(s,p),a=!1,c()}}}function Zd(n,e,t){let i,r,o,s,l;const a=Re(),c=E=>{a("selectIcon",{...E,type:ot.Custom})};let{icons:d}=e,{options:u}=e,{asModal:m=!1}=e,{targetNode:p=void 0}=e,h="",_=ct("cdb-preferences-iconColor",te("#000000"),{serializer:{stringify:E=>E?E.toHex():"",parse:E=>te(E)}});an(n,_,E=>t(5,l=E));let y=d;const g=Wd(E=>{b==null||b.update(),E.length<3&&t(3,y=d),t(3,y=d.map(T=>({name:T.name,icons:T.icons.filter(O=>{var M;const P=E.toLowerCase(),F=(M=O.n)===null||M===void 0?void 0:M.toLowerCase().includes(P),V=O.s.some(X=>X.toLowerCase().includes(P));return F||V})})).filter(T=>T.icons.length))},50,{trailing:!0});let b;function w(){h=this.value,t(2,h)}function I(E){l=E,_.set(l)}const C=E=>{u.editColor?c({icon:E,color:l.toHex()}):c({icon:E})};function L(E){ce[E?"unshift":"push"](()=>{b=E,t(4,b)})}return n.$$set=E=>{"icons"in E&&t(9,d=E.icons),"options"in E&&t(0,u=E.options),"asModal"in E&&t(1,m=E.asModal),"targetNode"in E&&t(10,p=E.targetNode)},n.$$.update=()=>{n.$$.dirty&32&&a("colorChange",{color:l.toHex()}),n.$$.dirty&4&&g(h),n.$$.dirty&24&&(b==null||b.update()),n.$$.dirty&1024&&t(13,i=p==null?void 0:p.ownerDocument.defaultView),n.$$.dirty&9216&&t(12,r=te(p?er(p):"#fff")),n.$$.dirty&4128&&t(11,o=r.alpha()===0?l==null?void 0:l.contrast("#fff"):l==null?void 0:l.contrast(r)),n.$$.dirty&2048&&t(6,s=o===void 0||o&&o>=7)},[u,m,h,y,b,l,s,c,_,d,p,o,r,i,w,I,C,L]}class Xl extends Ie{constructor(e){super(),ye(this,e,Zd,Qd,ve,{icons:9,options:0,asModal:1,targetNode:10})}}function Jd(n){return{c:z,m:z,p:z,i:z,o:z,d:z}}function $d(n){let e,t;return e=new Xl({props:{icons:n[7],options:n[0],asModal:!0}}),e.$on("selectIcon",n[4]),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.options=i[0]),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function xd(n){return{c:z,m:z,p:z,i:z,o:z,d:z}}function eu(n){let e,t,i={ctx:n,current:null,token:null,hasCatch:!1,pending:xd,then:$d,catch:Jd,value:7,blocks:[,,,]};return st(Un,i),{c(){e=k("div"),i.block.c(),f(e,"class","modal-wrap")},m(r,o){D(r,e,o),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,t=!0},p(r,o){n=r,Xt(i,n,o)},i(r){t||(B(i.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const s=i.blocks[o];H(s)}t=!1},d(r){r&&S(e),i.block.d(),i.token=null,i=null}}}function tu(n){let e,t,i={title:"Choose an icon",showSave:!1,$$slots:{default:[eu]},$$scope:{ctx:n}};return e=new xi({props:i}),n[5](e),{c(){le(e.$$.fragment)},m(r,o){ie(e,r,o),t=!0},p(r,[o]){const s={};o&257&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){n[5](null),re(e,r)}}}function nu(n,e,t){Re();let{options:i}=e,r;const o=()=>r.open(),s=()=>r.close();function l(c){mn.call(this,n,c)}function a(c){ce[c?"unshift":"push"](()=>{r=c,t(1,r)})}return n.$$set=c=>{"options"in c&&t(0,i=c.options)},[i,r,o,s,l,a]}class $t extends Ie{constructor(e){super(),ye(this,e,nu,tu,ve,{options:0,open:2,close:3})}get open(){return this.$$.ctx[2]}get close(){return this.$$.ctx[3]}}var Ei=(n=>(n.Pages="Pages",n.Assignments="Assignments",n.Quizzes="Quizzes",n.Announcements="Announcements",n.Discussions="Discussions",n.Modules="Modules",n.Navigation="Course navigation",n.File="File",n))(Ei||{}),ir=(n=>(n.Images="images",n.All="all",n))(ir||{}),ol;const rt=(ol=window.ENV)==null?void 0:ol.COURSE_ID;class Si{constructor(e=[]){this.links=Pn(new Promise(t=>t({}))),this.page=we(1),this.perPage=we(12),this.query=we(""),this.data=Pn(Promise.resolve(e)),this.total=Ge(this.data,(t,i)=>{t.then(r=>i(r.length))})}}const iu=new Si([]);let Bt=class Yl{constructor(e="",t=1,i=12){this._query=e,this.page=we(1),this.perPage=we(12),this.query=we(""),this.url=Ge([this.page,this.perPage,this.query],([r,o,s])=>{if(!this.urlBase)return"";const l=new URL(this.urlBase,document.URL);return s&&l.searchParams.set("search_term",s),isNaN(o)||(l.searchParams.set("page",String(r)),l.searchParams.set("per_page",String(o))),l.toString()}),this._state=Ge(this.url,r=>new Promise(o=>{if(!this.urlBase)return new Promise(s=>s({links:{},data:[]}));fetch(r).then(async s=>{const l=await s.json(),a=Yl.parseLinkHeader(s.headers.get("Link")||"",l);o({data:await this.getLinks(l),...a})}).catch(()=>{o({links:{},data:[],total:0})})})),this.data=Ge(this._state,r=>r.then(o=>o.data)),this.links=Ge(this._state,r=>r.then(o=>o.links)),this.total=Ge(this._state,r=>r.then(o=>o.total||o.data.length)),e&&this.query.set(e),t!==1&&this.page.set(t),i!==12&&this.perPage.set(i)}static parseLinkHeader(e,t){const i=e.split(","),r={};i.forEach(s=>{const l=s.match(/<([^>]+)>; rel="([^"]+)"/);l&&(r[l[2]]=l[1])});let o=t.length;if(r.last){const s=r.last.split("?");if(s[1]){const l=new URLSearchParams(s[1]),a=l.get("page"),c=l.get("per_page");a&&c&&(o=Number(a)*Number(c))}}return{links:r,total:o}}};class Kl extends Bt{constructor(e,t="all",i,r){super(e,i,r),this.filter=t}get urlBase(){return`/api/v1/courses/${rt}/files?${this.filter==="images"?"content_types=image&":""}sort=created_at&order=desc`}async getLinks(e){return e.map(t=>{let i={name:t.display_name,display_name:t.display_name,size:t.size,url:t.url,type:"File",published:t.published};return this.filter==="images"&&(i.image=fu(t),i.thumbnail_url=t.thumbnail_url,i.created_at=t.created_at),i})}}class Ql extends Bt{constructor(){super(...arguments),this.urlBase=`/api/v1/courses/${rt}/discussion_topics`}async getLinks(e){return e.map(t=>({name:t.title,url:t.html_url,type:"Discussions",published:t.published}))}}class ru extends Ql{constructor(){super(...arguments),this.urlBase=`/api/v1/courses/${rt}/discussion_topics?only_announcements=true`}}class ou extends Bt{constructor(){super(...arguments),this.urlBase=`/api/v1/courses/${rt}/assignments`}async getLinks(e){return e.map(t=>({name:t.name,url:t.html_url,type:"Assignments",published:t.published}))}}class su extends Bt{constructor(){super(...arguments),this.urlBase=`/api/v1/courses/${rt}/quizzes`}async getLinks(e){return e.map(t=>({name:t.title,url:t.html_url,type:"Quizzes",published:t.published}))}}class lu extends Bt{constructor(){super(...arguments),this.urlBase=`/api/quiz/v1/courses/${rt}/quizzes`}async getLinks(e){return e.map(t=>({name:t.title,url:t.html_url,type:"Quizzes",published:t.published}))}}class au{constructor(...e){this.urlBase=void 0,this.page=we(1),this.perPage=we(12),this.query=we(""),this.url=Pn(""),this.oldQuizSearch=new su(...e),this.newQuizSearch=new lu(...e),this.page.subscribe(t=>{this.oldQuizSearch.page.set(t),this.newQuizSearch.page.set(t)}),this.perPage.subscribe(t=>{this.oldQuizSearch.perPage.set(t),this.newQuizSearch.perPage.set(t)}),this.query.subscribe(t=>{this.oldQuizSearch.query.set(t),this.newQuizSearch.query.set(t)}),this._state=Ge([this.newQuizSearch._state,this.oldQuizSearch._state],t=>Promise.all([t[0],t[1]]).then(([i,r])=>({...i,data:[...i.data,...r.data],total:(i.total||0)+(r.total||0)}))),this.data=Ge(this._state,t=>t.then(i=>i.data)),this.links=Ge(this._state,t=>t.then(i=>i.links)),this.total=Ge(this._state,t=>t.then(i=>i.total||i.data.length))}getLinks(e){return(async()=>[])()}}class cu extends Bt{constructor(){super(...arguments),this.urlBase=`/api/v1/courses/${rt}/pages`}async getLinks(e){return e.map(t=>({name:t.title,url:t.html_url,type:"Pages",published:t.published}))}}class Zl extends Bt{constructor(e,t=!1,i,r){super(e,i,r),this.includeItems=t}get urlBase(){return`/api/v1/courses/${rt}/modules${this.includeItems?"?include[]=items":""}`}async getLinks(e){return e.map(t=>({id:t.id,name:t.name,url:`/courses/${rt}/modules/${t.id}`,type:"Modules",published:t.published,items:this.includeItems?t.items:void 0}))}}class du extends Bt{constructor(){super(void 0,void 0,NaN),this.perPage=we(NaN),this.urlBase=`/api/v1/courses/${rt}/tabs`}async getLinks(e){return e.map(t=>({name:t.label,url:t.html_url,type:"Course navigation",published:!t.hidden}))}}function uu(n,e=void 0,t="all"){if(!rt)return new Si;switch(n){case"File":return new Kl(e,t);case"Announcements":return new ru(e);case"Discussions":return new Ql(e);case"Assignments":return new ou(e);case"Quizzes":return new au(e);case"Pages":return new cu(e);case"Modules":return new Zl(e);case"Course navigation":return new du(e);default:return new Si}}const fu=n=>new URL(`/courses/${rt}/files/${n.id}/preview`,document.URL).toString();function Lo(n){switch(n.type){case"File":return"file";case"Announcements":return"announcement";case"Discussions":return"discussion";case"Assignments":return"assignment";case"Quizzes":return"quiz";case"Pages":return"document";case"Modules":return"module";case"Course navigation":default:return""}}/**
 * filesize
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.0
 */const mu="array",hu="bit",Bo="bits",pu="byte",To="bytes",Rt="",gu="exponent",bu="function",Eo="iec",vu="Invalid number",_u="Invalid rounding method",pi="jedec",wu="object",So=".",ku="round",yu="s",Iu="si",Cu="kbit",Lu="kB",Bu=" ",Tu="string",Eu="0",gi={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function Wn(n,{bits:e=!1,pad:t=!1,base:i=-1,round:r=2,locale:o=Rt,localeOptions:s={},separator:l=Rt,spacer:a=Bu,symbols:c={},standard:d=Rt,output:u=Tu,fullform:m=!1,fullforms:p=[],exponent:h=-1,roundingMethod:_=ku,precision:y=0}={}){let g=h,b=Number(n),w=[],I=0,C=Rt;d===Iu?(i=10,d=pi):d===Eo||d===pi?i=2:i===2?d=Eo:(i=10,d=pi);const L=i===10?1e3:1024,E=m===!0,T=b<0,O=Math[_];if(typeof n!="bigint"&&isNaN(n))throw new TypeError(vu);if(typeof O!==bu)throw new TypeError(_u);if(T&&(b=-b),(g===-1||isNaN(g))&&(g=Math.floor(Math.log(b)/Math.log(L)),g<0&&(g=0)),g>8&&(y>0&&(y+=8-g),g=8),u===gu)return g;if(b===0)w[0]=0,C=w[1]=gi.symbol[d][e?Bo:To][g];else{I=b/(i===2?Math.pow(2,g*10):Math.pow(1e3,g)),e&&(I=I*8,I>=L&&g<8&&(I=I/L,g++));const M=Math.pow(10,g>0?r:0);w[0]=O(I*M)/M,w[0]===L&&g<8&&h===-1&&(w[0]=1,g++),C=w[1]=i===10&&g===1?e?Cu:Lu:gi.symbol[d][e?Bo:To][g]}if(T&&(w[0]=-w[0]),y>0&&(w[0]=w[0].toPrecision(y)),w[1]=c[w[1]]||w[1],o===!0?w[0]=w[0].toLocaleString():o.length>0?w[0]=w[0].toLocaleString(o,s):l.length>0&&(w[0]=w[0].toString().replace(So,l)),t&&Number.isInteger(w[0])===!1&&r>0){const M=l||So,P=w[0].toString().split(M),F=P[1]||Rt,V=F.length,X=r-V;w[0]=`${P[0]}${M}${F.padEnd(V+X,Eu)}`}return E&&(w[1]=p[g]?p[g]:gi.fullform[d][g]+(e?hu:pu)+(w[0]===1?Rt:yu)),u===mu?w:u===wu?{value:w[0],symbol:w[1],exponent:g,unit:C}:w.join(a)}function Do(n,e,t){const i=n.slice();return i[4]=e[t],i}function Mo(n){let e,t,i,r,o,s,l,a,c=n[2](n[4].name,20)+"",d,u,m,p=Wn(n[4].size)+"",h,_,y,g,b;function w(){return n[3](n[4])}return{c(){e=k("div"),t=k("button"),i=k("img"),s=A(),l=k("div"),a=k("div"),d=Y(c),u=A(),m=k("div"),h=Y(p),_=A(),xe(i.src,r=n[4].thumbnail_url)||f(i,"src",r),f(i,"alt",o=n[4].name),f(i,"class","svelte-1xbqux8"),f(t,"class","imageChoice svelte-1xbqux8"),f(a,"class","filename svelte-1xbqux8"),f(m,"class","filesize svelte-1xbqux8"),f(l,"class","caption svelte-1xbqux8"),f(e,"class","imageResult svelte-1xbqux8")},m(I,C){D(I,e,C),v(e,t),v(t,i),v(e,s),v(e,l),v(l,a),v(a,d),v(l,u),v(l,m),v(m,h),v(e,_),g||(b=q(t,"click",w),g=!0)},p(I,C){n=I,C&1&&!xe(i.src,r=n[4].thumbnail_url)&&f(i,"src",r),C&1&&o!==(o=n[4].name)&&f(i,"alt",o),C&1&&c!==(c=n[2](n[4].name,20)+"")&&ge(d,c),C&1&&p!==(p=Wn(n[4].size)+"")&&ge(h,p)},i(I){y||he(()=>{y=Xe(e,Se,{}),y.start()})},o:z,d(I){I&&S(e),g=!1,b()}}}function Su(n){let e,t=be(n[0]),i=[];for(let r=0;r<t.length;r+=1)i[r]=Mo(Do(n,t,r));return{c(){e=k("div");for(let r=0;r<i.length;r+=1)i[r].c();f(e,"class","imageResults svelte-1xbqux8")},m(r,o){D(r,e,o);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null)},p(r,[o]){if(o&7){t=be(r[0]);let s;for(s=0;s<t.length;s+=1){const l=Do(r,t,s);i[s]?(i[s].p(l,o),B(i[s],1)):(i[s]=Mo(l),i[s].c(),B(i[s],1),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i(r){for(let o=0;o<t.length;o+=1)B(i[o])},o:z,d(r){r&&S(e),qe(i,r)}}}function Du(n,e,t){let{files:i}=e;const r=Re(),o=(l,a)=>l.length>a?l.substr(0,a-1)+"...":l,s=l=>r("select",l);return n.$$set=l=>{"files"in l&&t(0,i=l.files)},[i,r,o,s]}class Mu extends Ie{constructor(e){super(),ye(this,e,Du,Su,ve,{files:0})}}var Ne;(function(n){n.PREVIOUS_PAGE="PREVIOUS_PAGE",n.NEXT_PAGE="NEXT_PAGE",n.ELLIPSIS="ELLIPSIS"})(Ne||(Ne={}));function Au({totalItems:n,pageSize:e,currentPage:t,limit:i,showStepOptions:r=!1}){const o=Math.ceil(n/e),l=i&&o>Nu(i)?Pu({totalPages:o,limit:i,currentPage:t}):Hu({totalPages:o});return r?Ou({options:l,currentPage:t,totalPages:o}):l}function Hu({totalPages:n}){return new Array(n).fill(null).map((e,t)=>({type:"number",value:t+1}))}function Pu({totalPages:n,limit:e,currentPage:t}){const i=e*2+2,r=1+i,o=n-i,s=r+2;return t<=r-e?Array(s).fill(null).map((l,a)=>a===s-1?{type:"number",value:n}:a===s-2?{type:"symbol",symbol:Ne.ELLIPSIS,value:r+1}:{type:"number",value:a+1}):t>=o+e?Array(s).fill(null).map((l,a)=>a===0?{type:"number",value:1}:a===1?{type:"symbol",symbol:Ne.ELLIPSIS,value:o-1}:{type:"number",value:o+a-2}):t>=r-e&&t<=o+e?Array(s).fill(null).map((l,a)=>a===0?{type:"number",value:1}:a===1?{type:"symbol",symbol:Ne.ELLIPSIS,value:t-e+(a-2)}:a===s-1?{type:"number",value:n}:a===s-2?{type:"symbol",symbol:Ne.ELLIPSIS,value:t+e+1}:{type:"number",value:t-e+(a-2)}):[]}function Ou({options:n,currentPage:e,totalPages:t}){return[{type:"symbol",symbol:Ne.PREVIOUS_PAGE,value:e<=1?1:e-1},...n||[],{type:"symbol",symbol:Ne.NEXT_PAGE,value:e>=t?t:e+1}]}function Nu(n){return n*2+3+2}function Ao(n,e,t){const i=n.slice();return i[12]=e[t],i}const zu=n=>({}),Ho=n=>({}),Ru=n=>({}),Po=n=>({}),qu=n=>({}),Oo=n=>({}),ju=n=>({value:n&4}),No=n=>({value:n[12].value});function Fu(n){let e;const t=n[9].next,i=Ke(t,n,n[8],Ho),r=i||Gu();return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s&256)&&Ze(i,t,o,o[8],e?Qe(t,o[8],s,zu):Je(o[8]),Ho)},i(o){e||(B(r,o),e=!0)},o(o){H(r,o),e=!1},d(o){r&&r.d(o)}}}function Vu(n){let e;const t=n[9].prev,i=Ke(t,n,n[8],Po),r=i||Xu();return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s&256)&&Ze(i,t,o,o[8],e?Qe(t,o[8],s,Ru):Je(o[8]),Po)},i(o){e||(B(r,o),e=!0)},o(o){H(r,o),e=!1},d(o){r&&r.d(o)}}}function Uu(n){let e;const t=n[9].ellipsis,i=Ke(t,n,n[8],Oo),r=i||Yu();return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s&256)&&Ze(i,t,o,o[8],e?Qe(t,o[8],s,qu):Je(o[8]),Oo)},i(o){e||(B(r,o),e=!0)},o(o){H(r,o),e=!1},d(o){r&&r.d(o)}}}function Wu(n){let e;const t=n[9].number,i=Ke(t,n,n[8],No),r=i||Ku(n);return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,s){i?i.p&&(!e||s&260)&&Ze(i,t,o,o[8],e?Qe(t,o[8],s,ju):Je(o[8]),No):r&&r.p&&(!e||s&4)&&r.p(o,e?s:-1)},i(o){e||(B(r,o),e=!0)},o(o){H(r,o),e=!1},d(o){r&&r.d(o)}}}function Gu(n){let e,t;return{c(){e=En("svg"),t=En("path"),f(t,"fill","#000000"),f(t,"d","M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"),ee(e,"width","24px"),ee(e,"height","24px"),f(e,"viewBox","0 0 24 24")},m(i,r){D(i,e,r),v(e,t)},p:z,d(i){i&&S(e)}}}function Xu(n){let e,t;return{c(){e=En("svg"),t=En("path"),f(t,"fill","#000000"),f(t,"d","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"),ee(e,"width","24px"),ee(e,"height","24px"),f(e,"viewBox","0 0 24 24")},m(i,r){D(i,e,r),v(e,t)},p:z,d(i){i&&S(e)}}}function Yu(n){let e;return{c(){e=k("span"),e.textContent="..."},m(t,i){D(t,e,i)},p:z,d(t){t&&S(e)}}}function Ku(n){let e,t=n[12].value+"",i;return{c(){e=k("span"),i=Y(t)},m(r,o){D(r,e,o),v(e,i)},p(r,o){o&4&&t!==(t=r[12].value+"")&&ge(i,t)},d(r){r&&S(e)}}}function zo(n){let e,t,i,r,o,s,l;const a=[Wu,Uu,Vu,Fu],c=[];function d(m,p){return m[12].type==="number"?0:m[12].type==="symbol"&&m[12].symbol===Ne.ELLIPSIS?1:m[12].type==="symbol"&&m[12].symbol===Ne.PREVIOUS_PAGE?2:m[12].type==="symbol"&&m[12].symbol===Ne.NEXT_PAGE?3:-1}~(t=d(n))&&(i=c[t]=a[t](n));function u(){return n[10](n[12])}return{c(){e=k("span"),i&&i.c(),r=A(),f(e,"class","option"),f(e,"role","presentation"),K(e,"number",n[12].type==="number"),K(e,"prev",n[12].type==="symbol"&&n[12].symbol===Ne.PREVIOUS_PAGE),K(e,"next",n[12].type==="symbol"&&n[12].symbol===Ne.NEXT_PAGE),K(e,"disabled",n[12].type==="symbol"&&n[12].symbol===Ne.NEXT_PAGE&&n[0]>=n[1]||n[12].type==="symbol"&&n[12].symbol===Ne.PREVIOUS_PAGE&&n[0]<=1),K(e,"ellipsis",n[12].type==="symbol"&&n[12].symbol===Ne.ELLIPSIS),K(e,"active",n[12].type==="number"&&n[12].value===n[0])},m(m,p){D(m,e,p),~t&&c[t].m(e,null),v(e,r),o=!0,s||(l=q(e,"click",u),s=!0)},p(m,p){n=m;let h=t;t=d(n),t===h?~t&&c[t].p(n,p):(i&&(oe(),H(c[h],1,1,()=>{c[h]=null}),se()),~t?(i=c[t],i?i.p(n,p):(i=c[t]=a[t](n),i.c()),B(i,1),i.m(e,r)):i=null),(!o||p&4)&&K(e,"number",n[12].type==="number"),(!o||p&4)&&K(e,"prev",n[12].type==="symbol"&&n[12].symbol===Ne.PREVIOUS_PAGE),(!o||p&4)&&K(e,"next",n[12].type==="symbol"&&n[12].symbol===Ne.NEXT_PAGE),(!o||p&7)&&K(e,"disabled",n[12].type==="symbol"&&n[12].symbol===Ne.NEXT_PAGE&&n[0]>=n[1]||n[12].type==="symbol"&&n[12].symbol===Ne.PREVIOUS_PAGE&&n[0]<=1),(!o||p&4)&&K(e,"ellipsis",n[12].type==="symbol"&&n[12].symbol===Ne.ELLIPSIS),(!o||p&5)&&K(e,"active",n[12].type==="number"&&n[12].value===n[0])},i(m){o||(B(i),o=!0)},o(m){H(i),o=!1},d(m){m&&S(e),~t&&c[t].d(),s=!1,l()}}}function Qu(n){let e,t,i=be(n[2]),r=[];for(let s=0;s<i.length;s+=1)r[s]=zo(Ao(n,i,s));const o=s=>H(r[s],1,1,()=>{r[s]=null});return{c(){e=k("div");for(let s=0;s<r.length;s+=1)r[s].c();f(e,"class","pagination-nav")},m(s,l){D(s,e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(s,[l]){if(l&271){i=be(s[2]);let a;for(a=0;a<i.length;a+=1){const c=Ao(s,i,a);r[a]?(r[a].p(c,l),B(r[a],1)):(r[a]=zo(c),r[a].c(),B(r[a],1),r[a].m(e,null))}for(oe(),a=i.length;a<r.length;a+=1)o(a);se()}},i(s){if(!t){for(let l=0;l<i.length;l+=1)B(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)H(r[l]);t=!1},d(s){s&&S(e),qe(r,s)}}}function Zu(n,e,t){let i,r,{$$slots:o={},$$scope:s}=e;const l=Re();let{totalItems:a=0}=e,{pageSize:c=1}=e,{currentPage:d=1}=e,{limit:u=void 0}=e,{showStepOptions:m=!1}=e;function p(_){l("setPage",{page:_.value})}const h=_=>p(_);return n.$$set=_=>{"totalItems"in _&&t(4,a=_.totalItems),"pageSize"in _&&t(5,c=_.pageSize),"currentPage"in _&&t(0,d=_.currentPage),"limit"in _&&t(6,u=_.limit),"showStepOptions"in _&&t(7,m=_.showStepOptions),"$$scope"in _&&t(8,s=_.$$scope)},n.$$.update=()=>{n.$$.dirty&241&&t(2,i=Au({totalItems:a,pageSize:c,currentPage:d,limit:u,showStepOptions:m})),n.$$.dirty&48&&t(1,r=Math.ceil(a/c))},[d,r,i,p,a,c,u,m,s,o,h]}class Jl extends Ie{constructor(e){super(),ye(this,e,Zu,Qu,ve,{totalItems:4,pageSize:5,currentPage:0,limit:6,showStepOptions:7})}}function Ju(n){let e,t,i;const r=[n[0]];let o={};for(let s=0;s<r.length;s+=1)o=ln(o,r[s]);return t=new Jl({props:o}),t.$on("setPage",n[1]),{c(){e=k("div"),le(t.$$.fragment),f(e,"class","light-pagination-nav svelte-7mekyw")},m(s,l){D(s,e,l),ie(t,e,null),i=!0},p(s,[l]){const a=l&1?bl(r,[vl(s[0])]):{};t.$set(a)},i(s){i||(B(t.$$.fragment,s),i=!0)},o(s){H(t.$$.fragment,s),i=!1},d(s){s&&S(e),re(t)}}}function $u(n,e,t){function i(r){mn.call(this,n,r)}return n.$$set=r=>{t(0,e=ln(ln({},e),ur(r)))},e=ur(e),[e,i]}class xu extends Ie{constructor(e){super(),ye(this,e,$u,Ju,ve,{})}}function Ro(n,e,t){const i=n.slice();i[28]=e[t];const r=ke();return i[29]=r,i}function qo(n,e,t){const i=n.slice();return i[33]=e[t],i}function jo(n){let e,t,i,r={ctx:n,current:null,token:null,hasCatch:!1,pending:nf,then:tf,catch:ef,value:37,blocks:[,,,]};return st(t=n[9],r),{c(){e=Pe(),r.block.c()},m(o,s){D(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(o,s){n=o,r.ctx=n,s[0]&512&&t!==(t=n[9])&&st(t,r)||Xt(r,n,s)},i(o){i||(B(r.block),i=!0)},o(o){for(let s=0;s<3;s+=1){const l=r.blocks[s];H(l)}i=!1},d(o){o&&S(e),r.block.d(o),r.token=null,r=null}}}function ef(n){return{c:z,m:z,p:z,i:z,o:z,d:z}}function tf(n){let e,t,i=n[37]&&n[10]&&Fo(n);return{c(){i&&i.c(),e=Pe()},m(r,o){i&&i.m(r,o),D(r,e,o),t=!0},p(r,o){r[37]&&r[10]?i?(i.p(r,o),o[0]&1536&&B(i,1)):(i=Fo(r),i.c(),B(i,1),i.m(e.parentNode,e)):i&&(oe(),H(i,1,1,()=>{i=null}),se())},i(r){t||(B(i),t=!0)},o(r){H(i),t=!1},d(r){r&&S(e),i&&i.d(r)}}}function Fo(n){let e,t;return e=new Jl({props:{totalItems:n[37],pageSize:n[10],currentPage:n[11],limit:1,showStepOptions:!0}}),e.$on("setPage",n[22]),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r[0]&512&&(o.totalItems=i[37]),r[0]&1024&&(o.pageSize=i[10]),r[0]&2048&&(o.currentPage=i[11]),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function nf(n){return{c:z,m:z,p:z,i:z,o:z,d:z}}function Vo(n){let e,t,i,r={ctx:n,current:null,token:null,hasCatch:!0,pending:uf,then:of,catch:rf,value:32,error:36,blocks:[,,,]};return st(t=n[12],r),{c(){e=Pe(),r.block.c()},m(o,s){D(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(o,s){n=o,r.ctx=n,s[0]&4096&&t!==(t=n[12])&&st(t,r)||Xt(r,n,s)},i(o){i||(B(r.block),i=!0)},o(o){for(let s=0;s<3;s+=1){const l=r.blocks[s];H(l)}i=!1},d(o){o&&S(e),r.block.d(o),r.token=null,r=null}}}function rf(n){let e,t,i,r,o=n[36].message+"",s;return{c(){e=k("div"),t=k("strong"),t.textContent="An error occured",i=A(),r=k("p"),s=Y(o),f(r,"class","svelte-7w7wrp"),f(e,"class","status-msg svelte-7w7wrp")},m(l,a){D(l,e,a),v(e,t),v(e,i),v(e,r),v(r,s)},p(l,a){a[0]&4096&&o!==(o=l[36].message+"")&&ge(s,o)},i:z,o:z,d(l){l&&S(e)}}}function of(n){let e,t,i,r,o;const s=[af,lf,sf],l=[];function a(c,d){return d[0]&4096&&(t=null),c[32].length===0?0:(t==null&&(t=!!c[14](c[32])),t?1:2)}return i=a(n,[-1,-1]),r=l[i]=s[i](n),{c(){e=k("div"),r.c(),f(e,"class","fileListResults svelte-7w7wrp")},m(c,d){D(c,e,d),l[i].m(e,null),o=!0},p(c,d){let u=i;i=a(c,d),i===u?l[i].p(c,d):(oe(),H(l[u],1,1,()=>{l[u]=null}),se(),r=l[i],r?r.p(c,d):(r=l[i]=s[i](c),r.c()),B(r,1),r.m(e,null))},i(c){o||(B(r),o=!0)},o(c){H(r),o=!1},d(c){c&&S(e),l[i].d()}}}function sf(n){let e,t=be(n[32]),i=[];for(let r=0;r<t.length;r+=1)i[r]=Uo(qo(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Pe()},m(r,o){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,o);D(r,e,o)},p(r,o){if(o[0]&36864){t=be(r[32]);let s;for(s=0;s<t.length;s+=1){const l=qo(r,t,s);i[s]?i[s].p(l,o):(i[s]=Uo(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i:z,o:z,d(r){r&&S(e),qe(i,r)}}}function lf(n){let e,t;return e=new Mu({props:{files:n[32]}}),e.$on("select",n[24]),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r[0]&4096&&(o.files=i[32]),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function af(n){let e,t,i,r,o=n[1].length>2&&Wo(n);return{c(){e=k("div"),t=k("p"),t.textContent="No results found",i=A(),o&&o.c(),f(t,"class","svelte-7w7wrp"),f(e,"class","status-msg svelte-7w7wrp")},m(s,l){D(s,e,l),v(e,t),v(e,i),o&&o.m(e,null)},p(s,l){s[1].length>2?o?o.p(s,l):(o=Wo(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(s){r||he(()=>{r=Xe(e,Se,{}),r.start()})},o:z,d(s){s&&S(e),o&&o.d()}}}function cf(n){let e;return{c(){e=k("i"),f(e,"class","icon-Solid icon-publish svelte-7w7wrp"),f(e,"title","Published")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function df(n){let e;return{c(){e=k("i"),f(e,"class","icon-Solid icon-unpublish svelte-7w7wrp"),f(e,"title","Unpublished")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function Uo(n){let e,t,i,r,o,s=n[33].name+"",l,a,c,d,u,m,p;function h(b,w){if("published"in b[33]&&b[33].published===!1)return df;if("published"in b[33]&&b[33].published===!0)return cf}let _=h(n),y=_&&_(n);function g(){return n[25](n[33])}return{c(){e=k("button"),t=k("i"),r=A(),o=k("span"),l=Y(s),a=A(),c=k("div"),y&&y.c(),d=A(),u=k("hr"),f(t,"class",i="icon-Line icon-"+Lo(n[33])+" svelte-7w7wrp"),f(o,"class","linkName svelte-7w7wrp"),f(c,"class","publishedStatus"),f(e,"class","svelte-7w7wrp"),K(e,"unpublished","published"in n[33]&&!n[33].published),f(u,"class","svelte-7w7wrp")},m(b,w){D(b,e,w),v(e,t),v(e,r),v(e,o),v(o,l),v(e,a),v(e,c),y&&y.m(c,null),D(b,d,w),D(b,u,w),m||(p=q(e,"click",g),m=!0)},p(b,w){n=b,w[0]&4096&&i!==(i="icon-Line icon-"+Lo(n[33])+" svelte-7w7wrp")&&f(t,"class",i),w[0]&4096&&s!==(s=n[33].name+"")&&ge(l,s),_!==(_=h(n))&&(y&&y.d(1),y=_&&_(n),y&&(y.c(),y.m(c,null))),w[0]&4096&&K(e,"unpublished","published"in n[33]&&!n[33].published)},d(b){b&&(S(e),S(d),S(u)),y&&y.d(),m=!1,p()}}}function Wo(n){let e,t,i;return{c(){e=k("button"),e.textContent="Clear Search",f(e,"class","btn btn-secondary svelte-7w7wrp")},m(r,o){D(r,e,o),t||(i=q(e,"click",_t(n[23])),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function uf(n){let e,t,i;return{c(){e=k("div"),t=k("div"),t.innerHTML='<p class="svelte-7w7wrp">Loading...</p>',f(t,"class","status-msg svelte-7w7wrp"),f(e,"class","fileListResults svelte-7w7wrp")},m(r,o){D(r,e,o),v(e,t)},p:z,i(r){i||he(()=>{i=Xe(t,Se,{}),i.start()})},o:z,d(r){r&&S(e)}}}function Go(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h;function _(){return n[21](n[28])}let y=n[28]===n[3]&&jo(n),g=n[28]===n[3]&&Vo(n);return{c(){e=k("div"),t=k("button"),i=k("i"),r=A(),o=k("span"),o.textContent=`${n[28]}`,l=A(),a=k("div"),y&&y.c(),c=A(),d=k("div"),g&&g.c(),u=A(),f(i,"class","icon-Solid svelte-7w7wrp"),K(i,"icon-arrow-open-down",n[3]!==n[28]),K(i,"icon-arrow-open-up",n[3]===n[28]),f(t,"id",n[29]+"-header"),f(t,"aria-expanded",s=n[28]===n[3]),f(t,"aria-controls",n[29]),f(t,"class","svelte-7w7wrp"),f(a,"class","paginate-right svelte-7w7wrp"),f(e,"class","accordion-header svelte-7w7wrp"),K(e,"active",n[28]===n[3]),f(d,"class","fileList"),f(d,"id",n[29]),f(d,"role","region"),f(d,"aria-labelledby",n[29]+"-header")},m(b,w){D(b,e,w),v(e,t),v(t,i),v(t,r),v(t,o),v(e,l),v(e,a),y&&y.m(a,null),D(b,c,w),D(b,d,w),g&&g.m(d,null),v(d,u),m=!0,p||(h=q(t,"click",_),p=!0)},p(b,w){n=b,(!m||w[0]&8200)&&K(i,"icon-arrow-open-down",n[3]!==n[28]),(!m||w[0]&8200)&&K(i,"icon-arrow-open-up",n[3]===n[28]),(!m||w[0]&8&&s!==(s=n[28]===n[3]))&&f(t,"aria-expanded",s),n[28]===n[3]?y?(y.p(n,w),w[0]&8&&B(y,1)):(y=jo(n),y.c(),B(y,1),y.m(a,null)):y&&(oe(),H(y,1,1,()=>{y=null}),se()),(!m||w[0]&8200)&&K(e,"active",n[28]===n[3]),n[28]===n[3]?g?(g.p(n,w),w[0]&8&&B(g,1)):(g=Vo(n),g.c(),B(g,1),g.m(d,u)):g&&(oe(),H(g,1,1,()=>{g=null}),se())},i(b){m||(B(y),B(g),m=!0)},o(b){H(y),H(g),m=!1},d(b){b&&(S(e),S(c),S(d)),y&&y.d(),g&&g.d(),p=!1,h()}}}function ff(n){let e,t,i=be(n[13]),r=[];for(let s=0;s<i.length;s+=1)r[s]=Go(Ro(n,i,s));const o=s=>H(r[s],1,1,()=>{r[s]=null});return{c(){e=k("div");for(let s=0;s<r.length;s+=1)r[s].c();f(e,"class","fileResults svelte-7w7wrp")},m(s,l){D(s,e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(s,l){if(l[0]&65050){i=be(s[13]);let a;for(a=0;a<i.length;a+=1){const c=Ro(s,i,a);r[a]?(r[a].p(c,l),B(r[a],1)):(r[a]=Go(c),r[a].c(),B(r[a],1),r[a].m(e,null))}for(oe(),a=i.length;a<r.length;a+=1)o(a);se()}},i(s){if(!t){for(let l=0;l<i.length;l+=1)B(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)H(r[l]);t=!1},d(s){s&&S(e),qe(r,s)}}}function mf(n){let e,t,i,r,o,s,l,a,c={card:!1,$$slots:{default:[ff]},$$scope:{ctx:n}};return o=new Gl({props:c}),n[26](o),{c(){e=k("div"),t=k("div"),i=k("input"),r=A(),le(o.$$.fragment),f(i,"type","search"),f(i,"class","itemSearch svelte-7w7wrp"),f(i,"placeholder","Search for a link"),f(t,"class","searchFilter svelte-7w7wrp"),f(e,"class","wrapper cgb-component svelte-7w7wrp")},m(d,u){D(d,e,u),v(e,t),v(t,i),n[19](i),v(e,r),ie(o,e,null),s=!0,l||(a=q(i,"input",n[20]),l=!0)},p(d,u){const m={};u[0]&7706|u[1]&128&&(m.$$scope={dirty:u,ctx:d}),o.$set(m)},i(d){s||(B(o.$$.fragment,d),s=!0)},o(d){H(o.$$.fragment,d),s=!1},d(d){d&&S(e),n[19](null),n[26](null),re(o),l=!1,a()}}}function hf(n,e,t){let i,r,o,s,l,a,c=z,d=()=>(c(),c=Be(T,U=>t(3,a=U)),T),u,m=z,p=()=>(m(),m=Be(o,U=>t(9,u=U)),o),h,_=z,y=()=>(_(),_=Be(l,U=>t(10,h=U)),l),g,b=z,w=()=>(b(),b=Be(s,U=>t(11,g=U)),s),I,C=z,L=()=>(C(),C=Be(r,U=>t(12,I=U)),r);n.$$.on_destroy.push(()=>c()),n.$$.on_destroy.push(()=>m()),n.$$.on_destroy.push(()=>_()),n.$$.on_destroy.push(()=>b()),n.$$.on_destroy.push(()=>C());let E=Object.values(Ei);const T=ct("cdb-contentsearch-linktype",void 0,{serializer:{stringify:U=>U||"",parse:U=>E.includes(U)?void 0:U},syncTabs:!1});d();let{filter:O=void 0}=e,M="",P;function F(U){return a===Ei.File&&O===ir.Images}const V=Re(),X=U=>{P!==void 0&&clearTimeout(P),P=window.setTimeout(()=>{U.length>2?t(1,M=U):t(1,M="")},200)};let R,N;function W(U){ce[U?"unshift":"push"](()=>{R=U,t(4,R)})}const Q=U=>X(U.currentTarget.value),G=U=>{U===a?_e(T,a=void 0,a):_e(T,a=U,a)},ae=U=>_e(s,g=U.detail.page,g),$=()=>{t(1,M=""),t(4,R.value="",R)};function Z(U){mn.call(this,n,U)}const ne=U=>{V("select",U)};function me(U){ce[U?"unshift":"push"](()=>{N=U,t(2,N)})}return n.$$set=U=>{"filter"in U&&t(17,O=U.filter)},n.$$.update=()=>{n.$$.dirty[0]&131082&&t(18,i=uu(a,M,O)),n.$$.dirty[0]&262144&&L(t(8,r=i.data)),n.$$.dirty[0]&262144&&p(t(7,o=i.total)),n.$$.dirty[0]&262144&&w(t(6,s=i.page)),n.$$.dirty[0]&262144&&y(t(5,l=i.perPage)),n.$$.dirty[0]&262148&&i.data.subscribe(()=>{N==null||N.update()})},[T,M,N,a,R,l,s,o,r,u,h,g,I,E,F,V,X,O,i,W,Q,G,ae,$,Z,ne,me]}class pf extends Ie{constructor(e){super(),ye(this,e,hf,mf,ve,{linkType:0,filter:17},null,[-1,-1])}get linkType(){return this.$$.ctx[0]}}function gf(n){let e,t;return e=new pf({}),e.$on("select",n[20]),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p:z,i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function bf(n){let e,t,i,r,o,s,l,a,c,d,u=n[1]!==void 0&&Xo(n);return{c(){e=k("form"),t=k("div"),i=k("label"),i.textContent="Link",r=A(),o=k("input"),s=A(),l=k("input"),a=A(),u&&u.c(),f(i,"for","link"),f(i,"class","svelte-12sq5ex"),f(o,"type","url"),f(o,"placeholder","e.g. "+document.location.toString()),f(o,"id","link"),f(o,"class","svelte-12sq5ex"),f(l,"type","submit"),l.hidden=!0,f(t,"class","form-group svelte-12sq5ex")},m(m,p){D(m,e,p),v(e,t),v(t,i),v(t,r),v(t,o),de(o,n[6]),n[16](o),v(t,s),v(t,l),v(e,a),u&&u.m(e,null),c||(d=[q(o,"input",n[15]),q(e,"submit",_t(fl(n[19])))],c=!0)},p(m,p){p&64&&o.value!==m[6]&&de(o,m[6]),m[1]!==void 0?u?u.p(m,p):(u=Xo(m),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i:z,o:z,d(m){m&&S(e),n[16](null),u&&u.d(),c=!1,pe(d)}}}function Xo(n){let e,t,i,r,o,s;return{c(){e=k("div"),t=k("label"),t.textContent="Label",i=A(),r=k("input"),f(t,"for","text"),f(t,"class","svelte-12sq5ex"),f(r,"type","text"),f(r,"id","text"),f(r,"class","svelte-12sq5ex"),f(e,"class","form-group svelte-12sq5ex")},m(l,a){D(l,e,a),v(e,t),v(e,i),v(e,r),de(r,n[5]),n[18](r),o||(s=q(r,"input",n[17]),o=!0)},p(l,a){a&32&&r.value!==l[5]&&de(r,l[5])},d(l){l&&S(e),n[18](null),o=!1,s()}}}function vf(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_;const y=[bf,gf],g=[];function b(w,I){return w[7]===w[4].External?0:1}return d=b(n),u=g[d]=y[d](n),{c(){e=k("div"),t=k("button"),i=Y("Course Links"),o=A(),s=k("button"),l=Y("External Links"),c=A(),u.c(),m=Pe(),f(t,"role","tab"),f(t,"aria-selected",r=n[7]===n[4].External),f(t,"class","tab svelte-12sq5ex"),K(t,"active",n[7]===n[4].Internal),f(s,"role","tab"),f(s,"aria-selected",a=n[7]===n[4].External),f(s,"class","tab svelte-12sq5ex"),K(s,"active",n[7]===n[4].External),f(e,"class","tabs-header svelte-12sq5ex"),f(e,"role","tablist")},m(w,I){D(w,e,I),v(e,t),v(t,i),v(e,o),v(e,s),v(s,l),D(w,c,I),g[d].m(w,I),D(w,m,I),p=!0,h||(_=[q(t,"click",n[13]),q(s,"click",n[14])],h=!0)},p(w,I){(!p||I&144&&r!==(r=w[7]===w[4].External))&&f(t,"aria-selected",r),(!p||I&144)&&K(t,"active",w[7]===w[4].Internal),(!p||I&144&&a!==(a=w[7]===w[4].External))&&f(s,"aria-selected",a),(!p||I&144)&&K(s,"active",w[7]===w[4].External);let C=d;d=b(w),d===C?g[d].p(w,I):(oe(),H(g[C],1,1,()=>{g[C]=null}),se(),u=g[d],u?u.p(w,I):(u=g[d]=y[d](w),u.c()),B(u,1),u.m(m.parentNode,m))},i(w){p||(B(u),p=!0)},o(w){H(u),p=!1},d(w){w&&(S(e),S(c),S(m)),g[d].d(w),h=!1,pe(_)}}}function Yo(n){let e,t,i;return{c(){e=k("button"),e.textContent="Save",f(e,"class","Button Button--success save")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[11]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function _f(n){let e,t,i,r,o,s=n[7]===n[4].External&&Yo(n);return{c(){e=k("div"),s&&s.c(),t=A(),i=k("button"),i.textContent="Cancel",f(i,"class","Button cancel"),f(e,"slot","actions")},m(l,a){D(l,e,a),s&&s.m(e,null),v(e,t),v(e,i),r||(o=q(i,"click",n[12]),r=!0)},p(l,a){l[7]===l[4].External?s?s.p(l,a):(s=Yo(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null)},d(l){l&&S(e),s&&s.d(),r=!1,o()}}}function wf(n){let e,t,i={title:"Edit Link",$$slots:{actions:[_f],default:[vf]},$$scope:{ctx:n}};return e=new xi({props:i}),n[21](e),{c(){le(e.$$.fragment)},m(r,o){ie(e,r,o),t=!0},p(r,[o]){const s={};o&8388863&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){n[21](null),re(e,r)}}}function kf(n,e,t){let i,r,o;const s=Re();let{link:l}=e,{text:a=void 0}=e;const c=["",void 0,"#"];let{dialog:d}=e,u,m;var p;(function(M){M.Internal="Course",M.External="External"})(p||(p={}));const h=ct("cdb-linktype-dialog",p.External);an(n,h,M=>t(7,o=M));const _=()=>{m.value.startsWith("#")||m.checkValidity()?(s("save",{link:i||"#",text:r}),d.close()):m.reportValidity()},y=()=>{d.close()},g=()=>{_e(h,o=p.Internal,o)},b=()=>{_e(h,o=p.External,o)};function w(){i=this.value,t(6,i),t(10,l)}function I(M){ce[M?"unshift":"push"](()=>{m=M,t(3,m)})}function C(){r=this.value,t(5,r),t(1,a)}function L(M){ce[M?"unshift":"push"](()=>{u=M,t(2,u)})}const E=()=>(m.value.startsWith("#")||m.checkValidity()?(s("save",{link:i||"#",text:r}),d.close()):m.reportValidity(),!1),T=({detail:M})=>{s("save",{link:M.url,text:M.name}),d.close()};function O(M){ce[M?"unshift":"push"](()=>{d=M,t(0,d)})}return n.$$set=M=>{"link"in M&&t(10,l=M.link),"text"in M&&t(1,a=M.text),"dialog"in M&&t(0,d=M.dialog)},n.$$.update=()=>{n.$$.dirty&1024&&t(6,i=c.some(M=>M===l)?void 0:l),n.$$.dirty&2&&t(5,r=a)},[d,a,u,m,p,r,i,o,s,h,l,_,y,g,b,w,I,C,L,E,T,O]}class yf extends Ie{constructor(e){super(),ye(this,e,kf,wf,ve,{link:10,text:1,dialog:0})}}function If(n){let e;return{c(){e=Y(n[0])},m(t,i){D(t,e,i)},p(t,i){i&1&&ge(e,t[0])},d(t){t&&S(e)}}}function Cf(n){let e;return{c(){e=k("span"),e.textContent="Insert Link...",f(e,"class","text-black text-opacity-50")},m(t,i){D(t,e,i)},p:z,d(t){t&&S(e)}}}function Lf(n){let e,t,i,r,o,s,l,a;function c(h,_){return _&1&&(t=null),t==null&&(t=!!h[4].includes(h[0])),t?Cf:If}let d=c(n,-1),u=d(n);function m(h){n[6](h)}let p={link:n[0],text:n[1]};return n[3]!==void 0&&(p.dialog=n[3]),r=new yf({props:p}),ce.push(()=>Me(r,"dialog",m)),r.$on("save",n[7]),{c(){e=k("button"),u.c(),i=A(),le(r.$$.fragment),f(e,"class","editLink svelte-efy9fg"),f(e,"id",n[2]),f(e,"title","Edit Link")},m(h,_){D(h,e,_),u.m(e,null),D(h,i,_),ie(r,h,_),s=!0,l||(a=q(e,"click",n[5]),l=!0)},p(h,[_]){d===(d=c(h,_))&&u?u.p(h,_):(u.d(1),u=d(h),u&&(u.c(),u.m(e,null))),(!s||_&4)&&f(e,"id",h[2]);const y={};_&1&&(y.link=h[0]),_&2&&(y.text=h[1]),!o&&_&8&&(o=!0,y.dialog=h[3],De(()=>o=!1)),r.$set(y)},i(h){s||(B(r.$$.fragment,h),s=!0)},o(h){H(r.$$.fragment,h),s=!1},d(h){h&&(S(e),S(i)),u.d(),re(r,h),l=!1,a()}}}function Bf(n,e,t){const i=["",void 0,"#"];let{link:r}=e,{text:o=void 0}=e,{id:s=void 0}=e,l;const a=()=>{l.open()};function c(u){l=u,t(3,l)}function d(u){mn.call(this,n,u)}return n.$$set=u=>{"link"in u&&t(0,r=u.link),"text"in u&&t(1,o=u.text),"id"in u&&t(2,s=u.id)},[r,o,s,l,i,a,c,d]}class ti extends Ie{constructor(e){super(),ye(this,e,Bf,Lf,ve,{link:0,text:1,id:2})}}function Ko(n){let e,t,i,r,o,s,l;function a(u,m){var p;return m&8&&(o=null),o==null&&(o=!!((p=u[3].textColor)!=null&&p.isLight())),o?Ef:Tf}let c=a(n,-1),d=c(n);return{c(){e=k("div"),t=k("p"),i=k("span"),i.textContent="Warning:",r=Y(` The text in this button may
            be hard to read for some students. `),d.c(),f(i,"class","font-bold"),f(t,"class","alert-details svelte-dpqo7o"),f(e,"class","colour-alert svelte-dpqo7o")},m(u,m){D(u,e,m),v(e,t),v(t,i),v(t,r),d.m(t,null),l=!0},p(u,m){c!==(c=a(u,m))&&(d.d(1),d=c(u),d&&(d.c(),d.m(t,null)))},i(u){l||(he(()=>{l&&(s||(s=Ce(e,He,{},!0)),s.run(1))}),l=!0)},o(u){s||(s=Ce(e,He,{},!1)),s.run(0),l=!1},d(u){u&&S(e),d.d(),u&&s&&s.end()}}}function Tf(n){let e;return{c(){e=Y(`Consider using a lighter colour to improve contrast against the
              dark text.`)},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function Ef(n){let e;return{c(){e=Y(`Consider using a darker colour to improve contrast against the
              light text.`)},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function Qo(n){let e,t,i,r,o;return{c(){e=k("label"),t=k("input"),i=Y(`
          Full Width`),f(t,"type","checkbox"),f(t,"id","fullWidth"),f(t,"class","svelte-dpqo7o"),f(e,"for","fullWidth"),f(e,"class","checkbox svelte-dpqo7o")},m(s,l){D(s,e,l),v(e,t),t.checked=n[3].fullWidth,v(e,i),r||(o=q(t,"change",n[22]),r=!0)},p(s,l){l&8&&(t.checked=s[3].fullWidth)},d(s){s&&S(e),r=!1,o()}}}function Sf(n){var Oe;let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C,L,E,T,O,M,P,F,V,X,R,N,W;function Q(x){n[14](x)}let G={title:"Button Size",choices:xl,labels:Object.keys(rr)};n[3].size!==void 0&&(G.value=n[3].size),s=new Lt({props:G}),ce.push(()=>Me(s,"value",Q)),p=new ti({props:{link:n[3].url,text:n[3].label}}),p.$on("save",n[17]);function ae(x){n[18](x)}let $={title:"Text Colour",choices:[te("#000"),te("#fff")],labels:["Dark","Light"],comparator:Df};n[3].textColor!==void 0&&($.value=n[3].textColor),g=new Lt({props:$}),ce.push(()=>Me(g,"value",ae));function Z(x){n[19](x)}let ne={label:"Button Colour",id:ke()+"-setting-background",contrastColour:((Oe=n[3])==null?void 0:Oe.textColor)||te("#ffffff"),showNone:!1,asModal:n[0]};n[3].color!==void 0&&(ne.colour=n[3].color),I=new Ht({props:ne}),ce.push(()=>Me(I,"colour",Z));let me=!n[5]&&Ko(n),U=n[7]&&Qo(n);return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="icon-end svelte-dpqo7o"></i>',i=A(),r=k("div"),o=k("div"),le(s.$$.fragment),a=A(),c=k("input"),d=A(),u=k("input"),m=A(),le(p.$$.fragment),h=A(),_=k("div"),y=k("div"),le(g.$$.fragment),w=A(),le(I.$$.fragment),L=A(),me&&me.c(),E=A(),T=k("button"),T.textContent="Select Icon",O=A(),M=k("label"),P=k("input"),F=Y(`
        Open in new tab`),V=A(),U&&U.c(),f(t,"class","close svelte-dpqo7o"),f(t,"title","Close"),f(c,"type","text"),f(c,"placeholder","Button Title..."),f(c,"class","svelte-dpqo7o"),f(u,"type","text"),f(u,"placeholder","Button Label..."),f(u,"class","svelte-dpqo7o"),f(o,"class","col svelte-dpqo7o"),f(T,"class","Button"),f(P,"type","checkbox"),f(P,"id","newTab"),f(P,"class","svelte-dpqo7o"),f(M,"for","newTab"),f(M,"class","checkbox svelte-dpqo7o"),f(_,"class","col svelte-dpqo7o"),f(r,"class","grid grid-flow-col grid-cols-2 gap-4"),f(e,"class","cgb-component svelte-dpqo7o")},m(x,j){D(x,e,j),v(e,t),v(e,i),v(e,r),v(r,o),ie(s,o,null),v(o,a),v(o,c),de(c,n[3].title),v(o,d),v(o,u),de(u,n[3].label),v(o,m),ie(p,o,null),v(r,h),v(r,_),v(_,y),ie(g,y,null),v(_,w),ie(I,_,null),v(_,L),me&&me.m(_,null),v(_,E),v(_,T),v(_,O),v(_,M),v(M,P),P.checked=n[8],v(M,F),v(_,V),U&&U.m(_,null),n[23](e),R=!0,N||(W=[q(t,"click",n[13]),q(c,"input",n[15]),q(u,"input",n[16]),q(T,"click",n[20]),q(P,"change",n[21])],N=!0)},p(x,[j]){var ut;const J={};!l&&j&8&&(l=!0,J.value=x[3].size,De(()=>l=!1)),s.$set(J),j&8&&c.value!==x[3].title&&de(c,x[3].title),j&8&&u.value!==x[3].label&&de(u,x[3].label);const Ae={};j&8&&(Ae.link=x[3].url),j&8&&(Ae.text=x[3].label),p.$set(Ae);const fe={};!b&&j&8&&(b=!0,fe.value=x[3].textColor,De(()=>b=!1)),g.$set(fe);const Te={};j&8&&(Te.contrastColour=((ut=x[3])==null?void 0:ut.textColor)||te("#ffffff")),j&1&&(Te.asModal=x[0]),!C&&j&8&&(C=!0,Te.colour=x[3].color,De(()=>C=!1)),I.$set(Te),x[5]?me&&(oe(),H(me,1,1,()=>{me=null}),se()):me?(me.p(x,j),j&32&&B(me,1)):(me=Ko(x),me.c(),B(me,1),me.m(_,E)),j&256&&(P.checked=x[8]),x[7]?U?U.p(x,j):(U=Qo(x),U.c(),U.m(_,null)):U&&(U.d(1),U=null)},i(x){R||(B(s.$$.fragment,x),B(p.$$.fragment,x),B(g.$$.fragment,x),B(I.$$.fragment,x),B(me),X||he(()=>{X=Xe(e,Se,{duration:200}),X.start()}),R=!0)},o(x){H(s.$$.fragment,x),H(p.$$.fragment,x),H(g.$$.fragment,x),H(I.$$.fragment,x),H(me),R=!1},d(x){x&&S(e),re(s),re(p),re(g),re(I),me&&me.d(),U&&U.d(),n[23](null),N=!1,pe(W)}}}const Df=(n,e)=>n.toHex()===e.toHex();function Mf(n,e,t){let i,r,o,s,l,a,c,d=z,u=()=>(d(),d=Be(r,R=>t(3,c=R)),r),m,p=z,h=()=>(p(),p=Be(s,R=>t(8,m=R)),s);n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>p());var _;let{props:y}=e,{isModal:g=!1}=e,b;const w=new $t({target:document.body,props:{options:{editColor:!1}}});w.$on("selectIcon",({detail:R})=>{w.close(),_e(r,c.icon={id:R.icon.i,type:R.type},c)}),Ue(()=>{w.$destroy()});const I=()=>{i.deselectAll()};function C(R){n.$$.not_equal(c.size,R)&&(c.size=R,r.set(c))}function L(){c.title=this.value,r.set(c)}function E(){c.label=this.value,r.set(c)}const T=({detail:R})=>{_e(r,c.url=R.link,c),_e(r,c.label=R.text||"",c)};function O(R){n.$$.not_equal(c.textColor,R)&&(c.textColor=R,r.set(c))}function M(R){n.$$.not_equal(c.color,R)&&(c.color=R,r.set(c))}const P=()=>{w.open()};function F(){m=this.checked,s.set(m)}function V(){c.fullWidth=this.checked,r.set(c)}function X(R){ce[R?"unshift":"push"](()=>{b=R,t(4,b)})}return n.$$set=R=>{"props"in R&&t(10,y=R.props),"isModal"in R&&t(0,g=R.isModal)},n.$$.update=()=>{n.$$.dirty&1024&&t(2,i=y.button),n.$$.dirty&4&&u(t(1,r=i.SvelteState)),n.$$.dirty&1024&&t(7,o=y.button.node.closest(".cgb-col:not(.col-lg-12)")!==null),n.$$.dirty&2&&h(t(6,s=ei(r,R=>R.target==="_blank",(R,N)=>(!R&&N.target==="_blank"&&(N.target="_self"),R&&N.target!=="_blank"&&(N.target="_blank"),N)))),n.$$.dirty&2056&&t(12,l=t(11,_=c.color)===null||_===void 0?void 0:_.contrast(c.textColor||te("#ffffff"))),n.$$.dirty&4096&&t(5,a=l===void 0||l&&l>=7)},[g,r,i,c,b,a,s,o,m,w,y,_,l,I,C,L,E,T,O,M,P,F,V,X]}class Af extends Ie{constructor(e){super(),ye(this,e,Mf,Sf,ve,{props:10,isModal:0})}}var $l=(n=>(n.Default="Button--default",n.Primary="Button--primary",n.Secondary="Button--secondary",n.Warning="Button--warning",n.Danger="Button--danger",n.Success="Button--success",n))($l||{});const Hf=Object.values($l),Pf="Button--default";var rr=(n=>(n.Mini="Button--mini",n.Small="Button--small",n.Default="",n.Large="Button--large",n))(rr||{});const xl=Object.values(rr),wn="",je=class je{constructor(e,t){var r,o;this.state=we(),this.set=this.state.set,this.update=this.state.update,this.subscribe=this.state.subscribe;let i={title:je.defaultState.title,label:je.defaultState.label,size:wn,url:je.defaultState.url,target:je.defaultState.target,color:je.defaultState.color,textColor:je.defaultState.textColor,fullWidth:je.defaultState.fullWidth,icon:void 0};if(e){let s;if("theme"in e)switch(Hf.includes(e.theme)?e.theme:Pf){case"Button--secondary":s=te(ze.secondary);break;case"Button--warning":s=te("#fc5e13");break;case"Button--danger":s=te("#e0061f");break;case"Button--success":s=te("#0b874b");break;default:s=te(ze.primary)}else s=e.color?te(e.color):je.defaultState.color;let l=xl.includes(e.size)?e.size:wn,a=Jt(e.icon);i={title:e.title||je.defaultState.title,label:e.label||je.defaultState.label,color:s,textColor:e.textColor?te(e.textColor):je.defaultState.textColor,size:l||wn,url:je.defaultState.url,target:e.target||je.defaultState.target,fullWidth:e.fullWidth||je.defaultState.fullWidth,icon:a},i.url=((r=t==null?void 0:t.querySelector("a"))==null?void 0:r.getAttribute("href"))||((o=t==null?void 0:t.querySelector("a"))==null?void 0:o.dataset.mceHref)||je.defaultState.url}this.state.set(i)}get stateString(){const e=ue(this.state),{url:t,color:i,textColor:r,...o}=e;return JSON.stringify({...o,color:i==null?void 0:i.toHex(),textColor:r==null?void 0:r.toHex()})}};je.defaultState={title:"",label:"Button Text",color:te(ze.primary),textColor:te("#fff"),size:wn,url:"#",target:"_self",icon:void 0,fullWidth:!1};let Di=je;class Of extends bt{constructor(e,t=window.tinymce.activeEditor,i,r,o=ke(),s=!1){super(t,i,r,Vd,Di,o,s),this.state=e,this.editor=t,this.manager=i,this.node=r,this.id=o,this.selectionMethod="clickTinyMCE",this.attributes=new Map([]),this.defaultClasses=new Set(["CDB--Button"]),this.popover=this.setupPopover(Af,{button:this},"top",{shift:{crossAxis:!0},autoPlacement:{allowedPlacements:["top","bottom"]},offset:15},{showArrow:!0}),this.isSelected.subscribe(l=>{l?!this.popover.isActive&&this.popover.show():this.popover.isActive&&this.popover.hide()}),this.SvelteState.subscribe(l=>{l.fullWidth?this.node.classList.add("fullWidth"):this.node.classList.remove("fullWidth")}),this.setupObserver()}static import(e,t,i,r){return new this(e,r,i,t)}static create(e,t,i,r,o){const s=this.createInsertNode(i,r);return new this(e,r,t,s)}}const Nf='#tinymce [data-cdb-version] i{line-height:1;display:inline-block}#tinymce [data-cdb-version] i:after{content:" ";vertical-align:top;-webkit-mask:var(--cdb-icon);-webkit-mask:var(--cdb-icon);mask:var(--cdb-icon);background-color:currentColor;background-position:50%;background-repeat:no-repeat;background-size:contain;width:1em;height:1em;line-height:1;display:inline-block;-webkit-mask-size:contain;mask-size:contain}img.cdb--custom-icon{vertical-align:middle;background-position:50%;background-repeat:no-repeat;background-size:contain;height:1em;line-height:1;display:inline-block}.cdb--icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:bottom;font-feature-settings:"liga" on;font-family:BlocksIcons;font-style:normal;text-decoration:none;display:inline-block}.cdb--icon.safeBackground{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 transparent);--tw-ring-opacity:1;--tw-ring-color:rgba(255,255,255,var(--tw-ring-opacity));border-radius:.25rem}:root .cdb--icon{text-align:left;min-width:1em;min-height:1em}_::-webkit-full-page-media{text-align:left;min-width:1em;min-height:1em}_:future{text-align:left;min-width:1em;min-height:1em}.DesignBlocks--Btn{--tw-bg-opacity:1;background-color:rgba(2,132,199,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));border-style:solid;border-width:1px;border-color:rgba(0,0,0,var(--tw-border-opacity));--tw-border-opacity:.4;box-sizing:border-box;border-radius:.25rem;justify-content:center;align-items:center;gap:.4em;padding:.75rem;font-size:1rem;line-height:1;transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter,backdrop-filter,-webkit-backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:inline-flex;position:relative;overflow:clip;text-decoration:none!important}.DesignBlocks--Btn:hover,.DesignBlocks--Btn:hover span{text-decoration:none!important}.DesignBlocks--Btn:before{z-index:0;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity:0;content:"";transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter,backdrop-filter,-webkit-backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);position:absolute;top:0;bottom:0;left:0;right:0}.DesignBlocks--Btn:hover:before{--tw-bg-opacity:.25}.DesignBlocks--Btn:hover{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));text-decoration:none}.DesignBlocks--Btn:focus{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.DesignBlocks--Btn *{z-index:0;position:relative}.DesignBlocks--Btn.Button--mini{padding:.375rem .625rem;font-size:.875rem;line-height:1.25rem}.DesignBlocks--Btn.Button--small{padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem}.DesignBlocks--Btn.Button--large{padding:.5rem 1rem;font-size:1.125rem;line-height:1.75rem}.DesignBlocks--Btn.Button--full{width:100%;display:flex}.DesignBlocks--Btn img.cdb--custom-icon{height:1.1em}.DesignBlocks--Btn .external_link_icon{display:none!important}.CDB--Button[data-cdb-version]{display:inline-block}.CDB--Button[data-cdb-version]:has(.Button--full){display:block}.CDB--Button.fullWidth[data-cdb-version]{display:block}';class zf extends Ot{constructor(e,t=window.tinymce.activeEditor){super(e,t,Nf),this.state=e,this.editor=t,this.elementClass=Of,this.selector=".CDB--Button[data-cdb-version]",this.elementName="Button",this.icon="Canvas.link",this.importAll()}}const Rf='.ImageCards[data-cdb-version] .ImageCards--row{flex-wrap:wrap;justify-content:flex-start;gap:1em;margin-top:1rem;margin-bottom:1rem;display:flex}.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--subtitle .ImageCard,.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--icon .ImageCard{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity))}.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--subtitle .ImageCard .ImageCardLabel,.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--icon .ImageCard .ImageCardLabel{background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-bg-opacity:1;padding:.5rem 1rem}.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--icon .ImageCardIcon{text-align:center;flex-grow:1;justify-content:center;align-items:center;font-size:4.5rem;line-height:1;display:flex;container-type:size}.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--icon .ImageCardIcon .icon,.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--icon .ImageCardIcon img.cdb--custom-icon{font-size:75cqh}:is(.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--icon .ImageCardIcon .icon,.ImageCards[data-cdb-version] .ImageCards--row.imageCardTheme--icon .ImageCardIcon img.cdb--custom-icon) i[class^=icon-]:before{font-size:1em}.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--large{justify-content:center!important}.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--large .ImageCard{flex-grow:1;width:14rem;max-width:24rem;height:13rem}.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-3,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-4,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5{display:grid!important}.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-3 .ImageCard,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-4 .ImageCard,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5 .ImageCard{aspect-ratio:4/3;width:100%;height:auto;min-height:8rem}.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-4{grid-template-columns:repeat(4,minmax(0,1fr))}.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5{grid-template-columns:repeat(5,minmax(0,1fr))}@container (width<640px){.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (max-width:640px){.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-3,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-4,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (max-width:400px){.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-3,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-4,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5{grid-template-columns:repeat(2,minmax(0,1fr))}}@container (width<300px){.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-3,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-4,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5{grid-template-columns:repeat(1,minmax(0,1fr))}}@media (max-width:325px){.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-3,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-4,.ImageCards[data-cdb-version] .ImageCards--row.imageCardSize--grid-5{grid-template-columns:repeat(1,minmax(0,1fr))}}.ImageCards[data-cdb-version] .ImageCards--row .ImageCard{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1),0 0px 4px -2px rgba(0,0,0,.31);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color),0 0px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);--tw-bg-opacity:1;background-color:rgba(71,85,105,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));border-radius:.5rem;flex-direction:column;justify-content:flex-end;align-items:stretch;width:150px;height:8rem;transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter,backdrop-filter,-webkit-backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:flex;overflow:hidden;container:ImageCard;text-decoration:none!important}.ImageCards[data-cdb-version] .ImageCards--row .ImageCard[data-mce-selected=cbe]{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 transparent);--tw-ring-opacity:1;--tw-ring-color:rgba(2,132,199,var(--tw-ring-opacity))}.ImageCards[data-cdb-version] .ImageCards--row .ImageCard:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.ImageCards[data-cdb-version] .ImageCards--row .ImageCard .ImageCardImage{z-index:0;-o-object-fit:cover;object-fit:cover;width:100%;height:100%;position:absolute;top:0;bottom:0;left:0;right:0}.ImageCards[data-cdb-version] .ImageCards--row .ImageCard .ImageCardLabel{z-index:10;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity:.5;text-wrap:balance;overflow-wrap:break-word;flex-grow:0;padding:.25rem .5rem;font-size:.875rem;line-height:1.25rem;position:relative}.ImageCards[data-cdb-version] .ImageCards--row .ImageCard .external_link_icon{display:none!important}.ImageCards[data-cdb-version] .ImageCards--row .ImageCard>span:has(.ImageCardLabel){display:contents}.ImageCardRow[data-cdb-version]{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));border-radius:.25rem;width:100%;height:3rem;margin:.5rem;position:relative}.ImageCardRow[data-cdb-version]:after{text-align:center;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));content:"Please edit the page to migrate this content.";justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;top:0;bottom:0;left:0;right:0}.ImageCardRow[data-cdb-version] .ImageCard{display:none}';function Zo(n,e,t){const i=n.slice();i[8]=e[t],i[11]=t;const r=i[8].label.split(`
`);return i[9]=r,i}function Jo(n,e,t){const i=n.slice();return i[12]=e[t],i[11]=t,i}function qf(n){let e,t;return{c(){e=k("img"),f(e,"class","ImageCardImage"),xe(e.src,t=n[8].image)||f(e,"src",t),f(e,"alt",""),f(e,"role","presentation")},m(i,r){D(i,e,r)},p(i,r){r&1&&!xe(e.src,t=i[8].image)&&f(e,"src",t)},i:z,o:z,d(i){i&&S(e)}}}function jf(n){let e,t,i=n[8].icon&&$o(n);return{c(){e=k("span"),i&&i.c(),f(e,"class","ImageCardIcon")},m(r,o){D(r,e,o),i&&i.m(e,null),t=!0},p(r,o){r[8].icon?i?(i.p(r,o),o&1&&B(i,1)):(i=$o(r),i.c(),B(i,1),i.m(e,null)):i&&(oe(),H(i,1,1,()=>{i=null}),se())},i(r){t||(B(i),t=!0)},o(r){H(i),t=!1},d(r){r&&S(e),i&&i.d()}}}function $o(n){let e,t;return e=new et({props:{icon:n[8].icon}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.icon=i[8].icon),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function xo(n){let e;return{c(){e=k("br")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function es(n){let e,t=n[12]+"",i,r,o,s=n[11]<n[9].length-1&&xo();return{c(){e=k("span"),i=Y(t),r=A(),s&&s.c(),o=Pe(),f(e,"class","ImageCardLabelLine")},m(l,a){D(l,e,a),v(e,i),D(l,r,a),s&&s.m(l,a),D(l,o,a)},p(l,a){a&1&&t!==(t=l[12]+"")&&ge(i,t),l[11]<l[9].length-1?s||(s=xo(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(l){l&&(S(e),S(r),S(o)),s&&s.d(l)}}}function ts(n){let e,t,i,r,o,s,l,a,c,d,u,m;const p=[jf,qf],h=[];function _(I,C){return I[0].theme===xt.Icon?0:I[8].image?1:-1}~(t=_(n))&&(i=h[t]=p[t](n));let y=be(n[9]),g=[];for(let I=0;I<y.length;I+=1)g[I]=es(Jo(n,y,I));function b(){return n[6](n[8])}function w(...I){return n[7](n[8],...I)}return{c(){e=k("a"),i&&i.c(),r=A(),o=k("span");for(let I=0;I<g.length;I+=1)g[I].c();s=A(),f(o,"class","ImageCardLabel"),f(e,"href",l=n[8].link),f(e,"class","ImageCard"),f(e,"data-cdb-id",a=n[8].id),f(e,"data-mce-selected",c=n[2].selectedCard==n[8].id&&n[3]?"cbe":void 0)},m(I,C){D(I,e,C),~t&&h[t].m(e,null),v(e,r),v(e,o);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(o,null);v(e,s),d=!0,u||(m=[q(e,"pointerdown",b),q(e,"keydown",w)],u=!0)},p(I,C){n=I;let L=t;if(t=_(n),t===L?~t&&h[t].p(n,C):(i&&(oe(),H(h[L],1,1,()=>{h[L]=null}),se()),~t?(i=h[t],i?i.p(n,C):(i=h[t]=p[t](n),i.c()),B(i,1),i.m(e,r)):i=null),C&1){y=be(n[9]);let E;for(E=0;E<y.length;E+=1){const T=Jo(n,y,E);g[E]?g[E].p(T,C):(g[E]=es(T),g[E].c(),g[E].m(o,null))}for(;E<g.length;E+=1)g[E].d(1);g.length=y.length}(!d||C&1&&l!==(l=n[8].link))&&f(e,"href",l),(!d||C&1&&a!==(a=n[8].id))&&f(e,"data-cdb-id",a),(!d||C&13&&c!==(c=n[2].selectedCard==n[8].id&&n[3]?"cbe":void 0))&&f(e,"data-mce-selected",c)},i(I){d||(B(i),d=!0)},o(I){H(i),d=!1},d(I){I&&S(e),~t&&h[t].d(),qe(g,I),u=!1,pe(m)}}}function Ff(n){let e,t,i,r=be(n[0].cards),o=[];for(let l=0;l<r.length;l+=1)o[l]=ts(Zo(n,r,l));const s=l=>H(o[l],1,1,()=>{o[l]=null});return{c(){e=k("div");for(let l=0;l<o.length;l+=1)o[l].c();f(e,"class",t="ImageCards--row "+n[0].theme+" "+n[0].size)},m(l,a){D(l,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);i=!0},p(l,[a]){if(a&31){r=be(l[0].cards);let c;for(c=0;c<r.length;c+=1){const d=Zo(l,r,c);o[c]?(o[c].p(d,a),B(o[c],1)):(o[c]=ts(d),o[c].c(),B(o[c],1),o[c].m(e,null))}for(oe(),c=r.length;c<o.length;c+=1)s(c);se()}(!i||a&1&&t!==(t="ImageCards--row "+l[0].theme+" "+l[0].size))&&f(e,"class",t)},i(l){if(!i){for(let a=0;a<r.length;a+=1)B(o[a]);i=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)H(o[a]);i=!1},d(l){l&&S(e),qe(o,l)}}}function Vf(n,e,t){let i,r,o=z,s=()=>(o(),o=Be(c,p=>t(2,r=p)),c);n.$$.on_destroy.push(()=>o());const l=Re();let{cdbData:a}=e,{localState:c}=e;s();let{destroyHandler:d}=e;Ue(()=>{d()});const u=p=>{c.update(h=>({...h,selectedCard:p.id}))},m=(p,h)=>{h.key==="Enter"&&(h.stopPropagation(),l("toolbar",!0),c.update(_=>({..._,selectedCard:p.id})))};return n.$$set=p=>{"cdbData"in p&&t(0,a=p.cdbData),"localState"in p&&s(t(1,c=p.localState)),"destroyHandler"in p&&t(5,d=p.destroyHandler)},n.$$.update=()=>{n.$$.dirty&4&&t(3,i=r.isSelected)},[a,c,r,i,l,d,u,m]}class Uf extends Ie{constructor(e){super(),ye(this,e,Vf,Ff,ve,{cdbData:0,localState:1,destroyHandler:5})}}function ns(n,e,t){const i=n.slice();return i[24]=e[t],i}function Wf(n){let e,t,i,r,o=n[27].message+"",s;return{c(){e=k("div"),t=k("strong"),t.textContent="An error occured",i=A(),r=k("p"),s=Y(o),f(r,"class","svelte-9nivld"),f(e,"class","status-msg svelte-9nivld")},m(l,a){D(l,e,a),v(e,t),v(e,i),v(e,r),v(r,s)},p(l,a){a&32&&o!==(o=l[27].message+"")&&ge(s,o)},i:z,o:z,d(l){l&&S(e)}}}function Gf(n){let e;function t(o,s){return o[23].length===0?Yf:Xf}let i=t(n),r=i(n);return{c(){r.c(),e=Pe()},m(o,s){r.m(o,s),D(o,e,s)},p(o,s){i===(i=t(o))&&r?r.p(o,s):(r.d(1),r=i(o),r&&(r.c(),B(r,1),r.m(e.parentNode,e)))},i(o){B(r)},o:z,d(o){o&&S(e),r.d(o)}}}function Xf(n){let e,t=be(n[23]),i=[];for(let r=0;r<t.length;r+=1)i[r]=is(ns(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Pe()},m(r,o){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,o);D(r,e,o)},p(r,o){if(o&12320){t=be(r[23]);let s;for(s=0;s<t.length;s+=1){const l=ns(r,t,s);i[s]?(i[s].p(l,o),B(i[s],1)):(i[s]=is(l),i[s].c(),B(i[s],1),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i(r){for(let o=0;o<t.length;o+=1)B(i[o])},o:z,d(r){r&&S(e),qe(i,r)}}}function Yf(n){let e,t,i,r,o,s;return{c(){e=k("div"),t=k("p"),t.textContent="No results found",i=A(),r=k("button"),r.textContent="Clear Search",f(t,"class","svelte-9nivld"),f(r,"class","tox-button tox-button--secondary"),f(e,"class","status-msg svelte-9nivld")},m(l,a){D(l,e,a),v(e,t),v(e,i),v(e,r),o||(s=q(r,"click",n[16]),o=!0)},p:z,i:z,o:z,d(l){l&&S(e),o=!1,s()}}}function is(n){let e,t,i,r,o,s,l,a,c=n[13](n[24].display_name,20)+"",d,u,m,p=Wn(n[24].size)+"",h,_,y,g=new Date(n[24].created_at).toLocaleDateString()+"",b,w,I,C,L;function E(){return n[17](n[24])}return{c(){e=k("div"),t=k("button"),i=k("img"),s=A(),l=k("div"),a=k("div"),d=Y(c),u=A(),m=k("div"),h=Y(p),_=A(),y=k("div"),b=Y(g),w=A(),xe(i.src,r=n[24].thumbnail_url)||f(i,"src",r),f(i,"alt",o=n[24].display_name),f(i,"class","svelte-9nivld"),f(t,"class","imageChoice svelte-9nivld"),f(a,"class","filename svelte-9nivld"),f(m,"class","filesize svelte-9nivld"),f(y,"class","date-created"),f(l,"class","caption svelte-9nivld"),f(e,"class","imageResult svelte-9nivld")},m(T,O){D(T,e,O),v(e,t),v(t,i),v(e,s),v(e,l),v(l,a),v(a,d),v(l,u),v(l,m),v(m,h),v(l,_),v(l,y),v(y,b),v(e,w),C||(L=q(t,"click",E),C=!0)},p(T,O){n=T,O&32&&!xe(i.src,r=n[24].thumbnail_url)&&f(i,"src",r),O&32&&o!==(o=n[24].display_name)&&f(i,"alt",o),O&32&&c!==(c=n[13](n[24].display_name,20)+"")&&ge(d,c),O&32&&p!==(p=Wn(n[24].size)+"")&&ge(h,p),O&32&&g!==(g=new Date(n[24].created_at).toLocaleDateString()+"")&&ge(b,g)},i(T){I||he(()=>{I=Xe(e,Se,{}),I.start()})},o:z,d(T){T&&S(e),C=!1,L()}}}function Kf(n){let e;return{c(){e=k("div"),e.innerHTML='<p class="svelte-9nivld">Loading...</p>',f(e,"class","status-msg svelte-9nivld")},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function Qf(n){return{c:z,m:z,p:z,i:z,o:z,d:z}}function Zf(n){let e,t,i=n[22]&&n[7]&&rs(n);return{c(){i&&i.c(),e=Pe()},m(r,o){i&&i.m(r,o),D(r,e,o),t=!0},p(r,o){r[22]&&r[7]?i?(i.p(r,o),o&192&&B(i,1)):(i=rs(r),i.c(),B(i,1),i.m(e.parentNode,e)):i&&(oe(),H(i,1,1,()=>{i=null}),se())},i(r){t||(B(i),t=!0)},o(r){H(i),t=!1},d(r){r&&S(e),i&&i.d(r)}}}function rs(n){let e,t;return e=new xu({props:{totalItems:n[22],pageSize:n[7],currentPage:n[8],limit:1,showStepOptions:!0}}),e.$on("setPage",n[18]),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&64&&(o.totalItems=i[22]),r&128&&(o.pageSize=i[7]),r&256&&(o.currentPage=i[8]),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function Jf(n){return{c:z,m:z,p:z,i:z,o:z,d:z}}function $f(n){let e,t,i,r,o,s,l,a,c,d,u={ctx:n,current:null,token:null,hasCatch:!0,pending:Kf,then:Gf,catch:Wf,value:23,error:27};st(o=n[5],u);let m={ctx:n,current:null,token:null,hasCatch:!1,pending:Jf,then:Zf,catch:Qf,value:22,blocks:[,,,]};return st(l=n[6],m),{c(){e=k("div"),t=k("input"),i=A(),r=k("div"),u.block.c(),s=A(),m.block.c(),f(t,"type","search"),f(t,"class","imageSearch svelte-9nivld"),f(t,"placeholder","Search for an image"),f(r,"class","imageResults svelte-9nivld"),f(e,"class","wrapper cgb-component svelte-9nivld")},m(p,h){D(p,e,h),v(e,t),n[14](t),v(e,i),v(e,r),u.block.m(r,u.anchor=null),u.mount=()=>r,u.anchor=null,v(e,s),m.block.m(e,m.anchor=null),m.mount=()=>e,m.anchor=null,a=!0,c||(d=q(t,"input",n[15]),c=!0)},p(p,[h]){n=p,u.ctx=n,h&32&&o!==(o=n[5])&&st(o,u)||Xt(u,n,h),m.ctx=n,h&64&&l!==(l=n[6])&&st(l,m)||Xt(m,n,h)},i(p){a||(B(u.block),B(m.block),a=!0)},o(p){for(let h=0;h<3;h+=1){const _=m.blocks[h];H(_)}a=!1},d(p){p&&S(e),n[14](null),u.block.d(),u.token=null,u=null,m.block.d(),m.token=null,m=null,c=!1,d()}}}function xf(n,e,t){let i,r,o,s,l,a,c=z,d=()=>(c(),c=Be(i,R=>t(6,a=R)),i),u,m=z,p=()=>(m(),m=Be(o,R=>t(7,u=R)),o),h,_=z,y=()=>(_(),_=Be(r,R=>t(8,h=R)),r);n.$$.on_destroy.push(()=>c()),n.$$.on_destroy.push(()=>m()),n.$$.on_destroy.push(()=>_());let g;const b=R=>{g!==void 0&&clearTimeout(g),g=window.setTimeout(()=>{R.length>2?_e(C,s=R,s):_e(C,s="",s)},200)},I=window.location.hostname==="localhost"?iu:new Kl("",ir.Images);let C=I.query;an(n,C,R=>t(4,s=R));let L=I.data;an(n,L,R=>t(5,l=R));const E=Re();let T;const O=(R,N)=>R.length>N?R.substr(0,N-1)+"...":R;function M(R){ce[R?"unshift":"push"](()=>{T=R,t(0,T)})}const P=R=>b(R.currentTarget.value),F=()=>{_e(C,s="",s),t(0,T.value="",T)},V=R=>E("selectImage",R.image),X=R=>_e(r,h=R.detail.page,h);return d(t(3,i=I.total)),y(t(2,r=I.page)),p(t(1,o=I.perPage)),[T,o,r,i,s,l,a,u,h,b,C,L,E,O,M,P,F,V,X]}class or extends Ie{constructor(e){super(),ye(this,e,xf,$f,ve,{})}}class sr{constructor(e,t,i,r,o=void 0){this.component=e,this.editor=t,this.props=r,this.selectParent=o,this.id=ke(),this.submitHandlers=[],this.actionHandlers=[],this.options={...i,body:{type:"panel",items:[{type:"htmlpanel",html:`<div id="svelte-modal-dialog-${this.id}"></div>`}]},onSubmit:s=>{var l,a;(l=this.selectParent)==null||l.deselect("modal"),this.submitHandlers.forEach(c=>c(this)),(a=i.onSubmit)==null||a.call(i,s)},onAction:(s,l)=>{var a,c;(a=this.selectParent)==null||a.deselect("modal"),this.actionHandlers.forEach(d=>d(this)),(c=i.onAction)==null||c.call(i,s,l)}}}open(){var t;(t=this.selectParent)==null||t.select("modal"),this.openDialog=this.editor.windowManager.open(this.options);const e=document.getElementById(`svelte-modal-dialog-${this.id}`);if(!e)throw new Error("Could not find target element");return this.componentInstance=new this.component({target:e,props:this.props}),this.componentInstance}close(){var e,t,i;(e=this.selectParent)==null||e.deselect("modal"),(t=this.componentInstance)==null||t.$destroy(),(i=this.openDialog)==null||i.close()}onSubmit(e){this.submitHandlers.push(e)}onAction(e){this.actionHandlers.push(e)}}const em="modulepreload",tm=function(n){return"/"+n},os={},nm=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link");r=Promise.all(t.map(s=>{if(s=tm(s),s in os)return;os[s]=!0;const l=s.endsWith(".css"),a=l?'[rel="stylesheet"]':"";if(!!i)for(let u=o.length-1;u>=0;u--){const m=o[u];if(m.href===s&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":em,l||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),l)return new Promise((u,m)=>{d.addEventListener("load",u),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}return r.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},im=nm(()=>import("./sortable.esm-j4b3RH8u.js"),__vite__mapDeps([]));function ss(n,e,t){const i=n.slice();return i[20]=e[t],i[22]=t,i}function ls(n,e,t){const i=n.slice();return i[23]=e[t],i}function as(n){let e=[],t=new Map,i,r=be(n[0]);const o=s=>s[20][s[2]];for(let s=0;s<r.length;s+=1){let l=ss(n,r,s),a=o(l);t.set(a,e[s]=ms(a,l))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();i=Pe()},m(s,l){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,l);D(s,i,l)},p(s,l){l&7167&&(r=be(s[0]),e=Ui(e,l,o,1,s,r,t,i.parentNode,Vi,ms,i,ss))},d(s){s&&S(i);for(let l=0;l<e.length;l+=1)e[l].d(s)}}}function cs(n){let e;return{c(){e=k("div"),e.innerHTML='<i class="icon-solid icon-drag-handle"></i>',f(e,"class","dragHandle svelte-1d5xj3s")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function rm(n){let e,t=n[20][n[1]]+"",i;return{c(){e=k("div"),i=Y(t),f(e,"class","itemlabel svelte-1d5xj3s")},m(r,o){D(r,e,o),v(e,i)},p(r,o){o&3&&t!==(t=r[20][r[1]]+"")&&ge(i,t)},d(r){r&&S(e)}}}function om(n){let e,t=n[20][n[1]]+"",i,r,o;function s(){return n[13](n[20])}return{c(){e=k("button"),i=Y(t),f(e,"class","itemlabel svelte-1d5xj3s"),f(e,"tabindex","-1")},m(l,a){D(l,e,a),v(e,i),r||(o=q(e,"click",_t(s)),r=!0)},p(l,a){n=l,a&3&&t!==(t=n[20][n[1]]+"")&&ge(i,t)},d(l){l&&S(e),r=!1,o()}}}function ds(n){let e,t,i,r,o;function s(){return n[14](n[20])}return{c(){e=k("button"),t=k("i"),f(t,"class","icon-edit"),K(t,"icon-Solid",n[9]!==void 0&&n[20][n[2]]===n[9]),f(e,"title",i="Edit "+n[20][n[1]])},m(l,a){D(l,e,a),v(e,t),r||(o=q(e,"click",_t(s)),r=!0)},p(l,a){n=l,a&517&&K(t,"icon-Solid",n[9]!==void 0&&n[20][n[2]]===n[9]),a&3&&i!==(i="Edit "+n[20][n[1]])&&f(e,"title",i)},d(l){l&&S(e),r=!1,o()}}}function us(n){let e,t,i,r,o,s;function l(){return n[15](n[23],n[20])}return{c(){e=k("button"),t=k("i"),f(t,"class",i=fr(n[23].icon)+" svelte-1d5xj3s"),f(e,"title",r=n[23].title)},m(a,c){D(a,e,c),v(e,t),o||(s=q(e,"click",_t(l)),o=!0)},p(a,c){n=a,c&129&&i!==(i=fr(n[23].icon)+" svelte-1d5xj3s")&&f(t,"class",i),c&129&&r!==(r=n[23].title)&&f(e,"title",r)},d(a){a&&S(e),o=!1,s()}}}function fs(n){let e,t,i,r,o;function s(){return n[16](n[20])}return{c(){e=k("button"),t=k("i"),f(t,"class","icon-trash"),f(e,"title",i="Delete "+n[20][n[1]])},m(l,a){D(l,e,a),v(e,t),r||(o=q(e,"click",s),r=!0)},p(l,a){n=l,a&3&&i!==(i="Delete "+n[20][n[1]])&&f(e,"title",i)},d(l){l&&S(e),r=!1,o()}}}function ms(n,e){let t,i,r,o,s,l,a,c,d=e[5]&&cs();function u(b,w){return b[3]?om:rm}let m=u(e),p=m(e),h=e[3]&&ds(e),_=be(e[7](e[20])),y=[];for(let b=0;b<_.length;b+=1)y[b]=us(ls(e,_,b));let g=e[4]&&fs(e);return{key:n,first:null,c(){t=k("div"),d&&d.c(),i=A(),p.c(),r=A(),o=k("div"),h&&h.c(),s=A();for(let b=0;b<y.length;b+=1)y[b].c();l=A(),g&&g.c(),a=A(),f(o,"class","actions svelte-1d5xj3s"),f(t,"class",c="item "+(e[9]!==void 0&&e[20][e[2]]===e[9]?e[8]:"")+" svelte-1d5xj3s"),K(t,"active",e[9]!==void 0&&e[20][e[2]]===e[9]),this.first=t},m(b,w){D(b,t,w),d&&d.m(t,null),v(t,i),p.m(t,null),v(t,r),v(t,o),h&&h.m(o,null),v(o,s);for(let I=0;I<y.length;I+=1)y[I]&&y[I].m(o,null);v(o,l),g&&g.m(o,null),v(t,a)},p(b,w){if(e=b,e[5]?d||(d=cs(),d.c(),d.m(t,i)):d&&(d.d(1),d=null),m===(m=u(e))&&p?p.p(e,w):(p.d(1),p=m(e),p&&(p.c(),p.m(t,r))),e[3]?h?h.p(e,w):(h=ds(e),h.c(),h.m(o,s)):h&&(h.d(1),h=null),w&2181){_=be(e[7](e[20]));let I;for(I=0;I<_.length;I+=1){const C=ls(e,_,I);y[I]?y[I].p(C,w):(y[I]=us(C),y[I].c(),y[I].m(o,l))}for(;I<y.length;I+=1)y[I].d(1);y.length=_.length}e[4]?g?g.p(e,w):(g=fs(e),g.c(),g.m(o,null)):g&&(g.d(1),g=null),w&773&&c!==(c="item "+(e[9]!==void 0&&e[20][e[2]]===e[9]?e[8]:"")+" svelte-1d5xj3s")&&f(t,"class",c),w&773&&K(t,"active",e[9]!==void 0&&e[20][e[2]]===e[9])},d(b){b&&S(t),d&&d.d(),p.d(),h&&h.d(),qe(y,b),g&&g.d()}}}function sm(n){let e,t=n[0]&&as(n);return{c(){e=k("div"),t&&t.c(),f(e,"class","itemList svelte-1d5xj3s"),K(e,"emptyitemList",n[0].length===0)},m(i,r){D(i,e,r),t&&t.m(e,null),n[17](e)},p(i,[r]){i[0]?t?t.p(i,r):(t=as(i),t.c(),t.m(e,null)):t&&(t.d(1),t=null),r&1&&K(e,"emptyitemList",i[0].length===0)},i:z,o:z,d(i){i&&S(e),t&&t.d(),n[17](null)}}}function lm(n,e,t){let{labelKey:i}=e,{idKey:r}=e,{items:o}=e,{showEdit:s=!1}=e,{canDelete:l=!0}=e,{canReorder:a=!0}=e,{canDeselect:c=!1}=e,{actions:d=()=>[]}=e,{activeClass:u="active"}=e,{activeId:m=void 0}=e,p;const h=Re(),_=L=>{t(0,o=o.filter(E=>E!==L)),h("update"),h("delete",L[r])},y=L=>{const{oldIndex:E,newIndex:T}=L||{};if(E!==void 0&&T!==void 0){const O=[...o],M=O.splice(E,1)[0];O.splice(T,0,M),t(0,o=[...O])}},g=L=>{c&&m===L[r]?h("edit",void 0):h("edit",L[r])},b=L=>{h("edit",L[r])},w=(L,E)=>{typeof L.event=="function"?L.event():h(L.event,E[r])},I=L=>{_(L)};function C(L){ce[L?"unshift":"push"](()=>{p=L,t(10,p)})}return n.$$set=L=>{"labelKey"in L&&t(1,i=L.labelKey),"idKey"in L&&t(2,r=L.idKey),"items"in L&&t(0,o=L.items),"showEdit"in L&&t(3,s=L.showEdit),"canDelete"in L&&t(4,l=L.canDelete),"canReorder"in L&&t(5,a=L.canReorder),"canDeselect"in L&&t(6,c=L.canDeselect),"actions"in L&&t(7,d=L.actions),"activeClass"in L&&t(8,u=L.activeClass),"activeId"in L&&t(9,m=L.activeId)},n.$$.update=()=>{n.$$.dirty&1056&&a&&p&&im.then(L=>{new L.default(p,{animation:200,handle:".dragHandle",onEnd:E=>{y(E)}})})},[o,i,r,s,l,a,c,d,u,m,p,h,_,g,b,w,I,C]}class ni extends Ie{constructor(e){super(),ye(this,e,lm,sm,ve,{labelKey:1,idKey:2,items:0,showEdit:3,canDelete:4,canReorder:5,canDeselect:6,actions:7,activeClass:8,activeId:9})}}function am(n){let e,t,i,r,o,s;return{c(){e=k("div"),t=k("p"),t.textContent=`Select a card to edit its settings. You can add a new card by clicking
          the "Add Card" button.`,i=A(),r=k("button"),r.innerHTML=`<i class="icon-plus" aria-hidden="true"></i>
          Add Card`,f(t,"class","max-w-sm italic"),f(r,"class","Button"),f(e,"class","config cardSettings svelte-1w5mzks")},m(l,a){D(l,e,a),v(e,t),v(e,i),v(e,r),o||(s=q(r,"click",n[28]),o=!0)},p:z,i:z,o:z,d(l){l&&S(e),o=!1,s()}}}function cm(n){let e=n[5].selectedCard,t,i,r=hs(n);return{c(){r.c(),t=Pe()},m(o,s){r.m(o,s),D(o,t,s),i=!0},p(o,s){s[0]&32&&ve(e,e=o[5].selectedCard)?(oe(),H(r,1,1,z),se(),r=hs(o),r.c(),B(r,1),r.m(t.parentNode,t)):r.p(o,s)},i(o){i||(B(r),i=!0)},o(o){H(r),i=!1},d(o){o&&S(t),r.d(o)}}}function dm(n){let e,t,i;return{c(){e=k("button"),e.textContent="Select Image",f(e,"class","Button Button--block")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[27]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function um(n){let e,t,i;return{c(){e=k("button"),e.textContent="Select Icon",f(e,"class","Button Button--block")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[26]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function hs(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C;_=new ti({props:{link:n[4].cards[n[2]].link}}),_.$on("save",n[25]);function L(O,M){return O[4].theme===xt.Icon?um:dm}let E=L(n),T=E(n);return{c(){e=k("div"),t=k("div"),i=k("div"),r=k("label"),o=Y("Card Label:"),l=A(),a=k("textarea"),d=A(),u=k("div"),m=k("div"),p=k("p"),p.textContent="Card Link (URL):",h=A(),le(_.$$.fragment),y=A(),T.c(),f(r,"for",s=`${n[3].id}-text`),f(a,"class","cardName svelte-1w5mzks"),f(a,"id",c=`${n[3].id}-text`),f(a,"rows","3"),f(a,"maxlength","100"),f(i,"class","grow"),f(p,"class","block text-sm my-0 mb-1"),f(m,"class","form-group"),f(u,"class","grow"),f(t,"class","flex gap-x-2 items-baseline"),f(e,"class","cardSettings svelte-1w5mzks")},m(O,M){D(O,e,M),v(e,t),v(t,i),v(i,r),v(r,o),v(i,l),v(i,a),de(a,n[4].cards[n[2]].label),v(t,d),v(t,u),v(u,m),v(m,p),v(m,h),ie(_,m,null),v(u,y),T.m(u,null),w=!0,I||(C=q(a,"input",n[24]),I=!0)},p(O,M){(!w||M[0]&8&&s!==(s=`${O[3].id}-text`))&&f(r,"for",s),(!w||M[0]&8&&c!==(c=`${O[3].id}-text`))&&f(a,"id",c),M[0]&20&&de(a,O[4].cards[O[2]].label);const P={};M[0]&20&&(P.link=O[4].cards[O[2]].link),_.$set(P),E===(E=L(O))&&T?T.p(O,M):(T.d(1),T=E(O),T&&(T.c(),T.m(u,null)))},i(O){w||(B(_.$$.fragment,O),O&&he(()=>{w&&(b&&b.end(1),g=Xe(e,Se,{duration:300,delay:100}),g.start())}),w=!0)},o(O){H(_.$$.fragment,O),g&&g.invalidate(),O&&(b=Zn(e,Se,{duration:150})),w=!1},d(O){O&&S(e),re(_),T.d(),O&&b&&b.end(),I=!1,C()}}}function fm(n){var Q;let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C,L,E,T;function O(G){n[16](G)}let M={title:"Row Theme",choices:lr,labels:Object.keys(xt)};n[4].theme!==void 0&&(M.value=n[4].theme),o=new Lt({props:M}),ce.push(()=>Me(o,"value",O)),o.$on("change",n[17]);function P(G){n[18](G)}let F={title:"Row Size",choices:ar,labels:Object.keys(ii)};n[4].size!==void 0&&(F.value=n[4].size),a=new Lt({props:F}),ce.push(()=>Me(a,"value",P)),a.$on("change",n[19]);function V(G){n[20](G)}let X={labelKey:"label",idKey:"id",showEdit:!0,canDelete:n[4].cards.length>1,activeClass:"ImageCard--active",activeId:(Q=n[5])==null?void 0:Q.selectedCard};n[4].cards!==void 0&&(X.items=n[4].cards),h=new ni({props:X}),ce.push(()=>Me(h,"items",V)),h.$on("edit",n[21]),h.$on("delete",n[22]);const R=[cm,am],N=[];function W(G,ae){return G[5]&&G[2]!==void 0&&G[2]>=0&&G[4].cards[G[2]]?0:1}return w=W(n),I=N[w]=R[w](n),{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="icon-end svelte-1w5mzks"></i>',i=A(),r=k("div"),le(o.$$.fragment),l=A(),le(a.$$.fragment),d=A(),u=k("div"),m=k("div"),p=k("div"),le(h.$$.fragment),y=A(),g=k("button"),g.innerHTML=`<i class="icon-plus" aria-hidden="true"></i>
        Add Card`,b=A(),I.c(),f(t,"class","close svelte-1w5mzks"),f(t,"title","Close"),f(r,"class","rowTheme svelte-1w5mzks"),f(p,"class","ImageCard--list svelte-1w5mzks"),f(g,"class","Button Button--small"),f(m,"class","ImageCard--elements svelte-1w5mzks"),f(u,"class","cardPanel svelte-1w5mzks"),f(e,"class","cgb-component svelte-1w5mzks")},m(G,ae){D(G,e,ae),v(e,t),v(e,i),v(e,r),ie(o,r,null),v(r,l),ie(a,r,null),v(e,d),v(e,u),v(u,m),v(m,p),ie(h,p,null),v(m,y),v(m,g),v(u,b),N[w].m(u,null),n[29](e),L=!0,E||(T=[q(t,"click",n[15]),q(g,"click",n[23])],E=!0)},p(G,ae){var U;const $={};!s&&ae[0]&16&&(s=!0,$.value=G[4].theme,De(()=>s=!1)),o.$set($);const Z={};!c&&ae[0]&16&&(c=!0,Z.value=G[4].size,De(()=>c=!1)),a.$set(Z);const ne={};ae[0]&16&&(ne.canDelete=G[4].cards.length>1),ae[0]&32&&(ne.activeId=(U=G[5])==null?void 0:U.selectedCard),!_&&ae[0]&16&&(_=!0,ne.items=G[4].cards,De(()=>_=!1)),h.$set(ne);let me=w;w=W(G),w===me?N[w].p(G,ae):(oe(),H(N[me],1,1,()=>{N[me]=null}),se(),I=N[w],I?I.p(G,ae):(I=N[w]=R[w](G),I.c()),B(I,1),I.m(u,null))},i(G){L||(B(o.$$.fragment,G),B(a.$$.fragment,G),B(h.$$.fragment,G),B(I),C||he(()=>{C=Xe(e,Se,{duration:200}),C.start()}),L=!0)},o(G){H(o.$$.fragment,G),H(a.$$.fragment,G),H(h.$$.fragment,G),H(I),L=!1},d(G){G&&S(e),re(o),re(a),re(h),N[w].d(),n[29](null),E=!1,pe(T)}}}function mm(n,e,t){let i,r,o,s,l,a=z,c=()=>(a(),a=Be(r,U=>t(4,l=U)),r),d,u=z,m=()=>(u(),u=Be(o,U=>t(5,d=U)),o),p,h=z,_=()=>(h(),h=Be(C,U=>t(9,p=U)),C),y,g=z,b=()=>(g(),g=Be(L,U=>t(10,y=U)),L);n.$$.on_destroy.push(()=>a()),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>h()),n.$$.on_destroy.push(()=>g()),Re();let{props:w}=e,I;const C=ct("cdb-imageCardTheme",xt.Overlay);_();const L=ct("cdb-imageCardSize",ii["Grid-5"]);b();const E=()=>{const U=new sr(or,i.editor,{title:"Select Image",buttons:[{type:"cancel",text:"Cancel"}]},{},i);U.open().$on("selectImage",({detail:x})=>{if(!d)return;const j=Tn.getCardIndex(l,d.selectedCard);_e(r,l.cards[j].image=x,l),U.close()})},T=()=>{l.cards.push({label:"Insert Label Here",link:"#",image:"",id:ke()}),d&&_e(o,d.selectedCard=l.cards[l.cards.length-1].id,d),r.set(l)},O=new $t({target:document.body,props:{options:{editColor:!0}}});O.$on("selectIcon",({detail:U})=>{s!==void 0&&(O.close(),_e(r,l.cards[s].icon={id:U.icon.i,color:U.color,type:U.type},l))}),Ue(()=>{O.$destroy()});const M=()=>{i.deselectAll()};function P(U){n.$$.not_equal(l.theme,U)&&(l.theme=U,r.set(l))}const F=()=>{_e(C,p=l.theme,p)};function V(U){n.$$.not_equal(l.size,U)&&(l.size=U,r.set(l))}const X=()=>{_e(L,y=l.size,y)};function R(U){n.$$.not_equal(l.cards,U)&&(l.cards=U,r.set(l))}const N=({detail:U})=>{d&&_e(o,d.selectedCard=U,d)},W=({detail:U})=>{const Oe=Tn.getCardIndex(l,U);d&&d.selectedCard===U&&(Oe>0?_e(o,d.selectedCard=l.cards[Oe-1].id,d):_e(o,d.selectedCard=l.cards[0].id,d))},Q=()=>T();function G(){l.cards[s].label=this.value,r.set(l)}const ae=({detail:U})=>{s!==void 0&&_e(r,l.cards[s].link=U.link,l)},$=()=>{O.open()},Z=()=>E(),ne=()=>T();function me(U){ce[U?"unshift":"push"](()=>{I=U,t(6,I)})}return n.$$set=U=>{"props"in U&&t(14,w=U.props)},n.$$.update=()=>{n.$$.dirty[0]&16384&&t(3,i=w.imageCard),n.$$.dirty[0]&8&&c(t(8,r=i.SvelteState)),n.$$.dirty[0]&16384&&m(t(7,o=w.localState)),n.$$.dirty[0]&48&&t(2,s=d&&Tn.getCardIndex(l,d.selectedCard)),n.$$.dirty[0]&20&&s!==void 0&&l.cards[s]},[C,L,s,i,l,d,I,o,r,p,y,E,T,O,w,M,P,F,V,X,R,N,W,Q,G,ae,$,Z,ne,me]}class hm extends Ie{constructor(e){super(),ye(this,e,mm,fm,ve,{props:14,DefaultTheme:0,DefaultSize:1},null,[-1,-1])}get DefaultTheme(){return this.$$.ctx[0]}get DefaultSize(){return this.$$.ctx[1]}}var xt=(n=>(n.Overlay="imageCardTheme--overlay",n.Subtitle="imageCardTheme--subtitle",n.Icon="imageCardTheme--icon",n))(xt||{});const lr=Object.values(xt),Ln=ct("cdb-imageCardTheme","imageCardTheme--overlay");var ii=(n=>(n.Small="imageCardSize--small",n.Large="imageCardSize--large",n["Grid-3"]="imageCardSize--grid-3",n["Grid-4"]="imageCardSize--grid-4",n["Grid-5"]="imageCardSize--grid-5",n))(ii||{});const ar=Object.values(ii),Bn=ct("cdb-imageCardSize","imageCardSize--grid-5"),cr=class cr{constructor(e,t){this.state=we(),this.set=this.state.set,this.update=this.state.update,this.subscribe=this.state.subscribe;let i=ar.includes(e==null?void 0:e.size)?e==null?void 0:e.size:ue(Bn),r=lr.includes(e==null?void 0:e.theme)?e==null?void 0:e.theme:ue(Ln),o={cards:[],size:i||ue(Bn),theme:r||ue(Ln)};const s=t==null?void 0:t.querySelectorAll("a.ImageCard"),l=t==null?void 0:t.querySelectorAll("img.ImageCardImage");e!=null&&e.cards&&(o.cards=e.cards.map((a,c)=>{var u,m;let d=Jt(a.icon);return{label:a.label||"",link:((u=s==null?void 0:s[c])==null?void 0:u.href)||"#",image:((m=l==null?void 0:l[c])==null?void 0:m.src)||"",id:a.id||ke(),icon:d}})),o.cards.length===0&&(o.cards=[{label:"Insert Label Here",link:"#",image:"",id:ke()}]),this.state.set(o)}get stateString(){const e=ue(this.state),{cards:t,...i}=e;return JSON.stringify({...i,cards:t.map(({link:r,image:o,...s})=>({...s}))})}};cr.defaultState={cards:[{label:"Insert Label Here",link:"#",image:"",id:ke()}],theme:ue(Ln),size:ue(Bn)};let Mi=cr;class Tn extends bt{constructor(e,t=window.tinymce.activeEditor,i,r,o=ke(),s=!1,l=we({selectedCard:"",isSelected:!1})){super(t,i,r,Uf,Mi,o,s,void 0,l),this.state=e,this.editor=t,this.manager=i,this.node=r,this.id=o,this.localState=l,this.attributes=new Map([]),this.defaultClasses=new Set(["ImageCards"]),this.isSelected.subscribe(a=>{l.update(c=>({...c,isSelected:a}))}),r.addEventListener("pointerdown",a=>{const d=a.target.closest("a.ImageCard");if(d){const u=d.dataset.cdbId;u&&ue(l).selectedCard!==u&&l.update(m=>({...m,selectedCard:u}))}}),this.popover=this.setupPopover(hm,{imageCard:this,localState:l},"top"),this.isSelected.subscribe(a=>{a?this.popover.isActive||this.popover.show():this.popover.isActive&&this.popover.hide()}),this.setupObserver()}static getCardIndex(e,t){return e.cards.findIndex(i=>i.id===t)}static import(e,t,i,r){return new this(e,r,i,t)}static create(e,t,i,r,o){const s=this.createInsertNode(i,r);return new this(e,r,t,s)}}class pm extends Ot{constructor(e,t=window.tinymce.activeEditor){super(e,t,Rf),this.state=e,this.editor=t,this.elementName="Image Cards",this.elementClass=Tn,this.selector=".ImageCards[data-cdb-version]",this.icon="Canvas.image",this.importAll()}}function ps(n,e,t){const i=n.slice();return i[15]=e[t],i[16]=e,i[17]=t,i}function gs(n){let e;return{c(){e=k("button"),e.textContent=`Click to add a person...
  `,f(e,"data-mce-bogus","all"),f(e,"class","no-people")},m(t,i){D(t,e,i)},p:z,d(t){t&&S(e)}}}function bs(n){let e,t,i,r,o;function s(){return n[5](n[15])}function l(...a){return n[6](n[15],...a)}return{c(){e=k("img"),f(e,"class","profile-photo"),xe(e.src,t=n[15].thumbnail)||f(e,"src",t),f(e,"alt",i="Photo of "+n[15].firstNameLastName),f(e,"tabindex","0"),f(e,"role","button")},m(a,c){D(a,e,c),r||(o=[q(e,"click",_t(s),{passive:!1}),q(e,"keydown",l)],r=!0)},p(a,c){n=a,c&1&&!xe(e.src,t=n[15].thumbnail)&&f(e,"src",t),c&1&&i!==(i="Photo of "+n[15].firstNameLastName)&&f(e,"alt",i)},d(a){a&&S(e),r=!1,pe(o)}}}function vs(n){let e,t,i,r;function o(){n[9].call(t,n[16],n[17])}return{c(){e=k("div"),t=k("p"),f(t,"class","title"),f(t,"contenteditable","true"),n[15].positions[0]===void 0&&he(o),f(e,"class","position")},m(s,l){D(s,e,l),v(e,t),n[15].positions[0]!==void 0&&(t.innerText=n[15].positions[0]),i||(r=[q(t,"input",o),q(t,"input",n[10])],i=!0)},p(s,l){n=s,l&1&&n[15].positions[0]!==t.innerText&&(t.innerText=n[15].positions[0])},d(s){s&&S(e),i=!1,pe(r)}}}function _s(n){let e,t,i,r;function o(){n[11].call(t,n[16],n[17])}return{c(){e=k("div"),t=k("p"),f(t,"contenteditable","true"),n[15].emailAddress.address===void 0&&he(o),f(e,"class","email")},m(s,l){D(s,e,l),v(e,t),n[15].emailAddress.address!==void 0&&(t.innerText=n[15].emailAddress.address),i||(r=[q(t,"input",o),q(t,"input",n[12])],i=!0)},p(s,l){n=s,l&1&&n[15].emailAddress.address!==t.innerText&&(t.innerText=n[15].emailAddress.address)},d(s){s&&S(e),i=!1,pe(r)}}}function ws(n){let e,t,i,r,o,s=n[15].showBioTitle&&ks();function l(){n[13].call(i,n[16],n[17])}return{c(){e=k("div"),s&&s.c(),t=A(),i=k("div"),f(i,"contenteditable","true"),f(i,"class","bioContent"),n[15].overview===void 0&&he(l),f(e,"class","bio")},m(a,c){D(a,e,c),s&&s.m(e,null),v(e,t),v(e,i),n[15].overview!==void 0&&(i.innerHTML=n[15].overview),r||(o=[q(i,"input",l),q(i,"keydown",bm,!0),q(i,"paste",vm),q(i,"input",n[14])],r=!0)},p(a,c){n=a,n[15].showBioTitle?s||(s=ks(),s.c(),s.m(e,t)):s&&(s.d(1),s=null),c&1&&n[15].overview!==i.innerHTML&&(i.innerHTML=n[15].overview)},d(a){a&&S(e),s&&s.d(),r=!1,pe(o)}}}function ks(n){let e;return{c(){e=k("h4"),e.textContent="Bio"},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function ys(n){let e,t,i,r,o,s,l,a,c,d,u,m=n[15].thumbnail&&bs(n);function p(){n[7].call(o,n[16],n[17])}let h=n[15].positions&&n[15].positions.length>0&&vs(n),_=n[15].emailAddress&&_s(n),y=n[15].showOverview&&ws(n);return{c(){var g;e=k("div"),t=k("div"),m&&m.c(),i=A(),r=k("div"),o=k("h4"),s=A(),h&&h.c(),l=A(),_&&_.c(),a=A(),y&&y.c(),c=A(),f(o,"class","name"),f(o,"contenteditable","true"),n[15].firstNameLastName===void 0&&he(p),f(r,"class","details"),f(t,"class","card"),ee(t,"background-color",((g=n[15].color)==null?void 0:g.toHex())||ze.primary),f(e,"class","profileItem"),f(e,"tabindex","0")},m(g,b){D(g,e,b),v(e,t),m&&m.m(t,null),v(t,i),v(t,r),v(r,o),n[15].firstNameLastName!==void 0&&(o.innerText=n[15].firstNameLastName),v(r,s),h&&h.m(r,null),v(r,l),_&&_.m(r,null),v(e,a),y&&y.m(e,null),v(e,c),d||(u=[q(o,"input",p),q(o,"input",n[8])],d=!0)},p(g,b){var w;n=g,n[15].thumbnail?m?m.p(n,b):(m=bs(n),m.c(),m.m(t,i)):m&&(m.d(1),m=null),b&1&&n[15].firstNameLastName!==o.innerText&&(o.innerText=n[15].firstNameLastName),n[15].positions&&n[15].positions.length>0?h?h.p(n,b):(h=vs(n),h.c(),h.m(r,l)):h&&(h.d(1),h=null),n[15].emailAddress?_?_.p(n,b):(_=_s(n),_.c(),_.m(r,null)):_&&(_.d(1),_=null),b&1&&ee(t,"background-color",((w=n[15].color)==null?void 0:w.toHex())||ze.primary),n[15].showOverview?y?y.p(n,b):(y=ws(n),y.c(),y.m(e,c)):y&&(y.d(1),y=null)},d(g){g&&S(e),m&&m.d(),h&&h.d(),_&&_.d(),y&&y.d(),d=!1,pe(u)}}}function gm(n){let e,t=be(n[0]),i=[];for(let o=0;o<t.length;o+=1)i[o]=ys(ps(n,t,o));let r=null;return t.length||(r=gs()),{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Pe(),r&&r.c()},m(o,s){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,s);D(o,e,s),r&&r.m(o,s)},p(o,[s]){if(s&7){t=be(o[0]);let l;for(l=0;l<t.length;l+=1){const a=ps(o,t,l);i[l]?i[l].p(a,s):(i[l]=ys(a),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length,!t.length&&r?r.p(o,s):t.length?r&&(r.d(1),r=null):(r=gs(),r.c(),r.m(e.parentNode,e))}},i:z,o:z,d(o){o&&S(e),qe(i,o),r&&r.d(o)}}}const bm=n=>{n.stopPropagation()},vm=n=>{n.stopPropagation()};function _m(n,e,t){const i=Re();let{cdbData:r}=e,{localState:o}=e,{instance:s}=e,{destroyHandler:l}=e;Ue(()=>{l()});const a=b=>{s.changePhoto({detail:b})},c=(b,w)=>{w.key==="Enter"&&(w.stopPropagation(),i("changePhoto",b))};function d(b,w){b[w].firstNameLastName=this.innerText,t(0,r)}const u=()=>{i("update",r)};function m(b,w){b[w].positions[0]=this.innerText,t(0,r)}const p=()=>{i("update",r)};function h(b,w){b[w].emailAddress.address=this.innerText,t(0,r)}const _=()=>{i("update",r)};function y(b,w){b[w].overview=this.innerHTML,t(0,r)}const g=()=>{i("update",r)};return n.$$set=b=>{"cdbData"in b&&t(0,r=b.cdbData),"localState"in b&&t(3,o=b.localState),"instance"in b&&t(1,s=b.instance),"destroyHandler"in b&&t(4,l=b.destroyHandler)},[r,s,i,o,l,a,c,d,u,m,p,h,_,y,g]}class wm extends Ie{constructor(e){super(),ye(this,e,_m,gm,ve,{cdbData:0,localState:3,instance:1,destroyHandler:4})}}const km="/assets/blank-user-y4CJBVYL.png";function Is(n,e,t){const i=n.slice();return i[28]=e[t],i}function Cs(n){let e,t,i,r,o;function s(c){n[14](c)}function l(c){n[15](c)}let a={labelKey:"firstNameLastName",idKey:"id",showEdit:!0};return n[2]!==void 0&&(a.activeId=n[2]),n[5]!==void 0&&(a.items=n[5]),t=new ni({props:a}),ce.push(()=>Me(t,"activeId",s)),ce.push(()=>Me(t,"items",l)),t.$on("toggleOverview",n[16]),t.$on("edit",n[17]),{c(){e=k("div"),le(t.$$.fragment),f(e,"class","personList svelte-1e5p1ig")},m(c,d){D(c,e,d),ie(t,e,null),o=!0},p(c,d){const u={};!i&&d&4&&(i=!0,u.activeId=c[2],De(()=>i=!1)),!r&&d&32&&(r=!0,u.items=c[5],De(()=>r=!1)),t.$set(u)},i(c){o||(B(t.$$.fragment,c),o=!0)},o(c){H(t.$$.fragment,c),o=!1},d(c){c&&S(e),re(t)}}}function ym(n){let e,t,i,r,o,s,l,a={ctx:n,current:null,token:null,hasCatch:!1,pending:Bm,then:Lm,catch:Cm,value:27};return st(o=n[8],a),{c(){e=k("div"),t=k("input"),i=A(),r=k("div"),a.block.c(),f(t,"type","search"),f(t,"class","imageSearch svelte-1e5p1ig"),f(t,"placeholder","Search for a person"),f(r,"class","results svelte-1e5p1ig"),f(e,"class","searchBox")},m(c,d){D(c,e,d),v(e,t),de(t,n[1]),v(e,i),v(e,r),a.block.m(r,a.anchor=null),a.mount=()=>r,a.anchor=null,s||(l=q(t,"input",n[22]),s=!0)},p(c,d){n=c,d&2&&t.value!==n[1]&&de(t,n[1]),a.ctx=n,d&256&&o!==(o=n[8])&&st(o,a)||Xt(a,n,d)},i(c){B(a.block)},o:z,d(c){c&&S(e),a.block.d(),a.token=null,a=null,s=!1,l()}}}function Im(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g=n[5][n[3]].showOverview&&Ts(n);function b(C){n[21](C)}let w={label:"Colour",id:ke()+"-setting-background",contrastColour:te("#ffffff"),showNone:!1,asModal:n[0]};n[5][n[3]].color!==void 0&&(w.colour=n[5][n[3]].color),u=new Ht({props:w}),ce.push(()=>Me(u,"colour",b));let I=!n[7]&&Es();return{c(){e=k("div"),t=k("div"),i=k("button"),i.innerHTML=`Done
          <i class="icon-solid icon-check pl-1" aria-hidden="true"></i>`,r=A(),o=k("div"),s=k("label"),l=k("input"),a=Y(`
          Show Overview`),c=A(),g&&g.c(),d=A(),le(u.$$.fragment),p=A(),I&&I.c(),f(i,"title","Finish editing Person"),f(t,"class","editActions svelte-1e5p1ig"),f(l,"type","checkbox"),f(l,"id","showOverview"),f(l,"class","svelte-1e5p1ig"),f(s,"for","showOverview"),f(s,"class","checkbox-fullwidth svelte-1e5p1ig"),f(o,"class","options svelte-1e5p1ig"),f(e,"class","editPerson svelte-1e5p1ig")},m(C,L){D(C,e,L),v(e,t),v(t,i),v(e,r),v(e,o),v(o,s),v(s,l),l.checked=n[5][n[3]].showOverview,v(s,a),v(o,c),g&&g.m(o,null),v(o,d),ie(u,o,null),v(o,p),I&&I.m(o,null),h=!0,_||(y=[q(i,"click",n[18]),q(l,"change",n[19])],_=!0)},p(C,L){L&40&&(l.checked=C[5][C[3]].showOverview),C[5][C[3]].showOverview?g?g.p(C,L):(g=Ts(C),g.c(),g.m(o,d)):g&&(g.d(1),g=null);const E={};L&1&&(E.asModal=C[0]),!m&&L&40&&(m=!0,E.colour=C[5][C[3]].color,De(()=>m=!1)),u.$set(E),C[7]?I&&(oe(),H(I,1,1,()=>{I=null}),se()):I?L&128&&B(I,1):(I=Es(),I.c(),B(I,1),I.m(o,null))},i(C){h||(B(u.$$.fragment,C),B(I),h=!0)},o(C){H(u.$$.fragment,C),H(I),h=!1},d(C){C&&S(e),g&&g.d(),re(u),I&&I.d(),_=!1,pe(y)}}}function Cm(n){return{c:z,m:z,p:z,i:z,o:z,d:z}}function Lm(n){let e,t=be(n[27]),i=[];for(let o=0;o<t.length;o+=1)i[o]=Bs(Is(n,t,o));let r=null;return t.length||(r=Ls(n)),{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Pe(),r&&r.c()},m(o,s){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,s);D(o,e,s),r&&r.m(o,s)},p(o,s){if(s&1314){t=be(o[27]);let l;for(l=0;l<t.length;l+=1){const a=Is(o,t,l);i[l]?(i[l].p(a,s),B(i[l],1)):(i[l]=Bs(a),i[l].c(),B(i[l],1),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length,!t.length&&r?r.p(o,s):t.length?r&&(r.d(1),r=null):(r=Ls(o),r.c(),r.m(e.parentNode,e))}},i(o){for(let s=0;s<t.length;s+=1)B(i[s])},o:z,d(o){o&&S(e),qe(i,o),r&&r.d(o)}}}function Ls(n){let e,t,i;return{c(){e=k("button"),e.textContent=`No results found. Click here to add a blank person.
            `,f(e,"class","no-results svelte-1e5p1ig")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[24]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function Bs(n){let e,t=n[28].name+"",i,r,o,s;function l(){return n[23](n[28])}return{c(){e=k("button"),i=Y(t),f(e,"class","resultItem svelte-1e5p1ig")},m(a,c){D(a,e,c),v(e,i),o||(s=q(e,"click",l),o=!0)},p(a,c){n=a,c&256&&t!==(t=n[28].name+"")&&ge(i,t)},i(a){r||he(()=>{r=Xe(e,Se,{duration:200}),r.start()})},o:z,d(a){a&&S(e),o=!1,s()}}}function Bm(n){let e;return{c(){e=k("div"),e.textContent="Loading...",f(e,"class","loading animate-pulse")},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function Ts(n){let e,t,i,r,o;return{c(){e=k("label"),t=k("input"),i=Y(`
            Show "Bio" title above overview`),f(t,"type","checkbox"),f(t,"id","showBioTitle"),f(t,"class","svelte-1e5p1ig"),f(e,"for","showBioTitle"),f(e,"class","checkbox-fullwidth svelte-1e5p1ig")},m(s,l){D(s,e,l),v(e,t),t.checked=n[5][n[3]].showBioTitle,v(e,i),r||(o=q(t,"change",n[20]),r=!0)},p(s,l){l&40&&(t.checked=s[5][s[3]].showBioTitle)},d(s){s&&S(e),r=!1,o()}}}function Es(n){let e,t,i;return{c(){e=k("div"),e.innerHTML=`<p class="alert-details svelte-1e5p1ig"><span class="font-bold">Warning:</span> The text in this profile may
              be hard to read for some students. Consider using a darker colour to
              improve contrast against the white text.</p>`,f(e,"class","colour-alert svelte-1e5p1ig")},m(r,o){D(r,e,o),i=!0},i(r){i||(he(()=>{i&&(t||(t=Ce(e,He,{},!0)),t.run(1))}),i=!0)},o(r){t||(t=Ce(e,He,{},!1)),t.run(0),i=!1},d(r){r&&S(e),r&&t&&t.end()}}}function Tm(n){let e,t,i,r,o,s,l=n[5].length&&Cs(n);const a=[Im,ym],c=[];function d(u,m){return u[3]!==void 0&&u[5][u[3]]?0:1}return i=d(n),r=c[i]=a[i](n),{c(){e=k("div"),l&&l.c(),t=A(),r.c(),f(e,"class","cgb-component svelte-1e5p1ig")},m(u,m){D(u,e,m),l&&l.m(e,null),v(e,t),c[i].m(e,null),n[25](e),s=!0},p(u,[m]){u[5].length?l?(l.p(u,m),m&32&&B(l,1)):(l=Cs(u),l.c(),B(l,1),l.m(e,t)):l&&(oe(),H(l,1,1,()=>{l=null}),se());let p=i;i=d(u),i===p?c[i].p(u,m):(oe(),H(c[p],1,1,()=>{c[p]=null}),se(),r=c[i],r?r.p(u,m):(r=c[i]=a[i](u),r.c()),B(r,1),r.m(e,null))},i(u){s||(B(l),B(r),o||he(()=>{o=Xe(e,Se,{duration:200}),o.start()}),s=!0)},o(u){H(l),H(r),s=!1},d(u){u&&S(e),l&&l.d(),c[i].d(),n[25](null)}}}function Em(n,e,t){let i,r,o,s,l,a,c,d=z,u=()=>(d(),d=Be(r,N=>t(5,c=N)),r);n.$$.on_destroy.push(()=>d());var m;let{props:p}=e,{isModal:h=!1}=e,_;const y=window.ENV.COURSE_ID?fetch(`/api/v1/courses/${window.ENV.COURSE_ID}/users?enrollment_type[]=teacher&enrollment_type[]=ta&enrollment_type[]=designer&include[]=avatar_url&include[]=bio&per_page=100`).then(N=>N.json()):Promise.resolve([]);let g="";const b=N=>{N&&(i.SvelteState.update(W=>{var Q;const G={firstName:N.first_name,lastName:N.last_name,firstNameLastName:N.name,id:ke(),canvasId:(Q=N.id)===null||Q===void 0?void 0:Q.toString(),overview:`<p>${N.bio?N.bio.split(`
`).join("</p><p>"):"No bio available..."}</p>`,showOverview:!0,showBioTitle:!0,emailAddress:{address:N.email},thumbnail:N.avatar_url?N.avatar_url:!1};return W?[...W,G]:[G]}),t(1,g=""))};let w;function I(N){w=N,t(2,w)}function C(N){c=N,r.set(c)}const L=({detail:N})=>{i.SvelteState.update(W=>{const Q=W.find(G=>G.id===N);return Q&&(Q.showOverview=!Q.showOverview),W})},E=({detail:N})=>{t(2,w=N)},T=()=>{t(2,w=void 0)};function O(){c[s].showOverview=this.checked,r.set(c)}function M(){c[s].showBioTitle=this.checked,r.set(c)}function P(N){n.$$.not_equal(c[s].color,N)&&(c[s].color=N,r.set(c))}function F(){g=this.value,t(1,g)}const V=N=>b(N),X=()=>b({id:-1,name:g||`New Person ${c.length+1}`,last_name:"",first_name:g||`New Person ${c.length+1}`,short_name:g||`New Person ${c.length+1}`,avatar_url:km,email:"email@example.com",bio:""});function R(N){ce[N?"unshift":"push"](()=>{_=N,t(6,_)})}return n.$$set=N=>{"props"in N&&t(11,p=N.props),"isModal"in N&&t(0,h=N.isModal)},n.$$.update=()=>{n.$$.dirty&2048&&t(4,i=p.profileGrid),n.$$.dirty&16&&u(t(9,r=i.SvelteState)),n.$$.dirty&2&&t(8,o=y.then(N=>N.filter(W=>g?W.name.toLowerCase().includes(g.toLowerCase()):!0))),n.$$.dirty&36&&t(3,s=w?c.findIndex(N=>N.id===w):void 0),n.$$.dirty&4136&&t(13,l=s!==void 0?t(12,m=c[s].color)===null||m===void 0?void 0:m.contrast(te("#ffffff")):!0),n.$$.dirty&8192&&t(7,a=l===!0||l===void 0||l&&l>=7)},[h,g,w,s,i,c,_,a,o,r,b,p,m,l,I,C,L,E,T,O,M,P,F,V,X,R]}class Sm extends Ie{constructor(e){super(),ye(this,e,Em,Tm,ve,{props:11,isModal:0})}}const Dm=n=>{if(n===void 0)return te(ze.primary);let e=te(n);return e.isValid()?e:te(ze.primary)};class Mm{constructor(e,t){this.state=we(),this.set=this.state.set,this.update=this.state.update,this.subscribe=this.state.subscribe;let i=(e==null?void 0:e.map(o=>{var s,l;return{id:(o==null?void 0:o.id)||ke(),canvasId:(o==null?void 0:o.canvasId)||"",firstName:(o==null?void 0:o.firstName)||"",lastName:(o==null?void 0:o.lastName)||"",firstNameLastName:(o==null?void 0:o.firstNameLastName)||"",thumbnail:"",positions:((s=o==null?void 0:o.positions)==null?void 0:s.map(a=>typeof a=="string"?a:a.position))||[""],emailAddress:{address:((l=o==null?void 0:o.emailAddress)==null?void 0:l.address)||""},overview:"",showOverview:(o==null?void 0:o.showOverview)===void 0?!0:o==null?void 0:o.showOverview,showBioTitle:(o==null?void 0:o.showBioTitle)===void 0?!0:o==null?void 0:o.showBioTitle,color:Dm(o==null?void 0:o.color)}}))||[];const r=t==null?void 0:t.querySelectorAll("div.profileItem");r==null||r.forEach((o,s)=>{var a;if(i.length-1<s)return;i[s].overview=((a=o.querySelector(".bioContent"))==null?void 0:a.innerHTML)||"";const l=o==null?void 0:o.querySelector("img.profile-photo");i[s].thumbnail=(l==null?void 0:l.src)||""}),this.state.set(i)}get stateString(){const t=ue(this.state).map(i=>{const{overview:r,thumbnail:o,color:s,...l}=i;return{...l,color:s==null?void 0:s.toHex()}});return JSON.stringify(t)}}class Am extends bt{constructor(e,t=window.tinymce.activeEditor,i,r,o=ke(),s=!1){super(t,i,r,wm,Mm,o,s),this.state=e,this.editor=t,this.manager=i,this.node=r,this.id=o,this.attributes=new Map([]),this.defaultClasses=new Set(["Profiles"]),this.customEvents=new Map([["changePhoto",this.changePhoto.bind(this)]]),ue(this.SvelteState)===void 0?this.SvelteState.set([]):this.SvelteState.update(l=>l),this.popover=this.setupPopover(Sm,{profileGrid:this},"top",{shift:{crossAxis:!0}}),this.isSelected.subscribe(l=>{l?!this.popover.isActive&&this.popover.show():this.popover.isActive&&this.popover.hide()}),this.setupObserver()}static import(e,t,i,r){return new this(e,r,i,t)}static create(e,t,i,r,o){const s=this.createInsertNode(i,r);return new this(e,r,t,s)}async changePhoto({detail:e}){const t=new sr(or,this.editor,{title:"Select Image",buttons:[{type:"cancel",text:"Cancel"}]},{});t.open().$on("selectImage",({detail:r})=>{e.thumbnail=r,this.SvelteState.update(o=>o),t.close()})}}const Hm="#tinymce .Profiles{cursor:pointer}#tinymce .Profiles[data-mce-selected]{cursor:auto;border-radius:1rem}#tinymce .Profiles .profileItem .profile-photo{cursor:pointer;transition-property:transform;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}#tinymce .Profiles .profileItem .profile-photo:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));opacity:.9}.Profiles[data-cdb-version] .profileItem{flex-wrap:wrap;gap:1rem;margin-bottom:1rem;margin-left:auto;margin-right:auto;display:flex}.Profiles[data-cdb-version] .profileItem .card{--tw-bg-opacity:1;background-color:rgba(2,132,199,var(--tw-bg-opacity));text-align:center;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);border-radius:1rem;flex-flow:wrap;flex-grow:1;align-content:flex-start;gap:.75rem;width:15rem;padding:1rem;display:flex}.Profiles[data-cdb-version] .profileItem .card img.profile-photo{aspect-ratio:1;-o-object-fit:cover;object-fit:cover;--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);border-radius:9999px;width:8rem;max-width:100%;margin-left:auto;margin-right:auto}.Profiles[data-cdb-version] .profileItem .card .details{flex-grow:1;flex-basis:0}.Profiles[data-cdb-version] .profileItem .card .details>.title{text-transform:uppercase;margin-bottom:0;font-size:.875rem;line-height:1.25rem}.Profiles[data-cdb-version] .profileItem .card .details .name{font-size:1.25rem;line-height:1.75rem}.Profiles[data-cdb-version] .profileItem .card .details .position .title{margin-top:0;margin-bottom:0}.Profiles[data-cdb-version] .profileItem .card .details .position .department{margin-top:0;margin-bottom:0;font-size:.75rem;line-height:1rem}.Profiles[data-cdb-version] .profileItem .bio{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);border-radius:1rem;flex-grow:999;flex-shrink:1;width:18rem;padding:1rem}.Profiles[data-cdb-version] .no-people{text-align:center;--tw-text-opacity:1;color:rgba(64,64,64,var(--tw-text-opacity));--tw-border-opacity:1;border-style:dashed;border-width:2px;border-color:rgba(217,217,217,var(--tw-border-opacity));background-color:transparent;border-radius:9999px;width:100%;padding:1rem;font-size:1.5rem;line-height:2rem;display:block}";class Pm extends Ot{constructor(e,t=window.tinymce.activeEditor){super(e,t,Hm),this.state=e,this.editor=t,this.selector=".Profiles[data-cdb-version]",this.elementClass=Am,this.elementName="Profiles",this.icon="Canvas.educators",this.importAll()}}function Ss(n,e,t){const i=n.slice();return i[18]=e[t],i}function Ds(n,e,t){const i=n.slice();return i[21]=e[t],i[23]=t,i}function Ms(n,e,t){const i=n.slice();return i[18]=e[t],i}function Om(n){let e,t,i,r;return{c(){e=k("img"),i=A(),r=k("div"),r.textContent="",f(e,"class","headerImage"),xe(e.src,t=n[0].image)||f(e,"src",t),f(e,"alt",""),f(e,"role","presentation"),f(r,"class","imageOverlay")},m(o,s){D(o,e,s),D(o,i,s),D(o,r,s)},p(o,s){s&1&&!xe(e.src,t=o[0].image)&&f(e,"src",t)},i:z,o:z,d(o){o&&(S(e),S(i),S(r))}}}function Nm(n){let e,t,i,r=n[0].icon&&As(n),o=n[0].image&&Hs(n);return{c(){r&&r.c(),e=A(),o&&o.c(),t=Pe()},m(s,l){r&&r.m(s,l),D(s,e,l),o&&o.m(s,l),D(s,t,l),i=!0},p(s,l){s[0].icon?r?(r.p(s,l),l&1&&B(r,1)):(r=As(s),r.c(),B(r,1),r.m(e.parentNode,e)):r&&(oe(),H(r,1,1,()=>{r=null}),se()),s[0].image?o?o.p(s,l):(o=Hs(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i(s){i||(B(r),i=!0)},o(s){H(r),i=!1},d(s){s&&(S(e),S(t)),r&&r.d(s),o&&o.d(s)}}}function As(n){let e,t,i,r,o,s;return t=new et({props:{icon:n[0].icon,colorOverride:n[0].color?n[3]:void 0}}),o=new et({props:{icon:n[0].icon,colorOverride:n[0].color?n[3]:void 0}}),{c(){e=k("div"),le(t.$$.fragment),i=A(),r=k("div"),le(o.$$.fragment),f(e,"class","iconComponent"),f(r,"class","iconOverlay")},m(l,a){D(l,e,a),ie(t,e,null),D(l,i,a),D(l,r,a),ie(o,r,null),s=!0},p(l,a){const c={};a&1&&(c.icon=l[0].icon),a&9&&(c.colorOverride=l[0].color?l[3]:void 0),t.$set(c);const d={};a&1&&(d.icon=l[0].icon),a&9&&(d.colorOverride=l[0].color?l[3]:void 0),o.$set(d)},i(l){s||(B(t.$$.fragment,l),B(o.$$.fragment,l),s=!0)},o(l){H(t.$$.fragment,l),H(o.$$.fragment,l),s=!1},d(l){l&&(S(e),S(i),S(r)),re(t),re(o)}}}function Hs(n){let e,t,i,r,o,s,l,a,c;return{c(){e=k("div"),t=k("img"),r=A(),o=k("div"),o.textContent="",s=A(),l=k("div"),a=Y(""),f(t,"class","headerImage"),xe(t.src,i=n[0].image)||f(t,"src",i),f(t,"alt",""),f(t,"role","presentation"),f(o,"class","imageOverlay"),f(l,"class","imageOverlay--blur"),f(l,"data-mce-style",c=n[2]?`background: ${n[2].toHex()}; color: ${n[3]}`:void 0),ee(l,"background-color",n[2].toHex()),ee(l,"color",n[2]?n[3]:void 0),f(e,"class","imageComponent")},m(d,u){D(d,e,u),v(e,t),v(e,r),v(e,o),v(e,s),v(e,l),v(l,a)},p(d,u){u&1&&!xe(t.src,i=d[0].image)&&f(t,"src",i),u&12&&c!==(c=d[2]?`background: ${d[2].toHex()}; color: ${d[3]}`:void 0)&&f(l,"data-mce-style",c),u&4&&ee(l,"background-color",d[2].toHex()),u&12&&ee(l,"color",d[2]?d[3]:void 0)},d(d){d&&S(e)}}}function zm(n){let e,t,i;return{c(){e=k("h4"),f(e,"class","headerTitle"),f(e,"contenteditable","true"),n[0].title===void 0&&he(()=>n[13].call(e))},m(r,o){D(r,e,o),n[0].title!==void 0&&(e.innerText=n[0].title),t||(i=[q(e,"input",n[13]),q(e,"input",n[14])],t=!0)},p(r,o){o&1&&r[0].title!==e.innerText&&(e.innerText=r[0].title)},d(r){r&&S(e),t=!1,pe(i)}}}function Rm(n){let e,t,i;return{c(){e=k("h3"),f(e,"class","headerTitle"),f(e,"contenteditable","true"),n[0].title===void 0&&he(()=>n[11].call(e))},m(r,o){D(r,e,o),n[0].title!==void 0&&(e.innerText=n[0].title),t||(i=[q(e,"input",n[11]),q(e,"input",n[12])],t=!0)},p(r,o){o&1&&r[0].title!==e.innerText&&(e.innerText=r[0].title)},d(r){r&&S(e),t=!1,pe(i)}}}function qm(n){let e,t,i;return{c(){e=k("h2"),f(e,"class","headerTitle"),f(e,"contenteditable","true"),n[0].title===void 0&&he(()=>n[9].call(e))},m(r,o){D(r,e,o),n[0].title!==void 0&&(e.innerText=n[0].title),t||(i=[q(e,"input",n[9]),q(e,"input",n[10])],t=!0)},p(r,o){o&1&&r[0].title!==e.innerText&&(e.innerText=r[0].title)},d(r){r&&S(e),t=!1,pe(i)}}}function Ps(n){let e,t,i=be(n[0].links),r=[];for(let s=0;s<i.length;s+=1)r[s]=Ns(Ms(n,i,s));const o=s=>H(r[s],1,1,()=>{r[s]=null});return{c(){e=k("div");for(let s=0;s<r.length;s+=1)r[s].c();f(e,"class","headerLinks")},m(s,l){D(s,e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(s,l){if(l&9){i=be(s[0].links);let a;for(a=0;a<i.length;a+=1){const c=Ms(s,i,a);r[a]?(r[a].p(c,l),B(r[a],1)):(r[a]=Ns(c),r[a].c(),B(r[a],1),r[a].m(e,null))}for(oe(),a=i.length;a<r.length;a+=1)o(a);se()}},i(s){if(!t){for(let l=0;l<i.length;l+=1)B(r[l]);t=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)H(r[l]);t=!1},d(s){s&&S(e),qe(r,s)}}}function Os(n){var i;let e,t;return e=new et({props:{icon:n[18].icon,colorOverride:n[0].theme===Le.Modern?(i=n[0].color)==null?void 0:i.toHex():"#fff"}}),{c(){le(e.$$.fragment)},m(r,o){ie(e,r,o),t=!0},p(r,o){var l;const s={};o&1&&(s.icon=r[18].icon),o&1&&(s.colorOverride=r[0].theme===Le.Modern?(l=r[0].color)==null?void 0:l.toHex():"#fff"),e.$set(s)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Ns(n){let e,t,i=n[18].title+"",r,o,s,l,a,c,d=n[18].icon&&Os(n);return{c(){var u,m;e=k("a"),d&&d.c(),t=A(),r=Y(i),o=A(),f(e,"class","headerLink"),f(e,"href",s=n[18].url),f(e,"target",l=n[18].target!==void 0?n[18].target:"_blank"),f(e,"rel","noopener noreferrer"),f(e,"data-mce-style",a=n[0].color&&n[0].theme===Le.Modern?`color: ${(u=n[0].color)==null?void 0:u.toHex()}; background-color: ${n[3]}`:void 0),ee(e,"background-color",n[0].color&&n[0].theme===Le.Modern?n[3]:void 0),ee(e,"color",n[0].theme===Le.Modern?(m=n[0].color)==null?void 0:m.toHex():void 0)},m(u,m){D(u,e,m),d&&d.m(e,null),v(e,t),v(e,r),v(e,o),c=!0},p(u,m){var p,h;u[18].icon?d?(d.p(u,m),m&1&&B(d,1)):(d=Os(u),d.c(),B(d,1),d.m(e,t)):d&&(oe(),H(d,1,1,()=>{d=null}),se()),(!c||m&1)&&i!==(i=u[18].title+"")&&ge(r,i),(!c||m&1&&s!==(s=u[18].url))&&f(e,"href",s),(!c||m&1&&l!==(l=u[18].target!==void 0?u[18].target:"_blank"))&&f(e,"target",l),(!c||m&9&&a!==(a=u[0].color&&u[0].theme===Le.Modern?`color: ${(p=u[0].color)==null?void 0:p.toHex()}; background-color: ${u[3]}`:void 0))&&f(e,"data-mce-style",a),m&9&&ee(e,"background-color",u[0].color&&u[0].theme===Le.Modern?u[3]:void 0),m&1&&ee(e,"color",u[0].theme===Le.Modern?(h=u[0].color)==null?void 0:h.toHex():void 0)},i(u){c||(B(d),c=!0)},o(u){H(d),c=!1},d(u){u&&S(e),d&&d.d()}}}function zs(n){let e,t,i,r=be(n[0].links),o=[];for(let l=0;l<r.length;l+=1)o[l]=Fs(Ss(n,r,l));const s=l=>H(o[l],1,1,()=>{o[l]=null});return{c(){e=k("div");for(let l=0;l<o.length;l+=1)o[l].c();f(e,"class","headerLinks headerLinkTray"),f(e,"data-mce-style",t=n[0].color?`color: ${n[3]}`:void 0),ee(e,"color",n[0].color?n[3]:void 0)},m(l,a){D(l,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);i=!0},p(l,a){if(a&9){r=be(l[0].links);let c;for(c=0;c<r.length;c+=1){const d=Ss(l,r,c);o[c]?(o[c].p(d,a),B(o[c],1)):(o[c]=Fs(d),o[c].c(),B(o[c],1),o[c].m(e,null))}for(oe(),c=r.length;c<o.length;c+=1)s(c);se()}(!i||a&9&&t!==(t=l[0].color?`color: ${l[3]}`:void 0))&&f(e,"data-mce-style",t),a&9&&ee(e,"color",l[0].color?l[3]:void 0)},i(l){if(!i){for(let a=0;a<r.length;a+=1)B(o[a]);i=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)H(o[a]);i=!1},d(l){l&&S(e),qe(o,l)}}}function Rs(n){let e,t;return e=new et({props:{icon:n[18].icon,colorOverride:n[0].color?n[3]:ze.primary}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&1&&(o.icon=i[18].icon),r&9&&(o.colorOverride=i[0].color?i[3]:ze.primary),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function qs(n){let e;return{c(){e=k("br")},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function js(n){let e,t=n[21]+"",i,r,o=n[23]!==n[18].title.split(`
`).length-1,s,l=o&&qs();return{c(){e=k("span"),i=Y(t),r=A(),l&&l.c(),s=Pe(),f(e,"class","headerLink--title")},m(a,c){D(a,e,c),v(e,i),D(a,r,c),l&&l.m(a,c),D(a,s,c)},p(a,c){c&1&&t!==(t=a[21]+"")&&ge(i,t),c&1&&(o=a[23]!==a[18].title.split(`
`).length-1),o?l||(l=qs(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(a){a&&(S(e),S(r),S(s)),l&&l.d(a)}}}function Fs(n){let e,t,i,r,o,s,l,a=n[18].icon&&Rs(n),c=be(n[18].title.split(`
`)),d=[];for(let u=0;u<c.length;u+=1)d[u]=js(Ds(n,c,u));return{c(){e=k("a"),a&&a.c(),t=A(),i=k("span");for(let u=0;u<d.length;u+=1)d[u].c();r=A(),f(i,"class","headerLink--titles"),f(e,"class","headerLink"),f(e,"href",o=n[18].url),f(e,"target",s=n[18].target!==void 0?n[18].target:"_blank"),f(e,"rel","noopener noreferrer")},m(u,m){D(u,e,m),a&&a.m(e,null),v(e,t),v(e,i);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(i,null);v(e,r),l=!0},p(u,m){if(u[18].icon?a?(a.p(u,m),m&1&&B(a,1)):(a=Rs(u),a.c(),B(a,1),a.m(e,t)):a&&(oe(),H(a,1,1,()=>{a=null}),se()),m&1){c=be(u[18].title.split(`
`));let p;for(p=0;p<c.length;p+=1){const h=Ds(u,c,p);d[p]?d[p].p(h,m):(d[p]=js(h),d[p].c(),d[p].m(i,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=c.length}(!l||m&1&&o!==(o=u[18].url))&&f(e,"href",o),(!l||m&1&&s!==(s=u[18].target!==void 0?u[18].target:"_blank"))&&f(e,"target",s)},i(u){l||(B(a),l=!0)},o(u){H(a),l=!1},d(u){u&&S(e),a&&a.d(),qe(d,u)}}}function jm(n){let e,t,i,r,o,s,l,a,c=[Le.Dark,Le.Light,Le.Blur].includes(n[0].theme),d,u,m,p,h,_;const y=[Nm,Om],g=[];function b(T,O){return T[0].theme===Le.Modern?0:T[0].image?1:-1}~(t=b(n))&&(i=g[t]=y[t](n));function w(T,O){return!T[0].level||T[0].level===fn.h2?qm:T[0].level===fn.h3?Rm:zm}let I=w(n),C=I(n),L=c&&Ps(n),E=n[0].theme===Le.Modern&&n[0].links.length>0&&zs(n);return{c(){var T,O,M;e=k("div"),i&&i.c(),r=A(),o=k("div"),C.c(),s=A(),l=k("div"),a=A(),L&&L.c(),d=A(),E&&E.c(),f(l,"class","headerOverview"),f(l,"contenteditable","true"),n[0].overview===void 0&&he(()=>n[16].call(l)),f(o,"class","overlay"),f(e,"class",u="headerInner "+n[0].theme),f(e,"data-mce-style",m=n[0].color&&n[0].theme===Le.Modern?`background: ${(T=n[0].color)==null?void 0:T.toHex()}; color: ${n[3]}`:void 0),f(e,"tabindex","0"),K(e,"noImage",!n[0].image),K(e,"hasColor",n[0].color),K(e,"isDark",n[0].theme===Le.Modern?(O=n[0].color)==null?void 0:O.isDark():n[0].theme===Le.Dark),ee(e,"background-color",n[0].theme===Le.Modern?(M=n[0].color)==null?void 0:M.toHex():void 0),ee(e,"color",n[0].color&&n[0].theme===Le.Modern?n[3]:void 0)},m(T,O){D(T,e,O),~t&&g[t].m(e,null),v(e,r),v(e,o),C.m(o,null),v(o,s),v(o,l),n[0].overview!==void 0&&(l.innerHTML=n[0].overview),v(o,a),L&&L.m(o,null),v(e,d),E&&E.m(e,null),p=!0,h||(_=[q(l,"keydown",Fm,!0),q(l,"paste",_t(fl(n[15]))),q(l,"input",n[16]),q(l,"input",n[17])],h=!0)},p(T,[O]){var P,F,V;let M=t;t=b(T),t===M?~t&&g[t].p(T,O):(i&&(oe(),H(g[M],1,1,()=>{g[M]=null}),se()),~t?(i=g[t],i?i.p(T,O):(i=g[t]=y[t](T),i.c()),B(i,1),i.m(e,r)):i=null),I===(I=w(T))&&C?C.p(T,O):(C.d(1),C=I(T),C&&(C.c(),C.m(o,s))),O&1&&T[0].overview!==l.innerHTML&&(l.innerHTML=T[0].overview),O&1&&(c=[Le.Dark,Le.Light,Le.Blur].includes(T[0].theme)),c?L?(L.p(T,O),O&1&&B(L,1)):(L=Ps(T),L.c(),B(L,1),L.m(o,null)):L&&(oe(),H(L,1,1,()=>{L=null}),se()),T[0].theme===Le.Modern&&T[0].links.length>0?E?(E.p(T,O),O&1&&B(E,1)):(E=zs(T),E.c(),B(E,1),E.m(e,null)):E&&(oe(),H(E,1,1,()=>{E=null}),se()),(!p||O&1&&u!==(u="headerInner "+T[0].theme))&&f(e,"class",u),(!p||O&9&&m!==(m=T[0].color&&T[0].theme===Le.Modern?`background: ${(P=T[0].color)==null?void 0:P.toHex()}; color: ${T[3]}`:void 0))&&f(e,"data-mce-style",m),(!p||O&1)&&K(e,"noImage",!T[0].image),(!p||O&1)&&K(e,"hasColor",T[0].color),(!p||O&1)&&K(e,"isDark",T[0].theme===Le.Modern?(F=T[0].color)==null?void 0:F.isDark():T[0].theme===Le.Dark),O&1&&ee(e,"background-color",T[0].theme===Le.Modern?(V=T[0].color)==null?void 0:V.toHex():void 0),O&9&&ee(e,"color",T[0].color&&T[0].theme===Le.Modern?T[3]:void 0)},i(T){p||(B(i),B(L),B(E),p=!0)},o(T){H(i),H(L),H(E),p=!1},d(T){T&&S(e),~t&&g[t].d(),C.d(),L&&L.d(),E&&E.d(),h=!1,pe(_)}}}const Fm=n=>{n.stopPropagation()};function Vm(n,e,t){let i,r;var o,s;const l=Re();let{cdbData:a}=e,{localState:c}=e,{instance:d}=e,{destroyHandler:u}=e;Ue(()=>{u()});function m(){a.title=this.innerText,t(0,a)}const p=()=>{l("update",a)};function h(){a.title=this.innerText,t(0,a)}const _=()=>{l("update",a)};function y(){a.title=this.innerText,t(0,a)}const g=()=>{l("update",a)},b=C=>{var O,M;const L=(O=C.clipboardData)==null?void 0:O.getData("text/plain"),T=((M=C.clipboardData)==null?void 0:M.getData("text/html"))||L;if(T){const P=d.window,F=P.document,V=P.getSelection();if(V!=null&&V.rangeCount){const X=V.getRangeAt(0);X.deleteContents();const R=F.createRange().createContextualFragment(T);debugger;R.querySelectorAll("[style]").forEach(N=>{N instanceof P.HTMLElement&&(N.style.color="",N.style.backgroundColor="")}),X.insertNode(R)}V==null||V.collapseToEnd()}};function w(){a.overview=this.innerHTML,t(0,a)}const I=()=>{l("update",a)};return n.$$set=C=>{"cdbData"in C&&t(0,a=C.cdbData),"localState"in C&&t(5,c=C.localState),"instance"in C&&t(1,d=C.instance),"destroyHandler"in C&&t(6,u=C.destroyHandler)},n.$$.update=()=>{n.$$.dirty&129&&t(3,i=!(t(7,o=a.color)===null||o===void 0)&&o.isDark()?"#fff":"#000"),n.$$.dirty&257&&t(2,r=te((t(8,s=a.color)===null||s===void 0?void 0:s.toHex())||"#fff").alpha(.3))},[a,d,r,i,l,c,u,o,s,m,p,h,_,y,g,b,w,I]}class Um extends Ie{constructor(e){super(),ye(this,e,Vm,jm,ve,{cdbData:0,localState:5,instance:1,destroyHandler:6})}}function Vs(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="cdb--icon svelte-l7dk09" aria-hidden="true">Canvas.x</i>',f(e,"class","Button Button--small aspect-square mt-0 grow-0 svelte-l7dk09"),f(e,"title","Remove image")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[22]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function Us(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h;const _=[Gm,Wm],y=[];function g(L,E){return L[4].icon?1:0}i=g(n),r=y[i]=_[i](n);let b=n[4].icon&&Ws(n);function w(L){n[25](L)}let I={label:"Background Colour",id:ke()+"-setting-background",contrastColour:"Light/Dark",style:"wide",showNone:!0,asModal:n[0]};n[4].color!==void 0&&(I.colour=n[4].color),a=new Ht({props:I}),ce.push(()=>Me(a,"colour",w));let C=!n[9]&&Gs(n);return{c(){e=k("div"),t=k("button"),r.c(),o=Y(`

          Select Icon`),s=A(),b&&b.c(),l=A(),le(a.$$.fragment),d=A(),C&&C.c(),u=Pe(),f(t,"class","Button Button--small mt-0 grow svelte-l7dk09"),f(e,"class","flex gap-2")},m(L,E){D(L,e,E),v(e,t),y[i].m(t,null),v(t,o),v(e,s),b&&b.m(e,null),D(L,l,E),ie(a,L,E),D(L,d,E),C&&C.m(L,E),D(L,u,E),m=!0,p||(h=q(t,"click",n[23]),p=!0)},p(L,E){let T=i;i=g(L),i===T?y[i].p(L,E):(oe(),H(y[T],1,1,()=>{y[T]=null}),se(),r=y[i],r?r.p(L,E):(r=y[i]=_[i](L),r.c()),B(r,1),r.m(t,o)),L[4].icon?b?b.p(L,E):(b=Ws(L),b.c(),b.m(e,null)):b&&(b.d(1),b=null);const O={};E[0]&1&&(O.asModal=L[0]),!c&&E[0]&16&&(c=!0,O.colour=L[4].color,De(()=>c=!1)),a.$set(O),L[9]?C&&(oe(),H(C,1,1,()=>{C=null}),se()):C?(C.p(L,E),E[0]&512&&B(C,1)):(C=Gs(L),C.c(),B(C,1),C.m(u.parentNode,u))},i(L){m||(B(r),B(a.$$.fragment,L),B(C),m=!0)},o(L){H(r),H(a.$$.fragment,L),H(C),m=!1},d(L){L&&(S(e),S(l),S(d),S(u)),y[i].d(),b&&b.d(),re(a,L),C&&C.d(L),p=!1,h()}}}function Wm(n){let e,t;return e=new et({props:{icon:n[4].icon,colorOverride:"#000"}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r[0]&16&&(o.icon=i[4].icon),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function Gm(n){let e;return{c(){e=k("i"),e.textContent="Canvas.button-and-icon-maker",f(e,"class","cdb--icon svelte-l7dk09"),f(e,"aria-hidden","true")},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function Ws(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="cdb--icon svelte-l7dk09" aria-hidden="true">Canvas.x</i>',f(e,"class","Button Button--small aspect-square mt-0 grow-0 svelte-l7dk09"),f(e,"title","Remove icon")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[24]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function Gs(n){let e,t,i,r,o,s,l;function a(u,m){var p;return m[0]&16&&(o=null),o==null&&(o=!!((p=u[4].color)!=null&&p.isLight())),o?Ym:Xm}let c=a(n,[-1,-1]),d=c(n);return{c(){e=k("div"),t=k("p"),i=k("span"),i.textContent="Warning:",r=Y(` The text in this button may
            be hard to read for some students. `),d.c(),f(i,"class","font-bold"),f(t,"class","alert-details svelte-l7dk09"),f(e,"class","colour-alert svelte-l7dk09")},m(u,m){D(u,e,m),v(e,t),v(t,i),v(t,r),d.m(t,null),l=!0},p(u,m){c!==(c=a(u,m))&&(d.d(1),d=c(u),d&&(d.c(),d.m(t,null)))},i(u){l||(he(()=>{l&&(s||(s=Ce(e,He,{},!0)),s.run(1))}),l=!0)},o(u){s||(s=Ce(e,He,{},!1)),s.run(0),l=!1},d(u){u&&S(e),d.d(),u&&s&&s.end()}}}function Xm(n){let e;return{c(){e=Y(`Consider using a lighter colour to improve contrast against the
              dark text.`)},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function Ym(n){let e;return{c(){e=Y(`Consider using a darker colour to improve contrast against the
              light text.`)},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function Km(n){let e,t,i,r,o,s,l,a,c,d,u,m;function p(_){n[35](_)}let h={labelKey:"title",idKey:"id",showEdit:!0};return n[4].links!==void 0&&(h.items=n[4].links),a=new ni({props:h}),ce.push(()=>Me(a,"items",p)),a.$on("edit",n[36]),{c(){e=k("div"),t=k("div"),i=k("input"),r=A(),o=k("button"),o.innerHTML='<i class="icon-plus svelte-l7dk09" aria-hidden="true"></i>',s=A(),l=k("div"),le(a.$$.fragment),i.required=n[7],f(i,"type","text"),f(i,"placeholder","Link title..."),f(i,"class","svelte-l7dk09"),f(o,"class","Button Button--small svelte-l7dk09"),f(o,"title","Add link"),f(t,"class","manageActions svelte-l7dk09"),f(l,"class","linkList svelte-l7dk09"),f(e,"class","manageLinks svelte-l7dk09")},m(_,y){D(_,e,y),v(e,t),v(t,i),n[33](i),v(t,r),v(t,o),v(e,s),v(e,l),ie(a,l,null),d=!0,u||(m=[q(i,"keydown",n[34]),q(o,"click",n[13])],u=!0)},p(_,y){(!d||y[0]&128)&&(i.required=_[7]);const g={};!c&&y[0]&16&&(c=!0,g.items=_[4].links,De(()=>c=!1)),a.$set(g)},i(_){d||(B(a.$$.fragment,_),d=!0)},o(_){H(a.$$.fragment,_),d=!1},d(_){_&&S(e),n[33](null),re(a),u=!1,pe(m)}}}function Qm(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C,L,E,T,O,M,P,F,V;function X($,Z){return $[4].theme===Le.Modern?Jm:Zm}let R=X(n),N=R(n);_=new ti({props:{id:"linkUrl-"+n[1],link:n[4].links[n[8]].url,text:n[4].links[n[8]].title}}),_.$on("save",n[29]);const W=[xm,$m],Q=[];function G($,Z){return $[4].links[$[8]].icon?1:0}w=G(n),I=Q[w]=W[w](n);let ae=n[4].links[n[8]].icon&&Xs(n);return{c(){e=k("div"),t=k("div"),i=k("button"),i.innerHTML=`Done
            <i class="icon-solid icon-check pl-1 svelte-l7dk09" aria-hidden="true"></i>`,r=A(),o=k("div"),s=k("label"),l=Y("Title"),c=A(),N.c(),d=A(),u=k("label"),m=Y("URL"),h=A(),le(_.$$.fragment),y=A(),g=k("div"),b=k("button"),I.c(),C=Y(`

              Select Icon`),L=A(),ae&&ae.c(),E=A(),T=k("label"),O=k("input"),M=Y(`
            Open in new tab`),f(i,"title","Finish editing link"),f(i,"class","svelte-l7dk09"),f(t,"class","editActions svelte-l7dk09"),f(s,"for",a="linkTitle-"+n[1]),f(s,"class","svelte-l7dk09"),f(u,"for",p="linkUrl-"+n[1]),f(u,"class","svelte-l7dk09"),f(b,"class","Button Button--small mt-0 grow svelte-l7dk09"),f(g,"class","flex gap-2 mt-2"),f(O,"type","checkbox"),f(O,"id","newTab"),f(O,"class","svelte-l7dk09"),f(T,"for","newTab"),f(T,"class","checkbox mt-2 svelte-l7dk09"),f(o,"class","linkOptions svelte-l7dk09"),f(e,"class","editLink svelte-l7dk09")},m($,Z){D($,e,Z),v(e,t),v(t,i),v(e,r),v(e,o),v(o,s),v(s,l),v(o,c),N.m(o,null),v(o,d),v(o,u),v(u,m),v(o,h),ie(_,o,null),v(o,y),v(o,g),v(g,b),Q[w].m(b,null),v(b,C),v(g,L),ae&&ae.m(g,null),v(o,E),v(o,T),v(T,O),O.checked=n[11][n[8]],v(T,M),P=!0,F||(V=[q(i,"click",_t(n[26])),q(b,"click",n[30]),q(O,"change",n[32])],F=!0)},p($,Z){(!P||Z[0]&2&&a!==(a="linkTitle-"+$[1]))&&f(s,"for",a),R===(R=X($))&&N?N.p($,Z):(N.d(1),N=R($),N&&(N.c(),N.m(o,d))),(!P||Z[0]&2&&p!==(p="linkUrl-"+$[1]))&&f(u,"for",p);const ne={};Z[0]&2&&(ne.id="linkUrl-"+$[1]),Z[0]&272&&(ne.link=$[4].links[$[8]].url),Z[0]&272&&(ne.text=$[4].links[$[8]].title),_.$set(ne);let me=w;w=G($),w===me?Q[w].p($,Z):(oe(),H(Q[me],1,1,()=>{Q[me]=null}),se(),I=Q[w],I?I.p($,Z):(I=Q[w]=W[w]($),I.c()),B(I,1),I.m(b,C)),$[4].links[$[8]].icon?ae?ae.p($,Z):(ae=Xs($),ae.c(),ae.m(g,null)):ae&&(ae.d(1),ae=null),Z[0]&2304&&(O.checked=$[11][$[8]])},i($){P||(B(_.$$.fragment,$),B(I),P=!0)},o($){H(_.$$.fragment,$),H(I),P=!1},d($){$&&S(e),N.d(),re(_),Q[w].d(),ae&&ae.d(),F=!1,pe(V)}}}function Zm(n){let e,t,i,r;return{c(){e=k("input"),f(e,"id",t="linkTitle-"+n[1]),f(e,"type","text"),f(e,"class","svelte-l7dk09")},m(o,s){D(o,e,s),de(e,n[4].links[n[8]].title),i||(r=q(e,"input",n[28]),i=!0)},p(o,s){s[0]&2&&t!==(t="linkTitle-"+o[1])&&f(e,"id",t),s[0]&272&&e.value!==o[4].links[o[8]].title&&de(e,o[4].links[o[8]].title)},d(o){o&&S(e),i=!1,r()}}}function Jm(n){let e,t,i,r,o;return{c(){e=k("textarea"),f(e,"id",t="linkTitle-"+n[1]),f(e,"rows",i=n[4].links[n[8]].title.split(`
`).length>1?2:1)},m(s,l){D(s,e,l),de(e,n[4].links[n[8]].title),r||(o=[q(e,"input",n[27]),q(e,"input",th)],r=!0)},p(s,l){l[0]&2&&t!==(t="linkTitle-"+s[1])&&f(e,"id",t),l[0]&272&&i!==(i=s[4].links[s[8]].title.split(`
`).length>1?2:1)&&f(e,"rows",i),l[0]&272&&de(e,s[4].links[s[8]].title)},d(s){s&&S(e),r=!1,pe(o)}}}function $m(n){let e,t;return e=new et({props:{icon:n[4].links[n[8]].icon,colorOverride:"#000"}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r[0]&272&&(o.icon=i[4].links[i[8]].icon),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function xm(n){let e;return{c(){e=k("i"),e.textContent="Canvas.button-and-icon-maker",f(e,"class","cdb--icon svelte-l7dk09"),f(e,"aria-hidden","true")},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function Xs(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="cdb--icon svelte-l7dk09" aria-hidden="true">Canvas.x</i>',f(e,"class","Button Button--small aspect-square mt-0 grow-0 svelte-l7dk09"),f(e,"title","Remove icon")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[31]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function eh(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C,L,E,T;function O(Q){n[20](Q)}let M={title:"Header Theme",choices:ea,labels:Object.keys(Le)};n[4].theme!==void 0&&(M.value=n[4].theme),s=new Lt({props:M}),ce.push(()=>Me(s,"value",O));function P(Q){n[21](Q)}let F={title:"Header Level",choices:ta,labels:Object.keys(fn)};n[4].level!==void 0&&(F.value=n[4].level),d=new Lt({props:F}),ce.push(()=>Me(d,"value",P));let V=n[4].image&&Vs(n),X=n[4].theme===Le.Modern&&Us(n);const R=[Qm,Km],N=[];function W(Q,G){return Q[8]!==void 0?0:1}return w=W(n),I=N[w]=R[w](n),{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="icon-end svelte-l7dk09"></i>',i=A(),r=k("div"),o=k("div"),le(s.$$.fragment),a=A(),c=k("div"),le(d.$$.fragment),m=A(),p=k("div"),h=k("button"),h.innerHTML=`<i class="cdb--icon svelte-l7dk09" aria-hidden="true">Canvas.image</i>

        Select image`,_=A(),V&&V.c(),y=A(),X&&X.c(),g=A(),b=k("div"),I.c(),f(t,"class","close svelte-l7dk09"),f(t,"title","Close"),f(h,"class","Button Button--block Button--small svelte-l7dk09"),f(p,"class","flex gap-2"),f(r,"class","col svelte-l7dk09"),f(b,"class","col svelte-l7dk09"),f(e,"class","cgb-component svelte-l7dk09")},m(Q,G){D(Q,e,G),v(e,t),v(e,i),v(e,r),v(r,o),ie(s,o,null),v(r,a),v(r,c),ie(d,c,null),v(r,m),v(r,p),v(p,h),v(p,_),V&&V.m(p,null),v(r,y),X&&X.m(r,null),v(e,g),v(e,b),N[w].m(b,null),n[37](e),L=!0,E||(T=[q(t,"click",n[19]),q(h,"click",n[12])],E=!0)},p(Q,G){const ae={};!l&&G[0]&16&&(l=!0,ae.value=Q[4].theme,De(()=>l=!1)),s.$set(ae);const $={};!u&&G[0]&16&&(u=!0,$.value=Q[4].level,De(()=>u=!1)),d.$set($),Q[4].image?V?V.p(Q,G):(V=Vs(Q),V.c(),V.m(p,null)):V&&(V.d(1),V=null),Q[4].theme===Le.Modern?X?(X.p(Q,G),G[0]&16&&B(X,1)):(X=Us(Q),X.c(),B(X,1),X.m(r,null)):X&&(oe(),H(X,1,1,()=>{X=null}),se());let Z=w;w=W(Q),w===Z?N[w].p(Q,G):(oe(),H(N[Z],1,1,()=>{N[Z]=null}),se(),I=N[w],I?I.p(Q,G):(I=N[w]=R[w](Q),I.c()),B(I,1),I.m(b,null))},i(Q){L||(B(s.$$.fragment,Q),B(d.$$.fragment,Q),B(X),B(I),C||he(()=>{C=Xe(e,Se,{duration:200}),C.start()}),L=!0)},o(Q){H(s.$$.fragment,Q),H(d.$$.fragment,Q),H(X),H(I),L=!1},d(Q){Q&&S(e),re(s),re(d),V&&V.d(),X&&X.d(),N[w].d(),n[37](null),E=!1,pe(T)}}}const th=n=>{n.target&&n.target.value.split(`
`).length>2&&(n.target.value=n.target.value.split(`
`).slice(0,2).join(`
`))};function nh(n,e,t){let i,r,o,s,l,a,c=z,d=()=>(c(),c=Be(r,J=>t(4,a=J)),r),u,m=z,p=()=>(m(),m=Be(s,J=>t(11,u=J)),s);n.$$.on_destroy.push(()=>c()),n.$$.on_destroy.push(()=>m());var h,_;let{props:y}=e,{isModal:g=!1}=e,b,w;const I=()=>{const J=new sr(or,i.editor,{title:"Select Image",buttons:[{type:"cancel",text:"Cancel"}]},{});J.open().$on("selectImage",({detail:fe})=>{_e(r,a.image=fe,a),J.close()})};let C=!1;const L=()=>{if(!w.value){t(7,C=!0);return}_e(r,a.links=[...a.links,{id:ke(),title:w==null?void 0:w.value,url:"#"}],a),t(6,w.value="",w),t(7,C=!1)};let E;const T=new $t({target:document.body,props:{options:{editColor:!0}}});T.$on("selectIcon",({detail:J})=>{T.close(),_e(r,a.icon={id:J.icon.i,color:J.color,type:J.type},a)}),Ue(()=>{T.$destroy()});const O=new $t({target:document.body,props:{options:{editColor:!1}}});O.$on("selectIcon",({detail:J})=>{O.close(),!(o===void 0||!a.links[o])&&_e(r,a.links[o].icon={id:J.icon.i,type:J.type},a)}),Ue(()=>{O.$destroy()});const M=()=>{i.deselectAll()};function P(J){n.$$.not_equal(a.theme,J)&&(a.theme=J,r.set(a))}function F(J){n.$$.not_equal(a.level,J)&&(a.level=J,r.set(a))}const V=()=>{_e(r,a.image="",a)},X=()=>{T.open()},R=()=>{_e(r,a.icon=void 0,a)};function N(J){n.$$.not_equal(a.color,J)&&(a.color=J,r.set(a))}const W=()=>{t(1,E=void 0)};function Q(){a.links[o].title=this.value,r.set(a)}function G(){a.links[o].title=this.value,r.set(a)}const ae=({detail:J})=>{o!==void 0&&(_e(r,a.links[o].url=J.link,a),J.text!==void 0&&_e(r,a.links[o].title=J.text,a))},$=()=>{O.open()},Z=()=>{_e(r,a.links[o].icon=void 0,a)};function ne(){u[o]=this.checked,s.set(u)}function me(J){ce[J?"unshift":"push"](()=>{w=J,t(6,w)})}const U=J=>{J.key==="Enter"&&L()};function Oe(J){n.$$.not_equal(a.links,J)&&(a.links=J,r.set(a))}const x=J=>{t(1,E=J.detail)};function j(J){ce[J?"unshift":"push"](()=>{b=J,t(5,b)})}return n.$$set=J=>{"props"in J&&t(16,y=J.props),"isModal"in J&&t(0,g=J.isModal)},n.$$.update=()=>{n.$$.dirty[0]&65536&&t(3,i=y.courseHeader),n.$$.dirty[0]&8&&d(t(2,r=i.SvelteState)),n.$$.dirty[0]&4&&p(t(10,s=ei(r,J=>J.links.map(Ae=>Ae.target!=="_self"),(J,Ae)=>(Ae.links=Ae.links.map((fe,Te)=>(J[Te]||(fe.target="_self"),J[Te]&&fe.target!=="_blank"&&(fe.target="_blank"),fe)),Ae)))),n.$$.dirty[0]&18&&t(8,o=E?a.links.findIndex(J=>J.id===E):void 0),n.$$.dirty[0]&393232&&t(9,l=!a.color||(!(t(17,h=a.color)===null||h===void 0)&&h.isDark()?a.color.isReadable("#fff",{level:"AAA"}):t(18,_=a.color)===null||_===void 0?void 0:_.isReadable("#000",{level:"AAA"})))},[g,E,r,i,a,b,w,C,o,l,s,u,I,L,T,O,y,h,_,M,P,F,V,X,R,N,W,Q,G,ae,$,Z,ne,me,U,Oe,x,j]}class ih extends Ie{constructor(e){super(),ye(this,e,nh,eh,ve,{props:16,isModal:0},null,[-1,-1])}}var Le=(n=>(n.Light="HeaderTheme-light",n.Dark="HeaderTheme-dark",n.Blur="HeaderTheme-blur",n.Modern="HeaderTheme-modern",n))(Le||{}),fn=(n=>(n.h2="h2",n.h3="h3",n.h4="h4",n))(fn||{});const ea=Object.values(Le),bi="HeaderTheme-modern",ta=Object.values(fn),vi="h2",yt=class yt{constructor(e,t){var c,d,u;this.state=we(),this.set=this.state.set,this.update=this.state.update,this.subscribe=this.state.subscribe;let i=ea.includes(e==null?void 0:e.theme)?e==null?void 0:e.theme:bi,r=ta.includes(e==null?void 0:e.level)?e==null?void 0:e.level:vi;const o=t==null?void 0:t.querySelector("img.headerImage"),s=t==null?void 0:t.querySelectorAll(".headerLinks > a");let l={title:(e==null?void 0:e.title)||yt.defaultState.title,overview:"",image:(o==null?void 0:o.src)||yt.defaultState.image,links:((c=e==null?void 0:e.links)==null?void 0:c.map((m,p)=>{var y;const h=((y=s==null?void 0:s[p])==null?void 0:y.href)||"";let _=Jt(m.icon);return{title:m.title||"",url:h,id:m.id||ke(),icon:_||void 0,target:m.target||void 0}}))||yt.defaultState.links,theme:i||bi,color:e!=null&&e.color?te(e==null?void 0:e.color):(d=yt.defaultState)==null?void 0:d.color,level:r||vi};l.overview=((u=t==null?void 0:t.querySelector(".headerOverview"))==null?void 0:u.innerHTML)||yt.defaultState.overview;let a=Jt(e==null?void 0:e.icon);a&&(l.icon=a),this.state.set(l)}get stateString(){const e=ue(this.state),{overview:t,color:i,links:r,...o}=e;return JSON.stringify({...o,color:(i==null?void 0:i.toHex())||void 0,links:r.map(({url:s,...l})=>({...l}))})}};yt.defaultState={title:"Course Header Title",overview:"<p>Welcome to this course! You can put any content you want here...</p>",image:"",links:[{title:"Link 1",url:"#",id:ke()},{title:"Link 2",url:"#",id:ke()}],color:void 0,theme:bi,level:vi};let Ai=yt;class rh extends bt{constructor(e,t=window.tinymce.activeEditor,i,r,o=ke(),s=!1){super(t,i,r,Um,Ai,o,s),this.state=e,this.editor=t,this.manager=i,this.node=r,this.id=o,this.attributes=new Map([]),this.defaultClasses=new Set(["CourseHeader"]),this.popover=this.setupPopover(ih,{courseHeader:this},"top",{shift:{crossAxis:!0}}),this.isSelected.subscribe(l=>{l?!this.popover.isActive&&this.popover.show():this.popover.isActive&&this.popover.hide()}),this.setupObserver()}static import(e,t,i,r){return new this(e,r,i,t)}static create(e,t,i,r,o){const s=this.createInsertNode(i,r);return new this(e,r,t,s)}}const oh='.CourseHeader[data-cdb-version] .headerLinks{flex-wrap:wrap;justify-content:flex-start;gap:1rem;display:flex}.CourseHeader[data-cdb-version] .headerLinks a:not(.headerLink){display:none}.CourseHeader[data-cdb-version] .headerLinks .headerLink{background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity:.6;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));border-radius:.375rem;padding:.5rem 1rem;font-size:1.125rem;line-height:1.75rem;text-decoration:none!important}.CourseHeader[data-cdb-version] .headerInner{box-sizing:border-box;--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1),0 0px 4px -2px rgba(0,0,0,.31);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color),0 0px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);background-position:50%;background-size:cover;border-radius:.375rem;width:100%;padding:1rem;position:relative;overflow:clip}.CourseHeader[data-cdb-version] .headerInner .imageOverlay{z-index:10;content:"";border-radius:.375rem;position:absolute;top:0;bottom:0;left:0;right:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-dark{--tw-bg-opacity:1;background-color:rgba(64,64,64,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-dark .imageOverlay{background-image:linear-gradient(to bottom left,rgba(0,0,0,.3),rgba(0,0,0,.5))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-blur{--tw-bg-opacity:1;background-color:rgba(64,64,64,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-blur .imageOverlay{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur)var(--tw-backdrop-brightness)var(--tw-backdrop-contrast)var(--tw-backdrop-grayscale)var(--tw-backdrop-hue-rotate)var(--tw-backdrop-invert)var(--tw-backdrop-opacity)var(--tw-backdrop-saturate)var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur)var(--tw-backdrop-brightness)var(--tw-backdrop-contrast)var(--tw-backdrop-grayscale)var(--tw-backdrop-hue-rotate)var(--tw-backdrop-invert)var(--tw-backdrop-opacity)var(--tw-backdrop-saturate)var(--tw-backdrop-sepia);background-image:linear-gradient(to bottom left,rgba(0,0,0,.3),rgba(0,0,0,.5))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-light{--tw-bg-opacity:1;background-color:rgba(242,242,242,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-light .imageOverlay{background-image:linear-gradient(to bottom left,rgba(255,255,255,.7),rgba(255,255,255,.7))}.CourseHeader[data-cdb-version] .headerInner .overlay{z-index:20;position:relative}.CourseHeader[data-cdb-version] .headerInner .headerImage{z-index:0;-o-object-fit:cover;object-fit:cover;border-radius:.375rem;width:100%;height:100%;position:absolute;top:0;bottom:0;left:0;right:0}.CourseHeader[data-cdb-version] .headerInner .headerTitle{max-width:65ch;font-size:1.875rem;font-weight:700;line-height:2.25rem}.CourseHeader[data-cdb-version] .headerInner .headerOverview{max-width:65ch;font-size:1rem;line-height:1.5rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern{z-index:10;--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity));grid-template-columns:auto minmax(17rem,1fr) 1fr;grid-template-areas:"icon content image""links links links";padding:0 0 0 2rem;display:grid}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage{grid-template-columns:auto 1fr;grid-template-areas:"icon content""links links";padding-right:2rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage .headerLinkTray{margin-right:-2rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .iconOverlay{z-index:-10;opacity:.05;--tw-translate-x:-33.3333%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));align-items:center;height:100%;font-size:14rem;display:flex;position:absolute;top:0;left:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .iconComponent{z-index:0;--icon-width:4.5rem;width:var(--icon-width);font-size:var(--icon-width);grid-area:icon;justify-content:center;align-items:center;margin-right:2rem;padding-top:2rem;padding-bottom:2rem;display:flex;position:relative}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent{z-index:-10;background-color:inherit;grid-area:image;position:relative;overflow:hidden}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .headerImage{z-index:-30;border-radius:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay,.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{transform-origin:100% 0;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:inherit;z-index:-10;--tw-rotate:-28.7deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));border-radius:0;width:20rem;height:200%;display:block;position:absolute;top:-1rem;left:auto;right:100%}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur{width:0;height:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{background-color:inherit;--tw-backdrop-blur:blur(4px);--tw-backdrop-saturate:saturate(1.5);-webkit-backdrop-filter:var(--tw-backdrop-blur)var(--tw-backdrop-brightness)var(--tw-backdrop-contrast)var(--tw-backdrop-grayscale)var(--tw-backdrop-hue-rotate)var(--tw-backdrop-invert)var(--tw-backdrop-opacity)var(--tw-backdrop-saturate)var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur)var(--tw-backdrop-brightness)var(--tw-backdrop-contrast)var(--tw-backdrop-grayscale)var(--tw-backdrop-hue-rotate)var(--tw-backdrop-invert)var(--tw-backdrop-opacity)var(--tw-backdrop-saturate)var(--tw-backdrop-sepia);z-index:-20;--tw-translate-x:4rem;--tw-translate-y:-2.5rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));content:" ";width:6rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay{z-index:0;flex-direction:column;grid-area:content;justify-content:center;gap:.75rem;padding-top:2rem;padding-bottom:2rem;display:flex}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay .headerTitle{margin-top:0;margin-bottom:0;line-height:1;color:inherit!important}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay .headerOverview{max-width:none;line-height:1}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay p:first-child{margin-top:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay p:last-child{margin-bottom:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay p{color:inherit!important}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay .headerLinks{margin-top:.25rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray{--tw-bg-opacity:1;background-color:rgba(242,242,242,var(--tw-bg-opacity));color:rgba(2,132,199,var(--tw-text-opacity));border-style:solid;border-width:1px 0 0;border-color:rgba(0,0,0,var(--tw-border-opacity));--tw-border-opacity:.1;--tw-text-opacity:1;flex-wrap:wrap;grid-area:links;justify-content:flex-start;gap:1.5rem;min-height:1.75rem;margin-left:-2rem;padding:.5rem .75rem;display:flex}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray .headerLink{background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity:.6;background-color:transparent;border-radius:0;align-items:center;gap:.5rem;margin:0;padding:0;font-size:1rem;line-height:1.25;display:flex;position:relative;color:inherit!important;text-decoration:none!important}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray .headerLink:after{--tw-bg-opacity:1;background-color:rgba(217,217,217,var(--tw-bg-opacity));content:" ";width:1px;height:calc(100% - .25rem);position:absolute;top:.125rem;right:-.75rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray .headerLink:last-child:after{display:none}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray .headerLink:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray .headerLink :global(.cdb--icon){font-size:1.125rem;line-height:1.75rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.hasColor .headerLinks.headerLinkTray{border-color:rgba(0,0,0,var(--tw-border-opacity));--tw-border-opacity:.2;--tw-bg-opacity:.3}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.hasColor .headerLinks.headerLinkTray .headerLink:after{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));opacity:.25}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.isDark .headerLinks.headerLinkTray{background-color:rgba(31,41,55,var(--tw-bg-opacity));--tw-bg-opacity:.3;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.isDark .headerLinks.headerLinkTray .headerLink{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.isDark .headerLinks.headerLinkTray .headerLink:after{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));opacity:.4}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern{grid-template-columns:auto auto 0;gap:0;padding-left:.75rem}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .overlay{background-color:transparent;margin-right:4rem;padding-top:1.5rem;padding-bottom:1.5rem}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .iconOverlay{display:none}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .iconComponent{--icon-width:3rem;align-items:flex-start;margin-right:.75rem;padding-top:1.5rem;padding-bottom:1.5rem}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .imageComponent{grid-area:none;width:7rem;height:7rem;max-height:100%;position:absolute;top:0;right:0}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .imageComponent .imageOverlay,.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{--tw-rotate:-45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{--tw-translate-x:.75rem;--tw-translate-y:-.75rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern.noImage{grid-template-columns:auto 1fr;grid-template-areas:"icon content""links links";padding-right:1rem}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern.noImage .overlay{margin-right:0}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern.noImage .headerLinks.headerLinkTray{margin-right:-1rem}.CourseHeaderMobileLayout .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray{margin-left:-.75rem}@container (width<=540px){.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern{grid-template-columns:auto auto 0;gap:0;padding-left:.75rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay{background-color:transparent;margin-right:4rem;padding-top:1.5rem;padding-bottom:1.5rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .iconOverlay{display:none}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .iconComponent{--icon-width:3rem;align-items:flex-start;margin-right:.75rem;padding-top:1.5rem;padding-bottom:1.5rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent{grid-area:none;width:7rem;height:7rem;max-height:100%;position:absolute;top:0;right:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay,.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{--tw-rotate:-45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{--tw-translate-x:.75rem;--tw-translate-y:-.75rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage{grid-template-columns:auto 1fr;grid-template-areas:"icon content""links links";padding-right:1rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage .overlay{margin-right:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage .headerLinks.headerLinkTray{margin-right:-1rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray{margin-left:-.75rem}}@media (max-width:400px){.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern{grid-template-columns:auto auto 0;gap:0;padding-left:.75rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .overlay{background-color:transparent;margin-right:4rem;padding-top:1.5rem;padding-bottom:1.5rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .iconOverlay{display:none}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .iconComponent{--icon-width:3rem;align-items:flex-start;margin-right:.75rem;padding-top:1.5rem;padding-bottom:1.5rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent{grid-area:none;width:7rem;height:7rem;max-height:100%;position:absolute;top:0;right:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay,.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{--tw-rotate:-45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .imageComponent .imageOverlay--blur:after{--tw-translate-x:.75rem;--tw-translate-y:-.75rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage{grid-template-columns:auto 1fr;grid-template-areas:"icon content""links links";padding-right:1rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage .overlay{margin-right:0}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern.noImage .headerLinks.headerLinkTray{margin-right:-1rem}.CourseHeader[data-cdb-version] .headerInner.HeaderTheme-modern .headerLinks.headerLinkTray{margin-left:-.75rem}}';class sh extends Ot{constructor(e,t=window.tinymce.activeEditor){super(e,t,oh),this.state=e,this.editor=t,this.selector=".CourseHeader[data-cdb-version]",this.elementClass=rh,this.elementName="Header",this.icon="Canvas.header",this.importAll()}}class lh{constructor(e,t=window.tinymce.activeEditor,i){this.state=e,this.editor=t,this.newManager=i,this.selector=".ImageCardRow[data-cdb-version]",this.detached=!1,this.document=t.getDoc(),this.importAll()}findAll(e=!1){const t=this.editor.dom.getRoot();return Array.from(t.querySelectorAll(this.selector)).filter(i=>e?!0:!i.closest("[data-mce-bogus]"))}importAll(){this.detached||this.findAll().forEach(e=>{const t=this.document.createElement("div");t.classList.add("ImageCards"),t.dataset.cdbId=e.dataset.cdbId,t.dataset.cdbVersion=e.dataset.cdbVersion;const i=this.document.createElement("div");i.classList.add("cdbData"),t.appendChild(i);const r=[...e.classList].find(d=>d.startsWith("imageCardSize")),o=ar.includes(r)?r:Bn,s=[...e.classList].find(d=>d.startsWith("imageCardTheme")),l=lr.includes(s)?s:Ln,a={size:o,theme:l,cards:[]};e.querySelectorAll("a.ImageCard").forEach(d=>{var h,_;const m=(h=d.style.backgroundImage.match(/url\((['"]?)([^'")]*)\1\)/))==null?void 0:h[2],p={label:((_=d.querySelector("span.ImageCardLabel"))==null?void 0:_.innerText)||"",link:d.getAttribute("href")||"#",image:m||"",id:d.dataset.cdbId||ke()};a.cards.push(p)}),i.innerText=JSON.stringify(a),e.insertAdjacentElement("afterend",t);const c=this.newManager.elementClass.import(this.state,t,this.newManager,this.editor);this.newManager.add(c),e.remove()})}detatch(){this.detached=!0}}function Ys(n,e,t){const i=n.slice();i[7]=e[t],i[10]=t;const r=i[1][i[10]];return i[8]=r,i}function ah(n){let e;return{c(){e=k("p"),e.textContent="No buttons are visible. Try adding some by clicking here!",f(e,"class","no-published")},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function ch(n){let e;return{c(){e=k("p"),e.textContent=`The module you are currently on is hidden. Try making it visible or adding
      some buttons here.`,f(e,"class","no-published")},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function dh(n){let e,t,i,r=be(n[3]),o=[];for(let l=0;l<r.length;l+=1)o[l]=Ks(Ys(n,r,l));const s=l=>H(o[l],1,1,()=>{o[l]=null});return{c(){var l;e=k("div");for(let a=0;a<o.length;a+=1)o[a].c();f(e,"class",t="buttonBar buttonBar--"+n[0].theme),K(e,"buttonBar--overflowing",n[1].length>5),ee(e,"background-color",n[0].theme===Ee.Simple?(l=n[0].color)==null?void 0:l.toHex():void 0),ee(e,"color",n[0].theme===Ee.Simple?"#fff":void 0)},m(l,a){D(l,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);i=!0},p(l,a){var c;if(a&15){r=be(l[3]);let d;for(d=0;d<r.length;d+=1){const u=Ys(l,r,d);o[d]?(o[d].p(u,a),B(o[d],1)):(o[d]=Ks(u),o[d].c(),B(o[d],1),o[d].m(e,null))}for(oe(),d=r.length;d<o.length;d+=1)s(d);se()}(!i||a&1&&t!==(t="buttonBar buttonBar--"+l[0].theme))&&f(e,"class",t),(!i||a&3)&&K(e,"buttonBar--overflowing",l[1].length>5),a&1&&ee(e,"background-color",l[0].theme===Ee.Simple?(c=l[0].color)==null?void 0:c.toHex():void 0),a&1&&ee(e,"color",l[0].theme===Ee.Simple?"#fff":void 0)},i(l){if(!i){for(let a=0;a<r.length;a+=1)B(o[a]);i=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)H(o[a]);i=!1},d(l){l&&S(e),qe(o,l)}}}function uh(n){let e,t;return e=new et({props:{icon:{type:ot.Line,id:nr("module",ot.Line)},colorOverride:n[10]<=n[2]||n[0].theme!==Ee.Progress?"#fff":"#000"}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&5&&(o.colorOverride=i[10]<=i[2]||i[0].theme!==Ee.Progress?"#fff":"#000"),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function fh(n){let e,t;return e=new et({props:{icon:n[8].icon,colorOverride:n[10]<=n[2]||n[0].theme!==Ee.Progress?"#fff":"#000"}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&2&&(o.icon=i[8].icon),r&5&&(o.colorOverride=i[10]<=i[2]||i[0].theme!==Ee.Progress?"#fff":"#000"),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function Ks(n){let e,t,i,r,o,s,l,a,c=n[8].label+"",d,u,m,p,h;const _=[fh,uh],y=[];function g(b,w){return b[8].icon?0:1}return o=g(n),s=y[o]=_[o](n),{c(){var b;e=k("a"),t=k("span"),i=k("span"),r=k("span"),s.c(),l=A(),a=k("span"),d=Y(c),u=A(),f(r,"class","Module--icon"),f(a,"class","Module--label"),f(i,"class","Module--info"),f(t,"class","buttonBar--label"),ee(t,"color",n[10]<=n[2]||n[0].theme!==Ee.Progress?"#fff":void 0),f(e,"href",m=n[8].url),f(e,"class","buttonBar--step"),f(e,"title",p=n[8].label),K(e,"moduleProgress--before",n[0].theme===Ee.Progress&&n[10]<n[2]),K(e,"moduleProgress--after",n[0].theme===Ee.Progress&&n[10]>n[2]),K(e,"moduleProgress--current",n[10]===n[2]&&n[0].theme===Ee.Progress),ee(e,"background-color",n[10]<=n[2]||n[0].theme!==Ee.Progress?(b=n[0].color)==null?void 0:b.toHex():void 0),ee(e,"color",n[10]<=n[2]||n[0].theme!==Ee.Progress?"#fff":"#000")},m(b,w){D(b,e,w),v(e,t),v(t,i),v(i,r),y[o].m(r,null),v(i,l),v(i,a),v(a,d),v(e,u),h=!0},p(b,w){var C;let I=o;o=g(b),o===I?y[o].p(b,w):(oe(),H(y[I],1,1,()=>{y[I]=null}),se(),s=y[o],s?s.p(b,w):(s=y[o]=_[o](b),s.c()),B(s,1),s.m(r,null)),(!h||w&2)&&c!==(c=b[8].label+"")&&ge(d,c),w&5&&ee(t,"color",b[10]<=b[2]||b[0].theme!==Ee.Progress?"#fff":void 0),(!h||w&2&&m!==(m=b[8].url))&&f(e,"href",m),(!h||w&2&&p!==(p=b[8].label))&&f(e,"title",p),(!h||w&5)&&K(e,"moduleProgress--before",b[0].theme===Ee.Progress&&b[10]<b[2]),(!h||w&5)&&K(e,"moduleProgress--after",b[0].theme===Ee.Progress&&b[10]>b[2]),(!h||w&5)&&K(e,"moduleProgress--current",b[10]===b[2]&&b[0].theme===Ee.Progress),w&5&&ee(e,"background-color",b[10]<=b[2]||b[0].theme!==Ee.Progress?(C=b[0].color)==null?void 0:C.toHex():void 0),w&5&&ee(e,"color",b[10]<=b[2]||b[0].theme!==Ee.Progress?"#fff":"#000")},i(b){h||(B(s),h=!0)},o(b){H(s),h=!1},d(b){b&&S(e),y[o].d()}}}function mh(n){let e,t,i,r;const o=[dh,ch,ah],s=[];function l(a,c){return a[2]!==void 0&&a[1].length>0?0:a[1].length>0?1:2}return t=l(n),i=s[t]=o[t](n),{c(){e=k("div"),i.c(),f(e,"class","DesignBlocks--ButtonBar")},m(a,c){D(a,e,c),s[t].m(e,null),r=!0},p(a,[c]){let d=t;t=l(a),t===d?s[t].p(a,c):(oe(),H(s[d],1,1,()=>{s[d]=null}),se(),i=s[t],i?i.p(a,c):(i=s[t]=o[t](a),i.c()),B(i,1),i.m(e,null))},i(a){r||(B(i),r=!0)},o(a){H(i),r=!1},d(a){a&&S(e),s[t].d()}}}function hh(n,e,t){let i,r;Re();let{cdbData:o}=e,{localState:s}=e,{destroyHandler:l}=e;Ue(()=>{l()});let a;return n.$$set=c=>{"cdbData"in c&&t(0,o=c.cdbData),"localState"in c&&t(4,s=c.localState),"destroyHandler"in c&&t(5,l=c.destroyHandler)},n.$$.update=()=>{n.$$.dirty&1&&t(1,i=o.items.filter(c=>c.hide!==!0)),n.$$.dirty&3&&(o.position!==void 0?t(2,a=i.findIndex(c=>c===o.items[o.position])):t(2,a=-1)),n.$$.dirty&2&&t(3,r=i.map((c,d)=>d/i.length))},[o,i,a,r,s,l]}let ph=class extends Ie{constructor(e){super(),ye(this,e,hh,mh,ve,{cdbData:0,localState:4,destroyHandler:5})}};const gh=n=>({itemIndex:n&64}),Qs=n=>({itemIndex:n[6]}),bh=n=>({}),Zs=n=>({});function Js(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="icon-plus" aria-hidden="true"></i>
        Add Card`,f(e,"class","Button Button--small")},m(r,o){D(r,e,o),t||(i=q(e,"click",n[14]),t=!0)},p:z,d(r){r&&S(e),t=!1,i()}}}function $s(n){let e;const t=n[10].default,i=Ke(t,n,n[9],Qs);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o&576)&&Ze(i,t,r,r[9],e?Qe(t,r[9],o,gh):Je(r[9]),Qs)},i(r){e||(B(i,r),e=!0)},o(r){H(i,r),e=!1},d(r){i&&i.d(r)}}}function vh(n){let e,t,i,r,o,s,l,a,c;const d=[{labelKey:"label"},{idKey:n[2]},{showEdit:!0},n[4],{activeId:n[1]},{canDelete:n[5]}];function u(g){n[11](g)}let m={};for(let g=0;g<d.length;g+=1)m=ln(m,d[g]);n[0]!==void 0&&(m.items=n[0]),i=new ni({props:m}),ce.push(()=>Me(i,"items",u)),i.$on("edit",n[12]),i.$on("delete",n[13]);let p=n[3]&&Js(n);const h=n[10].header,_=Ke(h,n,n[9],Zs);let y=n[6]!==void 0&&$s(n);return{c(){e=k("div"),t=k("div"),le(i.$$.fragment),o=A(),p&&p.c(),s=A(),l=k("div"),_&&_.c(),a=A(),y&&y.c(),f(t,"class","col svelte-1efwbyl"),f(l,"class","col col-contents svelte-1efwbyl"),f(e,"class","itemGrid svelte-1efwbyl")},m(g,b){D(g,e,b),v(e,t),ie(i,t,null),v(t,o),p&&p.m(t,null),v(e,s),v(e,l),_&&_.m(l,null),v(l,a),y&&y.m(l,null),c=!0},p(g,[b]){const w=b&54?bl(d,[d[0],b&4&&{idKey:g[2]},d[2],b&16&&vl(g[4]),b&2&&{activeId:g[1]},b&32&&{canDelete:g[5]}]):{};!r&&b&1&&(r=!0,w.items=g[0],De(()=>r=!1)),i.$set(w),g[3]?p?p.p(g,b):(p=Js(g),p.c(),p.m(t,null)):p&&(p.d(1),p=null),_&&_.p&&(!c||b&512)&&Ze(_,h,g,g[9],c?Qe(h,g[9],b,bh):Je(g[9]),Zs),g[6]!==void 0?y?(y.p(g,b),b&64&&B(y,1)):(y=$s(g),y.c(),B(y,1),y.m(l,null)):y&&(oe(),H(y,1,1,()=>{y=null}),se())},i(g){c||(B(i.$$.fragment,g),B(_,g),B(y),c=!0)},o(g){H(i.$$.fragment,g),H(_,g),H(y),c=!1},d(g){g&&S(e),re(i),p&&p.d(),_&&_.d(g),y&&y.d()}}}function _h(n,e,t){let i,r,{$$slots:o={},$$scope:s}=e,{items:l=[]}=e,{idKey:a="id"}=e,{addDefaults:c=!1}=e,{OrderableListOptions:d}=e,{selectedId:u=null}=e;const m=Re(),p=()=>{l.push({...c,[a]:ke()}),t(1,u=l[l.length-1].id),t(0,l)};function h(b){l=b,t(0,l)}const _=({detail:b})=>{m("edit",b),t(1,u=b)},y=({detail:b})=>{m("delete",b);const w=l.findIndex(I=>I[a]===b);u===b&&(w>0?t(1,u=l[w-1].moduleID):t(1,u=l[0].moduleID))},g=()=>p();return n.$$set=b=>{"items"in b&&t(0,l=b.items),"idKey"in b&&t(2,a=b.idKey),"addDefaults"in b&&t(3,c=b.addDefaults),"OrderableListOptions"in b&&t(4,d=b.OrderableListOptions),"selectedId"in b&&t(1,u=b.selectedId),"$$scope"in b&&t(9,s=b.$$scope)},n.$$.update=()=>{n.$$.dirty&7&&t(6,i=l.findIndex(b=>b[a]===u)),n.$$.dirty&17&&t(5,r=d.canDelete!==!1&&l.length>1)},[l,u,a,c,d,r,i,m,p,s,o,h,_,y,g]}class wh extends Ie{constructor(e){super(),ye(this,e,_h,vh,ve,{items:0,idKey:2,addDefaults:3,OrderableListOptions:4,selectedId:1})}}function xs(n){let e,t,i,r,o,s;function l(d,u){if(d[3].theme===Ee.Progress)return yh;if(d[3].theme===Ee.Simple)return kh}let a=l(n),c=a&&a(n);return{c(){e=k("div"),t=k("p"),i=k("span"),i.textContent="Heads up!",r=A(),c&&c.c(),f(i,"class","font-bold"),f(t,"class","alert-details svelte-uippqv"),f(e,"class","info-alert svelte-uippqv")},m(d,u){D(d,e,u),v(e,t),v(t,i),v(t,r),c&&c.m(t,null),s=!0},p(d,u){a!==(a=l(d))&&(c&&c.d(1),c=a&&a(d),c&&(c.c(),c.m(t,null)))},i(d){s||(he(()=>{s&&(o||(o=Ce(e,He,{},!0)),o.run(1))}),s=!0)},o(d){o||(o=Ce(e,He,{},!1)),o.run(0),s=!1},d(d){d&&S(e),c&&c.d(),d&&o&&o.end()}}}function kh(n){let e;return{c(){e=Y(`There are a lot of choices! The row will collapse into a vertical list
          of buttons instead, which may take up a lot of space.`)},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function yh(n){let e;return{c(){e=Y(`There are too many buttons to display in a row on mobile devices. The
          current item in the progress bar will show text, but all other buttons
          will be reduced to just an icon.`)},m(t,i){D(t,e,i)},d(t){t&&S(e)}}}function el(n){let e,t,i;return{c(){e=k("div"),e.innerHTML=`<p class="alert-details svelte-uippqv"><span class="font-bold">Warning:</span> The text in this row of buttons may
        be hard to read for some students. Consider using a darker colour to improve
        contrast against the white text.</p>`,f(e,"class","colour-alert svelte-uippqv")},m(r,o){D(r,e,o),i=!0},i(r){i||(he(()=>{i&&(t||(t=Ce(e,He,{},!0)),t.run(1))}),i=!0)},o(r){t||(t=Ce(e,He,{},!1)),t.run(0),i=!1},d(r){r&&S(e),r&&t&&t.end()}}}function Ih(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C;function L(P){n[21](P)}let E={title:"Row Theme",choices:Object.values(Ee),labels:Object.keys(Ee)};n[3].theme!==void 0&&(E.value=n[3].theme),p=new Lt({props:E}),ce.push(()=>Me(p,"value",L));let T=n[3].theme===Ee.Progress&&tl(n);function O(P){n[23](P)}let M={label:"Button Bar Colour",id:ke()+"-setting-background",contrastColour:te("#ffffff"),style:"wide",showNone:!1,asModal:n[0]};return n[3].color!==void 0&&(M.colour=n[3].color),g=new Ht({props:M}),ce.push(()=>Me(g,"colour",O)),{c(){e=k("div"),t=k("h3"),t.textContent="Button Bar",i=A(),r=k("p"),r.textContent=`Help people quickly navigate between pages and content that
                shows one after the other.`,o=A(),s=k("div"),l=k("button"),a=k("i"),c=Y(`
                  Sync from Modules`),d=A(),u=k("button"),u.innerHTML=`<i class="icon icon-add svelte-uippqv"></i>
                  Add new item`,m=A(),le(p.$$.fragment),_=A(),T&&T.c(),y=A(),le(g.$$.fragment),f(t,"class","svelte-uippqv"),f(r,"class","svelte-uippqv"),f(a,"class","icon icon-progress svelte-uippqv"),K(a,"motion-safe:animate-spin",n[5]),f(l,"class","btn btn-primary btn-small block mt-0 grow"),l.disabled=n[5],f(u,"class","btn btn-primary btn-small block mt-0 grow"),f(s,"class","flex flex-row gap-2 flex-wrap mt-2"),f(e,"class","card-body svelte-uippqv")},m(P,F){D(P,e,F),v(e,t),v(e,i),v(e,r),v(e,o),v(e,s),v(s,l),v(l,a),v(l,c),v(s,d),v(s,u),v(e,m),ie(p,e,null),v(e,_),T&&T.m(e,null),v(e,y),ie(g,e,null),w=!0,I||(C=[q(l,"click",n[19]),q(u,"click",n[20])],I=!0)},p(P,F){(!w||F&32)&&K(a,"motion-safe:animate-spin",P[5]),(!w||F&32)&&(l.disabled=P[5]);const V={};!h&&F&8&&(h=!0,V.value=P[3].theme,De(()=>h=!1)),p.$set(V),P[3].theme===Ee.Progress?T?T.p(P,F):(T=tl(P),T.c(),T.m(e,y)):T&&(T.d(1),T=null);const X={};F&1&&(X.asModal=P[0]),!b&&F&8&&(b=!0,X.colour=P[3].color,De(()=>b=!1)),g.$set(X)},i(P){w||(B(p.$$.fragment,P),B(g.$$.fragment,P),w=!0)},o(P){H(p.$$.fragment,P),H(g.$$.fragment,P),w=!1},d(P){P&&S(e),re(p),T&&T.d(),re(g),I=!1,pe(C)}}}function Ch(n){let e,t,i=n[3].items[n[28]].label+"",r,o,s,l,a,c,d,u,m,p,h,_,y,g,b,w,I,C,L,E,T,O,M;function P(){n[15].call(m,n[28])}function F(...R){return n[16](n[28],...R)}g=new ti({props:{id:ke()+"-setting-url",link:n[3].items[n[28]].url}}),g.$on("save",F);let V=n[3].items[n[28]].icon&&nl(n);function X(){return n[18](n[28])}return{c(){e=k("div"),t=k("h3"),r=Y(i),o=A(),s=k("button"),s.innerHTML=`Done
                <i class="icon icon-check svelte-uippqv"></i>`,l=A(),a=k("div"),c=k("div"),d=k("label"),d.textContent="Label",u=A(),m=k("input"),p=A(),h=k("div"),_=k("label"),_.textContent="URL",y=A(),le(g.$$.fragment),b=A(),w=k("button"),V&&V.c(),I=Y(`

                Select Icon`),C=A(),L=k("div"),E=k("button"),E.innerHTML=`<i class="icon icon-trash svelte-uippqv"></i>
                  Delete`,f(t,"class","card-title truncate svelte-uippqv"),f(s,"class","btn btn-text btn-small shrink-0"),f(e,"class","card-header svelte-uippqv"),f(d,"for",ke()+"-setting-label"),f(m,"type","text"),f(m,"id",ke()+"-setting-label"),f(m,"class","svelte-uippqv"),f(c,"class","form-group"),f(_,"for",ke()+"-setting-url"),f(h,"class","form-group"),f(w,"class","btn btn-secondary"),f(E,"class","btn btn-danger btn-small"),f(L,"class","text-right"),f(a,"class","card-body svelte-uippqv")},m(R,N){D(R,e,N),v(e,t),v(t,r),v(e,o),v(e,s),D(R,l,N),D(R,a,N),v(a,c),v(c,d),v(c,u),v(c,m),de(m,n[3].items[n[28]].label),v(a,p),v(a,h),v(h,_),v(h,y),ie(g,h,null),v(a,b),v(a,w),V&&V.m(w,null),v(w,I),v(a,C),v(a,L),v(L,E),T=!0,O||(M=[q(s,"click",n[14]),q(m,"input",P),q(w,"click",n[17]),q(E,"click",X)],O=!0)},p(R,N){n=R,(!T||N&268435464)&&i!==(i=n[3].items[n[28]].label+"")&&ge(r,i),N&268435464&&m.value!==n[3].items[n[28]].label&&de(m,n[3].items[n[28]].label);const W={};N&268435464&&(W.link=n[3].items[n[28]].url),g.$set(W),n[3].items[n[28]].icon?V?(V.p(n,N),N&268435464&&B(V,1)):(V=nl(n),V.c(),B(V,1),V.m(w,I)):V&&(oe(),H(V,1,1,()=>{V=null}),se())},i(R){T||(B(g.$$.fragment,R),B(V),T=!0)},o(R){H(g.$$.fragment,R),H(V),T=!1},d(R){R&&(S(e),S(l),S(a)),re(g),V&&V.d(),O=!1,pe(M)}}}function tl(n){let e,t,i,r,o,s;return{c(){e=k("p"),e.textContent="Adjust the progress of this page through the items here:",t=A(),i=k("input"),f(e,"class","svelte-uippqv"),f(i,"class","w-full progress-selector svelte-uippqv"),f(i,"type","range"),f(i,"min","-1"),f(i,"max",r=n[3].items.length-1),f(i,"step","1")},m(l,a){D(l,e,a),D(l,t,a),D(l,i,a),de(i,n[3].position),o||(s=[q(i,"change",n[22]),q(i,"input",n[22])],o=!0)},p(l,a){a&8&&r!==(r=l[3].items.length-1)&&f(i,"max",r),a&8&&de(i,l[3].position)},d(l){l&&(S(e),S(t),S(i)),o=!1,pe(s)}}}function nl(n){let e,t;return e=new et({props:{icon:n[3].items[n[28]].icon,colorOverride:"#000","}":!0}}),{c(){le(e.$$.fragment)},m(i,r){ie(e,i,r),t=!0},p(i,r){const o={};r&268435464&&(o.icon=i[3].items[i[28]].icon),e.$set(o)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function il(n){let e,t,i,r,o,s;const l=[Ch,Ih],a=[];function c(d,u){return d[28]>=0?0:1}return t=c(n),i=a[t]=l[t](n),{c(){e=k("div"),i.c(),f(e,"class","card svelte-uippqv")},m(d,u){D(d,e,u),a[t].m(e,null),s=!0},p(d,u){let m=t;t=c(d),t===m?a[t].p(d,u):(oe(),H(a[m],1,1,()=>{a[m]=null}),se(),i=a[t],i?i.p(d,u):(i=a[t]=l[t](d),i.c()),B(i,1),i.m(e,null))},i(d){s||(B(i),d&&he(()=>{s&&(o&&o.end(1),r=Xe(e,Se,{duration:150,delay:200}),r.start())}),s=!0)},o(d){H(i),r&&r.invalidate(),d&&(o=Zn(e,Se,{duration:150})),s=!1},d(d){d&&S(e),a[t].d(),d&&o&&o.end()}}}function Lh(n){let e,t=n[28],i,r=il(n);return{c(){e=k("div"),r.c(),f(e,"class","card-slot svelte-uippqv")},m(o,s){D(o,e,s),r.m(e,null),i=!0},p(o,s){s&268435456&&ve(t,t=o[28])?(oe(),H(r,1,1,z),se(),r=il(o),r.c(),B(r,1),r.m(e,null)):r.p(o,s)},i(o){i||(B(r),i=!0)},o(o){H(r),i=!1},d(o){o&&S(e),r.d(o)}}}function Bh(n){let e,t,i,r,o,s,l,a,c,d,u,m,p=n[7].length>5&&xs(n),h=!n[6]&&el();function _(b){n[24](b)}function y(b){n[25](b)}let g={OrderableListOptions:{canDelete:!0,canReorder:!0,canDeselect:!0},idKey:"moduleID",$$slots:{default:[Lh,({itemIndex:b})=>({28:b}),({itemIndex:b})=>b?268435456:0]},$$scope:{ctx:n}};return n[3].items!==void 0&&(g.items=n[3].items),n[1]!==void 0&&(g.selectedId=n[1]),s=new wh({props:g}),ce.push(()=>Me(s,"items",_)),ce.push(()=>Me(s,"selectedId",y)),{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="icon-end svelte-uippqv"></i>',i=A(),p&&p.c(),r=A(),h&&h.c(),o=A(),le(s.$$.fragment),f(t,"class","close svelte-uippqv"),f(t,"title","Close"),f(e,"class","cgb-component svelte-uippqv")},m(b,w){D(b,e,w),v(e,t),v(e,i),p&&p.m(e,null),v(e,r),h&&h.m(e,null),v(e,o),ie(s,e,null),n[26](e),d=!0,u||(m=q(t,"click",n[13]),u=!0)},p(b,[w]){b[7].length>5?p?(p.p(b,w),w&128&&B(p,1)):(p=xs(b),p.c(),B(p,1),p.m(e,r)):p&&(oe(),H(p,1,1,()=>{p=null}),se()),b[6]?h&&(oe(),H(h,1,1,()=>{h=null}),se()):h?w&64&&B(h,1):(h=el(),h.c(),B(h,1),h.m(e,o));const I={};w&805306667&&(I.$$scope={dirty:w,ctx:b}),!l&&w&8&&(l=!0,I.items=b[3].items,De(()=>l=!1)),!a&&w&2&&(a=!0,I.selectedId=b[1],De(()=>a=!1)),s.$set(I)},i(b){d||(B(p),B(h),B(s.$$.fragment,b),c||he(()=>{c=Xe(e,Se,{duration:200}),c.start()}),d=!0)},o(b){H(p),H(h),H(s.$$.fragment,b),d=!1},d(b){b&&S(e),p&&p.d(),h&&h.d(),re(s),n[26](null),u=!1,m()}}}function Th(n,e,t){let i,r,o,s,l,a,c,d=z,u=()=>(d(),d=Be(r,W=>t(3,c=W)),r);n.$$.on_destroy.push(()=>d());let{props:m}=e,{isModal:p=!1}=e,h,_;const y=new $t({target:document.body,props:{options:{editColor:!1}}});y.$on("selectIcon",({detail:W})=>{y.close(),!(o===void 0||!c.items[o])&&_e(r,c.items[o].icon={id:W.icon.i,type:W.type},c)}),Ue(()=>{y.$destroy()});function g(){c.items.push({moduleID:ke(),label:"New Item",url:"#",icon:void 0}),t(1,h=c.items[c.items.length-1].moduleID),r.set(c)}let b=!1;const w=()=>{i.deselectAll()},I=()=>{t(1,h=void 0)};function C(W){c.items[W].label=this.value,r.set(c)}const L=(W,Q)=>{_e(r,c.items[W].url=Q.detail.link,c)},E=()=>{y.open()},T=W=>{_e(r,c.items=c.items.filter((Q,G)=>G!==W),c)},O=async()=>{t(5,b=!0),await Pi.syncModules(r),t(5,b=!1)},M=()=>{g()};function P(W){n.$$.not_equal(c.theme,W)&&(c.theme=W,r.set(c))}function F(){c.position=Ye(this.value),r.set(c)}function V(W){n.$$.not_equal(c.color,W)&&(c.color=W,r.set(c))}function X(W){n.$$.not_equal(c.items,W)&&(c.items=W,r.set(c))}function R(W){h=W,t(1,h)}function N(W){ce[W?"unshift":"push"](()=>{_=W,t(4,_)})}return n.$$set=W=>{"props"in W&&t(11,m=W.props),"isModal"in W&&t(0,p=W.isModal)},n.$$.update=()=>{n.$$.dirty&2048&&t(2,i=m.buttonBar),n.$$.dirty&4&&u(t(8,r=i.SvelteState)),n.$$.dirty&10&&(o=h!==void 0?Pi.getItemIndex(c,h):void 0),n.$$.dirty&8&&t(7,s=c.items.filter(W=>W.hide!==!0)),n.$$.dirty&8&&t(12,l=c.color?c.color.contrast(te("#ffffff")):!0),n.$$.dirty&4096&&t(6,a=l===!0||l===void 0||l&&l>=7)},[p,h,i,c,_,b,a,s,r,y,g,m,l,w,I,C,L,E,T,O,M,P,F,V,X,R,N]}class Eh extends Ie{constructor(e){super(),ye(this,e,Th,Bh,ve,{props:11,isModal:0})}}var Ee=(n=>(n.Progress="progress",n.Simple="simple",n))(Ee||{});const Sh=Object.values(Ee),_i="progress";var na=(n=>(n.Before="moduleProgress--before",n.Current="moduleProgress--current",n.After="moduleProgress--after",n))(na||{});Object.values(na);var sl;const Dh=(sl=window.ENV)==null?void 0:sl.COURSE_ID;async function Mh(){if(!Dh)return{items:[],modules:[]};const n=new Zl(void 0,!0),e=await ue(n.data);return{items:e.filter(t=>t.published).map((t,i)=>({moduleID:t.id,label:t.name,url:t.url})),modules:e}}const Yn=class Yn{constructor(e,t){this.state=we(),this.set=this.state.set,this.update=this.state.update,this.subscribe=this.state.subscribe;let i={...Yn.defaultState,items:[]};if(e){let r=Sh.includes(e.theme)?e.theme:_i;i.theme=r||_i,i.color=e.color?te(e.color):te(ze.primary),i.position=e.position||0;const o=t==null?void 0:t.querySelectorAll(".buttonBar > a");e.items&&o&&e.items.forEach((s,l)=>{var d;let a={moduleID:s.moduleID,label:s.label||`Module ${l+1}`,url:"",icon:void 0,hide:!!s.hide};a.url=((d=o[l])==null?void 0:d.href)||"",a.icon=Jt(s.icon);const c=i.items.findIndex(u=>u.moduleID===a.moduleID);c>-1?i.items[c]=a:i.items.push(a)})}this.state.set(i)}get stateString(){const e=ue(this.state),{items:t,color:i,...r}=e;return JSON.stringify({...r,items:t.map(({url:o,...s})=>({...s})),color:i==null?void 0:i.toHex()})}};Yn.defaultState={theme:_i,color:te(ze.primary),position:0,items:[]};let Hi=Yn;class Pi extends bt{constructor(e,t=window.tinymce.activeEditor,i,r,o=ke(),s=!1){super(t,i,r,ph,Hi,o,s),this.state=e,this.editor=t,this.manager=i,this.node=r,this.id=o,this.selectionMethod="clickTinyMCE",this.attributes=new Map([]),this.defaultClasses=new Set(["CDB--ButtonBar"]),this.popover=this.setupPopover(Eh,{buttonBar:this},"top",{shift:{crossAxis:!0},autoPlacement:{allowedPlacements:["top","bottom"]},offset:15},{showArrow:!0}),this.isSelected.subscribe(l=>{l?!this.popover.isActive&&this.popover.show():this.popover.isActive&&this.popover.hide()}),this.setupObserver()}static getItemIndex(e,t){return e.items.findIndex(i=>i.moduleID===t)}static import(e,t,i,r){return new this(e,r,i,t)}static create(e,t,i,r,o){const s=this.createInsertNode(i,r),l=new this(e,r,t,s);return this.syncModules(l.SvelteState),l}static async syncModules(e){const{items:t,modules:i}=await Mh();e.update(r=>{var l,a;const o=(a=(l=window.ENV)==null?void 0:l.WIKI_PAGE)==null?void 0:a.url;if(!o)return r;const s=i.findIndex(c=>{var u;return(u=c.items)==null?void 0:u.find(m=>o&&m.page_url===o&&m.published)});return s>-1&&(r.position===void 0||r.position===-1)&&(r.position=s),r.items=t.map(c=>{const d=r.items.find(u=>u.moduleID===c.moduleID);return d?(d.label=c.label,d.url=c.url,d):c}),r})}}const Ah='.DesignBlocks--ButtonBar{z-index:0;position:relative;container-type:inline-size}.DesignBlocks--ButtonBar:hover{z-index:10}.DesignBlocks--ButtonBar .buttonBar{--tw-bg-opacity:1;background-color:rgba(242,242,242,var(--tw-bg-opacity));text-align:center;--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity));border-radius:.25rem;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column;align-items:stretch;width:100%;margin-bottom:.5rem;font-size:1rem;line-height:1.5rem;display:grid;position:relative;overflow:clip}.DesignBlocks--ButtonBar .buttonBar.buttonBar--simple{flex-flow:wrap;gap:1px;display:flex}.DesignBlocks--ButtonBar .buttonBar.buttonBar--simple:before{background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-bg-opacity:.2;content:"";border-radius:.25rem;transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);position:absolute;top:0;bottom:0;left:0;right:0}.DesignBlocks--ButtonBar .buttonBar.buttonBar--simple .buttonBar--step{flex-basis:0}.DesignBlocks--ButtonBar .buttonBar.buttonBar--simple .buttonBar--step:after{background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-bg-opacity:0;content:"";border-radius:.25rem;transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);position:absolute;top:0;bottom:0;left:0;right:0}.DesignBlocks--ButtonBar .buttonBar.buttonBar--simple .buttonBar--step:hover:after,.DesignBlocks--ButtonBar .buttonBar.buttonBar--simple .buttonBar--step:focus:after{--tw-bg-opacity:.1}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress{overflow:visible}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress .buttonBar--step:first-child{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress .buttonBar--step:last-child{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step{flex-grow:1;flex-shrink:1;padding:.25rem 1rem;position:relative;text-decoration:none!important}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step:after{--tw-bg-opacity:1;background-color:rgba(190,195,196,var(--tw-bg-opacity));--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 transparent);--tw-ring-opacity:1;--tw-ring-color:rgba(255,255,255,var(--tw-ring-opacity));--tw-scale-x:.75;--tw-scale-y:.75;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));opacity:0;content:"";border-radius:9999px;width:.5rem;height:.5rem;margin-left:auto;margin-right:auto;transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter,backdrop-filter,-webkit-backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);position:absolute;bottom:-.25rem;left:0;right:0}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step:hover:after,.DesignBlocks--ButtonBar .buttonBar .buttonBar--step:focus:after{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));opacity:1}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step.moduleProgress--current{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem;position:relative}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step.moduleProgress--current:after{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y));background-color:inherit;opacity:1}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step.moduleProgress--current:hover:after,.DesignBlocks--ButtonBar .buttonBar .buttonBar--step.moduleProgress--current:focus:after{--tw-translate-y:100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step .buttonBar--label{--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity));width:100%}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step .buttonBar--label .Module--info{flex-direction:row;justify-content:center;align-items:center;gap:.5rem;height:100%;transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter,backdrop-filter,-webkit-backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:flex}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step .buttonBar--label .Module--info .Module--icon{flex-shrink:0}.DesignBlocks--ButtonBar .buttonBar .buttonBar--step .buttonBar--label .Module--info .Module--label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@container (width<50em){.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing{flex-flow:row;display:flex}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .buttonBar--step{flex-shrink:1;width:20%}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .buttonBar--step .Module--info{flex-direction:column;gap:0}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--before,.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--after{width:unset}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--before .Module--label,.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--after .Module--label{pointer-events:none;--tw-bg-opacity:1;background-color:rgba(101,163,13,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));opacity:0;--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);border-radius:.25rem;width:100vw;max-width:-moz-max-content;max-width:max-content;margin-top:.125rem;margin-left:auto;margin-right:auto;padding-left:.5rem;padding-right:.5rem;transition-property:color,background-color,border-color,-webkit-text-decoration-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter,backdrop-filter,-webkit-backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);position:absolute;top:100%;left:0;right:0}.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--before:hover .Module--label,.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--after:hover .Module--label,.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--before:focus .Module--label,.DesignBlocks--ButtonBar .buttonBar.buttonBar--progress.buttonBar--overflowing .moduleProgress--after:focus .Module--label{pointer-events:auto;opacity:1}}.DesignBlocks--ButtonBar .no-published{cursor:pointer;--tw-border-opacity:1;border-style:dashed;border-width:2px;border-color:rgba(217,217,217,var(--tw-border-opacity));text-align:center;--tw-text-opacity:1;color:rgba(74,74,76,var(--tw-text-opacity));border-radius:.375rem;padding:1rem;font-size:1rem;line-height:1.5rem}';class Hh extends Ot{constructor(e,t=window.tinymce.activeEditor){super(e,t,Ah),this.state=e,this.editor=t,this.elementClass=Pi,this.selector=".CDB--ButtonBar[data-cdb-version]",this.elementName="Button Bar",this.icon="Internal.steps",this.importAll()}}function Ph(n){let e;return{c(){e=k("span"),e.textContent="",f(e,"class","iconPlaceholder")},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function Oh(n){var i;let e,t;return e=new et({props:{icon:n[0].icon,colorOverride:(i=n[0].color)==null?void 0:i.toHex()}}),{c(){le(e.$$.fragment)},m(r,o){ie(e,r,o),t=!0},p(r,o){var l;const s={};o&1&&(s.icon=r[0].icon),o&1&&(s.colorOverride=(l=r[0].color)==null?void 0:l.toHex()),e.$set(s)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Nh(n){let e,t,i,r,o;const s=[Oh,Ph],l=[];function a(c,d){return c[0].icon?0:1}return t=a(n),i=l[t]=s[t](n),{c(){e=k("span"),i.c(),f(e,"class",r="DesignBlocks--Icon "+n[0].theme)},m(c,d){D(c,e,d),l[t].m(e,null),o=!0},p(c,[d]){let u=t;t=a(c),t===u?l[t].p(c,d):(oe(),H(l[u],1,1,()=>{l[u]=null}),se(),i=l[t],i?i.p(c,d):(i=l[t]=s[t](c),i.c()),B(i,1),i.m(e,null)),(!o||d&1&&r!==(r="DesignBlocks--Icon "+c[0].theme))&&f(e,"class",r)},i(c){o||(B(i),o=!0)},o(c){H(i),o=!1},d(c){c&&S(e),l[t].d()}}}function zh(n,e,t){Re();let{cdbData:i}=e,{localState:r}=e,{destroyHandler:o}=e;return Ue(()=>{o()}),n.$$set=s=>{"cdbData"in s&&t(0,i=s.cdbData),"localState"in s&&t(1,r=s.localState),"destroyHandler"in s&&t(2,o=s.destroyHandler)},[i,r,o]}let Rh=class extends Ie{constructor(e){super(),ye(this,e,zh,Nh,ve,{cdbData:0,localState:1,destroyHandler:2})}};function qh(n){let e;return{c(){e=k("span"),e.textContent="?"},m(t,i){D(t,e,i)},p:z,i:z,o:z,d(t){t&&S(e)}}}function jh(n){var i;let e,t;return e=new et({props:{icon:n[1].icon,colorOverride:(i=n[1].color)==null?void 0:i.toHex()}}),{c(){le(e.$$.fragment)},m(r,o){ie(e,r,o),t=!0},p(r,o){var l;const s={};o&2&&(s.icon=r[1].icon),o&2&&(s.colorOverride=(l=r[1].color)==null?void 0:l.toHex()),e.$set(s)},i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function rl(n){let e,t=n[2].c+"",i,r,o=n[2].n+"",s;return{c(){e=k("p"),i=Y(t),r=Y(": "),s=Y(o),f(e,"class","text-center text-xs")},m(l,a){D(l,e,a),v(e,i),v(e,r),v(e,s)},p(l,a){a&4&&t!==(t=l[2].c+"")&&ge(i,t),a&4&&o!==(o=l[2].n+"")&&ge(s,o)},d(l){l&&S(e)}}}function Fh(n){let e,t,i,r,o,s,l,a,c,d,u,m,p,h,_,y,g,b;a=new Xl({props:{icons:Un,targetNode:n[0].node,options:{editColor:!0,card:!1,maxHeight:"60vh"},asModal:!0}}),a.$on("colorChange",n[6]),a.$on("selectIcon",n[7]);const w=[jh,qh],I=[];function C(E,T){return E[1].icon?0:1}m=C(n),p=I[m]=w[m](n);let L=n[2]&&rl(n);return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="icon-end svelte-17c2a19"></i>',i=A(),r=k("div"),o=k("div"),s=k("div"),l=k("div"),le(a.$$.fragment),c=A(),d=k("div"),u=k("div"),p.c(),h=A(),L&&L.c(),f(t,"class","close svelte-17c2a19"),f(t,"title","Close"),f(l,"class","iconListContainer"),f(s,"class","col flex-grow flex-shrink"),f(u,"class","icon-preview svelte-17c2a19"),f(d,"class","col w-24 p-2 flex-shrink-0"),f(o,"class","flex gap-4 justify-center"),f(r,"class","main"),f(e,"class","cgb-component svelte-17c2a19")},m(E,T){D(E,e,T),v(e,t),v(e,i),v(e,r),v(r,o),v(o,s),v(s,l),ie(a,l,null),v(o,c),v(o,d),v(d,u),I[m].m(u,null),v(d,h),L&&L.m(d,null),y=!0,g||(b=q(t,"click",n[5]),g=!0)},p(E,[T]){const O={};T&1&&(O.targetNode=E[0].node),a.$set(O);let M=m;m=C(E),m===M?I[m].p(E,T):(oe(),H(I[M],1,1,()=>{I[M]=null}),se(),p=I[m],p?p.p(E,T):(p=I[m]=w[m](E),p.c()),B(p,1),p.m(u,null)),E[2]?L?L.p(E,T):(L=rl(E),L.c(),L.m(d,null)):L&&(L.d(1),L=null)},i(E){y||(B(a.$$.fragment,E),B(p),_||he(()=>{_=Xe(e,Se,{duration:200}),_.start()}),y=!0)},o(E){H(a.$$.fragment,E),H(p),y=!1},d(E){E&&S(e),re(a),I[m].d(),L&&L.d(),g=!1,b()}}}function Vh(n,e,t){let i,r,o,s,l=z,a=()=>(l(),l=Be(r,h=>t(1,s=h)),r);n.$$.on_destroy.push(()=>l());let{props:c}=e;const d=new $t({target:document.body,props:{options:{editColor:!1}}});d.$on("selectIcon",({detail:h})=>{d.close(),_e(r,s.icon={id:h.icon.i,type:h.type},s)}),Ue(()=>{d.$destroy()});const u=()=>{i.deselectAll()},m=({detail:h})=>{h.color&&_e(r,s.color=te(h.color),s)},p=({detail:h})=>{_e(r,s.icon={id:h.icon.i,type:h.type},s),h.color&&_e(r,s.color=te(h.color),s),i.deselectAll()};return n.$$set=h=>{"props"in h&&t(4,c=h.props)},n.$$.update=()=>{n.$$.dirty&16&&t(0,i=c.icon),n.$$.dirty&1&&a(t(3,r=i.SvelteState)),n.$$.dirty&2&&t(2,o=s.icon?Wl(s.icon):void 0)},[i,s,o,r,c,u,m,p]}class Uh extends Ie{constructor(e){super(),ye(this,e,Vh,Fh,ve,{props:4})}}var ia=(n=>(n.Default="Icon--default",n))(ia||{});const Wh=Object.values(ia),kn="Icon--default",sn=class sn{constructor(e,t){this.staticAttributes={"data-cdb-version":bt.markupVersion},this.state=we(),this.set=this.state.set,this.update=this.state.update,this.subscribe=this.state.subscribe;let i={theme:kn,color:te(ze.primary),icon:void 0};if(e){i={theme:(Wh.includes(e.theme)?e.theme:kn)||kn,color:sn.defaultState.color,icon:void 0},i.color=e.color?te(e.color):sn.defaultState.color;let o=Jt(e.icon);i.icon=o}this.state.set(i)}get stateString(){const e=ue(this.state),{color:t,...i}=e;return JSON.stringify({...i,color:t==null?void 0:t.toHex()})}};sn.defaultState={theme:kn,color:te(ze.primary),icon:void 0};let Oi=sn;class Gh extends bt{constructor(e,t=window.tinymce.activeEditor,i,r,o=ke(),s=!1){super(t,i,r,Rh,Oi,o,s),this.state=e,this.editor=t,this.manager=i,this.node=r,this.id=o,this.selectionMethod="clickTinyMCE",this.attributes=new Map([]),this.defaultClasses=new Set(["CDB--Icon"]),this.popover=this.setupPopover(Uh,{icon:this},"top",{shift:{crossAxis:!0},autoPlacement:{allowedPlacements:["top","bottom","right"]},offset:15},{showArrow:!0}),this.isSelected.subscribe(l=>{l?!this.popover.isActive&&this.popover.show():this.popover.isActive&&this.popover.hide()}),this.setupObserver()}static import(e,t,i,r){return new this(e,r,i,t)}static create(e,t,i,r,o){const s=r.selection.getNode();if(r.dom.isEmpty(s)){const c=r.dom.create("h2",{},"&nbsp;");r.dom.insertAfter(c,s),r.dom.remove(s),r.selection.select(c.childNodes[0]),r.selection.collapse(!0)}const l=this.createInsertNode(i,r,!0);r.selection.collapse(!1);const a=new this(e,r,t,l);return a.select(),a}}const Xh=".CDB--Icon,.DesignBlocks--Icon{display:inline}@keyframes pulse{50%{opacity:.5}}#tinymce .iconPlaceholder{--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 transparent);--tw-ring-opacity:1;--tw-ring-color:rgba(2,132,199,var(--tw-ring-opacity));border-radius:9999px;width:.7em;height:.7em;margin-left:.25rem;margin-right:.25rem;line-height:.7em;animation:2s cubic-bezier(.4,0,.6,1) infinite pulse;display:inline-block}";class Yh extends Ot{constructor(e,t=window.tinymce.activeEditor){super(e,t,Xh),this.state=e,this.editor=t,this.elementClass=Gh,this.selector=".CDB--Icon[data-cdb-version]",this.elementName="Icon",this.icon="Canvas.button-and-icon-maker",this.importAll()}}const yn={showInterface:we(!1),configComponent:we(null)};let wi=0,Gn=!1;const ra=()=>new Promise((n,e)=>{var t,i,r;!window.tinymce||((i=(t=window.tinymce)==null?void 0:t.activeEditor)==null?void 0:i.getBody())===null?setTimeout(()=>{wi++,wi<10?n(ra()):e("Could not find TinyMCE editor")},50*Math.pow(1.8,wi-1)):(r=window.tinymce)!=null&&r.activeEditor?(Gn=!0,n(window.tinymce.activeEditor)):window.tinymce.on("AddEditor",({editor:o})=>{o.on("init",()=>{Gn=!0,n(o)})})}),Kh=n=>{const e=document.querySelector("#left-side #section-tabs");if(!e)return;const t=document.createElement("li");return t.classList.add("section"),e.insertAdjacentElement("afterbegin",t),new Fa({target:t,props:n})};let rn=[];const Ni=async()=>{document.querySelector("div[data-cdb-version]")&&Cn("event","design_blocks_viewer",{event_category:"Design Blocks",cdb_version:Mt});const n=await ra().catch(r=>(console.error(r),null));if(!n)return;rn=[Hh,zf,zd,sh,Yh,pm,Pm].map(r=>new r(yn,n)),new lh(yn,n,rn[2]);const t=Kh({state:yn,managers:rn}),i=n.getDoc().createElement("style");i.innerHTML=Ca+Ia,n.getBody().insertAdjacentElement("beforebegin",i),yn.showInterface.subscribe(r=>{r?document.body.classList.add("cdb-toolbar-open"):document.body.classList.remove("cdb-toolbar-open")}),n.getContainer().addEventListener("dragover",r=>{}),n.on("drop",r=>{const{dataTransfer:o}=r;if(o!=null&&o.types.includes("cdb-element/name")){n.focus();const s=o.getData("cdb-element/name"),l=o.getData("cdb-element/id"),a=rn.find(c=>c.elementName===s);a&&s&&l&&setTimeout(()=>{const c=n.dom.doc.getElementById(l);c&&(n.selection.select(c),n.selection.collapse(!1),a.create(!0),c.remove())},50)}},!0),n.on("detach",()=>{console.log("Editor removed"),t==null||t.$destroy(),setTimeout(()=>{Ni()},100)}),window._UNLOAD_DESIGNBLOCKS=()=>Gn?(console.log("Unloading app: 2.11.2"),t==null||t.$destroy(),rn.forEach(r=>r.detatch()),Gn=!1,!0):!1},Qh=()=>{if(!window._LOADED_DESIGNBLOCKS||_l(window._LOADED_DESIGNBLOCKS,Mt)<0&&window._UNLOAD_DESIGNBLOCKS!==void 0){if(window._LOADED_DESIGNBLOCKS&&window._UNLOAD_DESIGNBLOCKS&&!window._UNLOAD_DESIGNBLOCKS()){console.log("DesignBlocks failed to unload");return}switch(window._LOADED_DESIGNBLOCKS=Mt,document.readyState){case"loading":window.addEventListener("DOMContentLoaded",Ni);break;case"interactive":case"complete":Ni();break}}else console.log("App already loaded")};Qh();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
